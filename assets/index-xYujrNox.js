(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Op(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function o0(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var kf={exports:{}},fl={},Rf={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function a0(){if(qy)return Pe;qy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function A(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,D={};function k(j,J,me){this.props=j,this.context=J,this.refs=D,this.updater=me||I}k.prototype.isReactComponent={},k.prototype.setState=function(j,J){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,J,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function V(){}V.prototype=k.prototype;function U(j,J,me){this.props=j,this.context=J,this.refs=D,this.updater=me||I}var q=U.prototype=new V;q.constructor=U,P(q,k.prototype),q.isPureReactComponent=!0;var G=Array.isArray,re=Object.prototype.hasOwnProperty,he={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(j,J,me){var Re,Ce={},Le=null,Be=null;if(J!=null)for(Re in J.ref!==void 0&&(Be=J.ref),J.key!==void 0&&(Le=""+J.key),J)re.call(J,Re)&&!x.hasOwnProperty(Re)&&(Ce[Re]=J[Re]);var ze=arguments.length-2;if(ze===1)Ce.children=me;else if(1<ze){for(var We=Array(ze),kt=0;kt<ze;kt++)We[kt]=arguments[kt+2];Ce.children=We}if(j&&j.defaultProps)for(Re in ze=j.defaultProps,ze)Ce[Re]===void 0&&(Ce[Re]=ze[Re]);return{$$typeof:n,type:j,key:Le,ref:Be,props:Ce,_owner:he.current}}function R(j,J){return{$$typeof:n,type:j.type,key:J,ref:j.ref,props:j.props,_owner:j._owner}}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function L(j){var J={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(me){return J[me]})}var F=/\/+/g;function b(j,J){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):J.toString(36)}function nt(j,J,me,Re,Ce){var Le=typeof j;(Le==="undefined"||Le==="boolean")&&(j=null);var Be=!1;if(j===null)Be=!0;else switch(Le){case"string":case"number":Be=!0;break;case"object":switch(j.$$typeof){case n:case e:Be=!0}}if(Be)return Be=j,Ce=Ce(Be),j=Re===""?"."+b(Be,0):Re,G(Ce)?(me="",j!=null&&(me=j.replace(F,"$&/")+"/"),nt(Ce,J,me,"",function(kt){return kt})):Ce!=null&&(O(Ce)&&(Ce=R(Ce,me+(!Ce.key||Be&&Be.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+j)),J.push(Ce)),1;if(Be=0,Re=Re===""?".":Re+":",G(j))for(var ze=0;ze<j.length;ze++){Le=j[ze];var We=Re+b(Le,ze);Be+=nt(Le,J,me,We,Ce)}else if(We=A(j),typeof We=="function")for(j=We.call(j),ze=0;!(Le=j.next()).done;)Le=Le.value,We=Re+b(Le,ze++),Be+=nt(Le,J,me,We,Ce);else if(Le==="object")throw J=String(j),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Be}function mt(j,J,me){if(j==null)return j;var Re=[],Ce=0;return nt(j,Re,"","",function(Le){return J.call(me,Le,Ce++)}),Re}function gt(j){if(j._status===-1){var J=j._result;J=J(),J.then(function(me){(j._status===0||j._status===-1)&&(j._status=1,j._result=me)},function(me){(j._status===0||j._status===-1)&&(j._status=2,j._result=me)}),j._status===-1&&(j._status=0,j._result=J)}if(j._status===1)return j._result.default;throw j._result}var Fe={current:null},ie={transition:null},ye={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:he};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:mt,forEach:function(j,J,me){mt(j,function(){J.apply(this,arguments)},me)},count:function(j){var J=0;return mt(j,function(){J++}),J},toArray:function(j){return mt(j,function(J){return J})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Pe.Component=k,Pe.Fragment=t,Pe.Profiler=s,Pe.PureComponent=U,Pe.StrictMode=r,Pe.Suspense=f,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Pe.act=ae,Pe.cloneElement=function(j,J,me){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Re=P({},j.props),Ce=j.key,Le=j.ref,Be=j._owner;if(J!=null){if(J.ref!==void 0&&(Le=J.ref,Be=he.current),J.key!==void 0&&(Ce=""+J.key),j.type&&j.type.defaultProps)var ze=j.type.defaultProps;for(We in J)re.call(J,We)&&!x.hasOwnProperty(We)&&(Re[We]=J[We]===void 0&&ze!==void 0?ze[We]:J[We])}var We=arguments.length-2;if(We===1)Re.children=me;else if(1<We){ze=Array(We);for(var kt=0;kt<We;kt++)ze[kt]=arguments[kt+2];Re.children=ze}return{$$typeof:n,type:j.type,key:Ce,ref:Le,props:Re,_owner:Be}},Pe.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Pe.createElement=S,Pe.createFactory=function(j){var J=S.bind(null,j);return J.type=j,J},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(j){return{$$typeof:d,render:j}},Pe.isValidElement=O,Pe.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:gt}},Pe.memo=function(j,J){return{$$typeof:p,type:j,compare:J===void 0?null:J}},Pe.startTransition=function(j){var J=ie.transition;ie.transition={};try{j()}finally{ie.transition=J}},Pe.unstable_act=ae,Pe.useCallback=function(j,J){return Fe.current.useCallback(j,J)},Pe.useContext=function(j){return Fe.current.useContext(j)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(j){return Fe.current.useDeferredValue(j)},Pe.useEffect=function(j,J){return Fe.current.useEffect(j,J)},Pe.useId=function(){return Fe.current.useId()},Pe.useImperativeHandle=function(j,J,me){return Fe.current.useImperativeHandle(j,J,me)},Pe.useInsertionEffect=function(j,J){return Fe.current.useInsertionEffect(j,J)},Pe.useLayoutEffect=function(j,J){return Fe.current.useLayoutEffect(j,J)},Pe.useMemo=function(j,J){return Fe.current.useMemo(j,J)},Pe.useReducer=function(j,J,me){return Fe.current.useReducer(j,J,me)},Pe.useRef=function(j){return Fe.current.useRef(j)},Pe.useState=function(j){return Fe.current.useState(j)},Pe.useSyncExternalStore=function(j,J,me){return Fe.current.useSyncExternalStore(j,J,me)},Pe.useTransition=function(){return Fe.current.useTransition()},Pe.version="18.3.1",Pe}var Hy;function Np(){return Hy||(Hy=1,Rf.exports=a0()),Rf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function l0(){if(Wy)return fl;Wy=1;var n=Np(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var _,w={},A=null,I=null;p!==void 0&&(A=""+p),f.key!==void 0&&(A=""+f.key),f.ref!==void 0&&(I=f.ref);for(_ in f)r.call(f,_)&&!a.hasOwnProperty(_)&&(w[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)w[_]===void 0&&(w[_]=f[_]);return{$$typeof:e,type:d,key:A,ref:I,props:w,_owner:s.current}}return fl.Fragment=t,fl.jsx=u,fl.jsxs=u,fl}var Ky;function u0(){return Ky||(Ky=1,kf.exports=l0()),kf.exports}var Y=u0(),z=Np();const Ze=Op(z);var bc={},Cf={exports:{}},cn={},Pf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function c0(){return Gy||(Gy=1,function(n){function e(ie,ye){var ae=ie.length;ie.push(ye);e:for(;0<ae;){var j=ae-1>>>1,J=ie[j];if(0<s(J,ye))ie[j]=ye,ie[ae]=J,ae=j;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ye=ie[0],ae=ie.pop();if(ae!==ye){ie[0]=ae;e:for(var j=0,J=ie.length,me=J>>>1;j<me;){var Re=2*(j+1)-1,Ce=ie[Re],Le=Re+1,Be=ie[Le];if(0>s(Ce,ae))Le<J&&0>s(Be,Ce)?(ie[j]=Be,ie[Le]=ae,j=Le):(ie[j]=Ce,ie[Re]=ae,j=Re);else if(Le<J&&0>s(Be,ae))ie[j]=Be,ie[Le]=ae,j=Le;else break e}}return ye}function s(ie,ye){var ae=ie.sortIndex-ye.sortIndex;return ae!==0?ae:ie.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],_=1,w=null,A=3,I=!1,P=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ie){for(var ye=t(p);ye!==null;){if(ye.callback===null)r(p);else if(ye.startTime<=ie)r(p),ye.sortIndex=ye.expirationTime,e(f,ye);else break;ye=t(p)}}function G(ie){if(D=!1,q(ie),!P)if(t(f)!==null)P=!0,gt(re);else{var ye=t(p);ye!==null&&Fe(G,ye.startTime-ie)}}function re(ie,ye){P=!1,D&&(D=!1,V(S),S=-1),I=!0;var ae=A;try{for(q(ye),w=t(f);w!==null&&(!(w.expirationTime>ye)||ie&&!L());){var j=w.callback;if(typeof j=="function"){w.callback=null,A=w.priorityLevel;var J=j(w.expirationTime<=ye);ye=n.unstable_now(),typeof J=="function"?w.callback=J:w===t(f)&&r(f),q(ye)}else r(f);w=t(f)}if(w!==null)var me=!0;else{var Re=t(p);Re!==null&&Fe(G,Re.startTime-ye),me=!1}return me}finally{w=null,A=ae,I=!1}}var he=!1,x=null,S=-1,R=5,O=-1;function L(){return!(n.unstable_now()-O<R)}function F(){if(x!==null){var ie=n.unstable_now();O=ie;var ye=!0;try{ye=x(!0,ie)}finally{ye?b():(he=!1,x=null)}}else he=!1}var b;if(typeof U=="function")b=function(){U(F)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,mt=nt.port2;nt.port1.onmessage=F,b=function(){mt.postMessage(null)}}else b=function(){k(F,0)};function gt(ie){x=ie,he||(he=!0,b())}function Fe(ie,ye){S=k(function(){ie(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){P||I||(P=!0,gt(re))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ie){switch(A){case 1:case 2:case 3:var ye=3;break;default:ye=A}var ae=A;A=ye;try{return ie()}finally{A=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=A;A=ie;try{return ye()}finally{A=ae}},n.unstable_scheduleCallback=function(ie,ye,ae){var j=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?j+ae:j):ae=j,ie){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,ie={id:_++,callback:ye,priorityLevel:ie,startTime:ae,expirationTime:J,sortIndex:-1},ae>j?(ie.sortIndex=ae,e(p,ie),t(f)===null&&ie===t(p)&&(D?(V(S),S=-1):D=!0,Fe(G,ae-j))):(ie.sortIndex=J,e(f,ie),P||I||(P=!0,gt(re))),ie},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ie){var ye=A;return function(){var ae=A;A=ye;try{return ie.apply(this,arguments)}finally{A=ae}}}}(bf)),bf}var Qy;function h0(){return Qy||(Qy=1,Pf.exports=c0()),Pf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function d0(){if(Jy)return cn;Jy=1;var n=Np(),e=h0();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function A(i){return f.call(w,i)?!0:f.call(_,i)?!1:p.test(i)?w[i]=!0:(_[i]=!0,!1)}function I(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,l,h){if(o===null||typeof o>"u"||I(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,l,h,m,y,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];k[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(V,U);k[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(V,U);k[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(V,U);k[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function q(i,o,l,h){var m=k.hasOwnProperty(o)?k[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,l,m,h)&&(l=null),h||m===null?A(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),he=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),mt=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ye(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,j;function J(i){if(j===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return`
`+j+i}var me=!1;function Re(i,o){if(!i||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var h=W}Reflect.construct(i,[],o)}else{try{o.call()}catch(W){h=W}i.call(o.prototype)}else{try{throw Error()}catch(W){h=W}i()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),y=h.stack.split(`
`),E=m.length-1,C=y.length-1;1<=E&&0<=C&&m[E]!==y[C];)C--;for(;1<=E&&0<=C;E--,C--)if(m[E]!==y[C]){if(E!==1||C!==1)do if(E--,C--,0>C||m[E]!==y[C]){var N=`
`+m[E].replace(" at new "," at ");return i.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",i.displayName)),N}while(1<=E&&0<=C);break}}}finally{me=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?J(i):""}function Ce(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case he:return"Portal";case R:return"Profiler";case S:return"StrictMode";case b:return"Suspense";case nt:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case F:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case mt:return o=i.displayName||null,o!==null?o:Le(i.type)||"Memo";case gt:o=i._payload,i=i._init;try{return Le(i(o))}catch{}}return null}function Be(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ze(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kt(i){var o=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ar(i){i._valueTracker||(i._valueTracker=kt(i))}function Ws(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=We(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Yi(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Ks(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=ze(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function va(i,o){o=o.checked,o!=null&&q(i,"checked",o,!1)}function wa(i,o){va(i,o);var l=ze(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Gs(i,o.type,l):o.hasOwnProperty("defaultValue")&&Gs(i,o.type,ze(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function mu(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Gs(i,o,l){(o!=="number"||ri(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Tr=Array.isArray;function Ir(i,o,l,h){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+ze(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Ea(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Qs(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Tr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:ze(l)}}function Js(i,o){var l=ze(o.value),h=ze(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Aa(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function yt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?yt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Sr,Ta=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Sr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ii(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},es=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(i){es.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Zi[o]=Zi[i]})});function Ia(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Zi.hasOwnProperty(i)&&Zi[i]?(""+o).trim():o+"px"}function Sa(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Ia(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var ka=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(i,o){if(o){if(ka[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ca(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ts=null;function Xs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,In=null,er=null;function Zs(i){if(i=Ya(i)){if(typeof Ys!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Hu(o),Ys(i.stateNode,i.type,o))}}function tr(i){In?er?er.push(i):er=[i]:In=i}function Pa(){if(In){var i=In,o=er;if(er=In=null,Zs(i),o)for(i=0;i<o.length;i++)Zs(o[i])}}function ns(i,o){return i(o)}function ba(){}var kr=!1;function xa(i,o,l){if(kr)return i(o,l);kr=!0;try{return ns(i,o,l)}finally{kr=!1,(In!==null||er!==null)&&(ba(),Pa())}}function lt(i,o){var l=i.stateNode;if(l===null)return null;var h=Hu(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var eo=!1;if(d)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){eo=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{eo=!1}function rs(i,o,l,h,m,y,E,C,N){var W=Array.prototype.slice.call(arguments,3);try{o.apply(l,W)}catch(ee){this.onError(ee)}}var is=!1,to=null,Vn=!1,Da=null,Zh={onError:function(i){is=!0,to=i}};function no(i,o,l,h,m,y,E,C,N){is=!1,to=null,rs.apply(Zh,arguments)}function gu(i,o,l,h,m,y,E,C,N){if(no.apply(this,arguments),is){if(is){var W=to;is=!1,to=null}else throw Error(t(198));Vn||(Vn=!0,Da=W)}}function Mn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function ss(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Un(i){if(Mn(i)!==i)throw Error(t(188))}function yu(i){var o=i.alternate;if(!o){if(o=Mn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Un(m),i;if(y===h)return Un(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var E=!1,C=m.child;C;){if(C===l){E=!0,l=m,h=y;break}if(C===h){E=!0,h=m,l=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===l){E=!0,l=y,h=m;break}if(C===h){E=!0,h=y,l=m;break}C=C.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Oa(i){return i=yu(i),i!==null?ro(i):null}function ro(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ro(i);if(o!==null)return o;i=i.sibling}return null}var io=e.unstable_scheduleCallback,Na=e.unstable_cancelCallback,_u=e.unstable_shouldYield,ed=e.unstable_requestPaint,Ke=e.unstable_now,vu=e.unstable_getCurrentPriorityLevel,os=e.unstable_ImmediatePriority,si=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,La=e.unstable_LowPriority,wu=e.unstable_IdlePriority,as=null,pn=null;function Eu(i){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(as,i,void 0,(i.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Tu,Va=Math.log,Au=Math.LN2;function Tu(i){return i>>>=0,i===0?32:31-(Va(i)/Au|0)|0}var so=64,oo=4194304;function oi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ls(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,y=i.pingedLanes,E=l&268435455;if(E!==0){var C=E&~m;C!==0?h=oi(C):(y&=E,y!==0&&(h=oi(y)))}else E=l&~m,E!==0?h=oi(E):y!==0&&(h=oi(y));if(h===0)return 0;if(o!==0&&o!==h&&!(o&m)&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if(h&4&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-Xt(o),m=1<<l,h|=i[l],o&=~m;return h}function td(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var E=31-Xt(y),C=1<<E,N=m[E];N===-1?(!(C&l)||C&h)&&(m[E]=td(C,o)):N<=o&&(i.expiredLanes|=C),y&=~C}}function mn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function us(){var i=so;return so<<=1,!(so&4194240)&&(so=64),i}function ai(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function li(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Xt(o),i[o]=l}function He(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Xt(l),y=1<<m;o[m]=0,h[m]=-1,i[m]=-1,l&=~y}}function ui(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-Xt(l),m=1<<h;m&o|i[h]&o&&(i[h]|=o),l&=~m}}var De=0;function ci(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Iu,ao,Su,ku,Ru,Ma=!1,nr=[],Nt=null,Fn=null,jn=null,hi=new Map,kn=new Map,rr=[],nd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cu(i,o){switch(i){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":hi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(o.pointerId)}}function nn(i,o,l,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Ya(o),o!==null&&ao(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function rd(i,o,l,h,m){switch(o){case"focusin":return Nt=nn(Nt,i,o,l,h,m),!0;case"dragenter":return Fn=nn(Fn,i,o,l,h,m),!0;case"mouseover":return jn=nn(jn,i,o,l,h,m),!0;case"pointerover":var y=m.pointerId;return hi.set(y,nn(hi.get(y)||null,i,o,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,kn.set(y,nn(kn.get(y)||null,i,o,l,h,m)),!0}return!1}function Pu(i){var o=ps(i.target);if(o!==null){var l=Mn(o);if(l!==null){if(o=l.tag,o===13){if(o=ss(l),o!==null){i.blockedOn=o,Ru(i.priority,function(){Su(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=lo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ts=h,l.target.dispatchEvent(h),ts=null}else return o=Ya(l),o!==null&&ao(o),i.blockedOn=l,!1;o.shift()}return!0}function cs(i,o,l){Cr(i)&&l.delete(o)}function bu(){Ma=!1,Nt!==null&&Cr(Nt)&&(Nt=null),Fn!==null&&Cr(Fn)&&(Fn=null),jn!==null&&Cr(jn)&&(jn=null),hi.forEach(cs),kn.forEach(cs)}function Bn(i,o){i.blockedOn===o&&(i.blockedOn=null,Ma||(Ma=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bu)))}function zn(i){function o(m){return Bn(m,i)}if(0<nr.length){Bn(nr[0],i);for(var l=1;l<nr.length;l++){var h=nr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Nt!==null&&Bn(Nt,i),Fn!==null&&Bn(Fn,i),jn!==null&&Bn(jn,i),hi.forEach(o),kn.forEach(o),l=0;l<rr.length;l++)h=rr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<rr.length&&(l=rr[0],l.blockedOn===null);)Pu(l),l.blockedOn===null&&rr.shift()}var Pr=G.ReactCurrentBatchConfig,di=!0;function et(i,o,l,h){var m=De,y=Pr.transition;Pr.transition=null;try{De=1,Ua(i,o,l,h)}finally{De=m,Pr.transition=y}}function id(i,o,l,h){var m=De,y=Pr.transition;Pr.transition=null;try{De=4,Ua(i,o,l,h)}finally{De=m,Pr.transition=y}}function Ua(i,o,l,h){if(di){var m=lo(i,o,l,h);if(m===null)md(i,o,h,hs,l),Cu(i,h);else if(rd(m,i,o,l,h))h.stopPropagation();else if(Cu(i,h),o&4&&-1<nd.indexOf(i)){for(;m!==null;){var y=Ya(m);if(y!==null&&Iu(y),y=lo(i,o,l,h),y===null&&md(i,o,h,hs,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else md(i,o,h,null,l)}}var hs=null;function lo(i,o,l,h){if(hs=null,i=Xs(h),i=ps(i),i!==null)if(o=Mn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=ss(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return hs=i,null}function Fa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vu()){case os:return 1;case si:return 4;case Sn:case La:return 16;case wu:return 536870912;default:return 16}default:return 16}}var gn=null,uo=null,rn=null;function ja(){if(rn)return rn;var i,o=uo,l=o.length,h,m="value"in gn?gn.value:gn.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var E=l-i;for(h=1;h<=E&&o[l-h]===m[y-h];h++);return rn=m.slice(i,1<h?1-h:void 0)}function co(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ir(){return!0}function Ba(){return!1}function Lt(i){function o(l,h,m,y,E){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ir:Ba,this.isPropagationStopped=Ba,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),o}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Lt($n),sr=ae({},$n,{view:0,detail:0}),sd=Lt(sr),fo,br,fi,ds=ae({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fi&&(fi&&i.type==="mousemove"?(fo=i.screenX-fi.screenX,br=i.screenY-fi.screenY):br=fo=0,fi=i),fo)},movementY:function(i){return"movementY"in i?i.movementY:br}}),po=Lt(ds),za=ae({},ds,{dataTransfer:0}),xu=Lt(za),mo=ae({},sr,{relatedTarget:0}),go=Lt(mo),Du=ae({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),xr=Lt(Du),Ou=ae({},$n,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Nu=Lt(Ou),Lu=ae({},$n,{data:0}),$a=Lt(Lu),yo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Vu[i])?!!o[i]:!1}function or(){return Mu}var c=ae({},sr,{key:function(i){if(i.key){var o=yo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=co(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(i){return i.type==="keypress"?co(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?co(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Lt(c),v=ae({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Lt(v),B=ae({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),K=Lt(B),se=ae({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Lt(se),vt=ae({},ds,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Lt(vt),Rt=[9,13,27,32],ht=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var yn=d&&"TextEvent"in window&&!Rn,fs=d&&(!ht||Rn&&8<Rn&&11>=Rn),_o=" ",Um=!1;function Fm(i,o){switch(i){case"keyup":return Rt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vo=!1;function iT(i,o){switch(i){case"compositionend":return jm(o);case"keypress":return o.which!==32?null:(Um=!0,_o);case"textInput":return i=o.data,i===_o&&Um?null:i;default:return null}}function sT(i,o){if(vo)return i==="compositionend"||!ht&&Fm(i,o)?(i=ja(),rn=uo=gn=null,vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return fs&&o.locale!=="ko"?null:o.data;default:return null}}var oT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bm(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!oT[i.type]:o==="textarea"}function zm(i,o,l,h){tr(h),o=zu(o,"onChange"),0<o.length&&(l=new ho("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var qa=null,Ha=null;function aT(i){og(i,0)}function Uu(i){var o=Io(i);if(Ws(o))return i}function lT(i,o){if(i==="change")return o}var $m=!1;if(d){var od;if(d){var ad="oninput"in document;if(!ad){var qm=document.createElement("div");qm.setAttribute("oninput","return;"),ad=typeof qm.oninput=="function"}od=ad}else od=!1;$m=od&&(!document.documentMode||9<document.documentMode)}function Hm(){qa&&(qa.detachEvent("onpropertychange",Wm),Ha=qa=null)}function Wm(i){if(i.propertyName==="value"&&Uu(Ha)){var o=[];zm(o,Ha,i,Xs(i)),xa(aT,o)}}function uT(i,o,l){i==="focusin"?(Hm(),qa=o,Ha=l,qa.attachEvent("onpropertychange",Wm)):i==="focusout"&&Hm()}function cT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Uu(Ha)}function hT(i,o){if(i==="click")return Uu(o)}function dT(i,o){if(i==="input"||i==="change")return Uu(o)}function fT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var qn=typeof Object.is=="function"?Object.is:fT;function Wa(i,o){if(qn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!qn(i[m],o[m]))return!1}return!0}function Km(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Gm(i,o){var l=Km(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Km(l)}}function Qm(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Qm(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Jm(){for(var i=window,o=ri();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=ri(i.document)}return o}function ld(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function pT(i){var o=Jm(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Qm(l.ownerDocument.documentElement,l)){if(h!==null&&ld(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!i.extend&&y>h&&(m=h,h=y,y=m),m=Gm(l,y);var E=Gm(l,h);m&&E&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var mT=d&&"documentMode"in document&&11>=document.documentMode,wo=null,ud=null,Ka=null,cd=!1;function Xm(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cd||wo==null||wo!==ri(h)||(h=wo,"selectionStart"in h&&ld(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ka&&Wa(Ka,h)||(Ka=h,h=zu(ud,"onSelect"),0<h.length&&(o=new ho("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=wo)))}function Fu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Eo={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},hd={},Ym={};d&&(Ym=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function ju(i){if(hd[i])return hd[i];if(!Eo[i])return i;var o=Eo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Ym)return hd[i]=o[l];return i}var Zm=ju("animationend"),eg=ju("animationiteration"),tg=ju("animationstart"),ng=ju("transitionend"),rg=new Map,ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(i,o){rg.set(i,o),a(o,[i])}for(var dd=0;dd<ig.length;dd++){var fd=ig[dd],gT=fd.toLowerCase(),yT=fd[0].toUpperCase()+fd.slice(1);pi(gT,"on"+yT)}pi(Zm,"onAnimationEnd"),pi(eg,"onAnimationIteration"),pi(tg,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(ng,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_T=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function sg(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,gu(h,o,void 0,i),i.currentTarget=null}function og(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var E=h.length-1;0<=E;E--){var C=h[E],N=C.instance,W=C.currentTarget;if(C=C.listener,N!==y&&m.isPropagationStopped())break e;sg(m,C,W),y=N}else for(E=0;E<h.length;E++){if(C=h[E],N=C.instance,W=C.currentTarget,C=C.listener,N!==y&&m.isPropagationStopped())break e;sg(m,C,W),y=N}}}if(Vn)throw i=Da,Vn=!1,Da=null,i}function Je(i,o){var l=o[Ed];l===void 0&&(l=o[Ed]=new Set);var h=i+"__bubble";l.has(h)||(ag(o,i,2,!1),l.add(h))}function pd(i,o,l){var h=0;o&&(h|=4),ag(l,i,h,o)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Qa(i){if(!i[Bu]){i[Bu]=!0,r.forEach(function(l){l!=="selectionchange"&&(_T.has(l)||pd(l,!1,i),pd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Bu]||(o[Bu]=!0,pd("selectionchange",!1,o))}}function ag(i,o,l,h){switch(Fa(o)){case 1:var m=et;break;case 4:m=id;break;default:m=Ua}l=m.bind(null,o,l,i),m=void 0,!eo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function md(i,o,l,h,m){var y=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(E===4)for(E=h.return;E!==null;){var N=E.tag;if((N===3||N===4)&&(N=E.stateNode.containerInfo,N===m||N.nodeType===8&&N.parentNode===m))return;E=E.return}for(;C!==null;){if(E=ps(C),E===null)return;if(N=E.tag,N===5||N===6){h=y=E;continue e}C=C.parentNode}}h=h.return}xa(function(){var W=y,ee=Xs(l),te=[];e:{var Z=rg.get(i);if(Z!==void 0){var oe=ho,de=i;switch(i){case"keypress":if(co(l)===0)break e;case"keydown":case"keyup":oe=g;break;case"focusin":de="focus",oe=go;break;case"focusout":de="blur",oe=go;break;case"beforeblur":case"afterblur":oe=go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=K;break;case Zm:case eg:case tg:oe=xr;break;case ng:oe=qe;break;case"scroll":oe=sd;break;case"wheel":oe=Ve;break;case"copy":case"cut":case"paste":oe=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=T}var fe=(o&4)!==0,ut=!fe&&i==="scroll",$=fe?Z!==null?Z+"Capture":null:Z;fe=[];for(var M=W,H;M!==null;){H=M;var ne=H.stateNode;if(H.tag===5&&ne!==null&&(H=ne,$!==null&&(ne=lt(M,$),ne!=null&&fe.push(Ja(M,ne,H)))),ut)break;M=M.return}0<fe.length&&(Z=new oe(Z,de,null,l,ee),te.push({event:Z,listeners:fe}))}}if(!(o&7)){e:{if(Z=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",Z&&l!==ts&&(de=l.relatedTarget||l.fromElement)&&(ps(de)||de[Dr]))break e;if((oe||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,oe?(de=l.relatedTarget||l.toElement,oe=W,de=de?ps(de):null,de!==null&&(ut=Mn(de),de!==ut||de.tag!==5&&de.tag!==6)&&(de=null)):(oe=null,de=W),oe!==de)){if(fe=po,ne="onMouseLeave",$="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(fe=T,ne="onPointerLeave",$="onPointerEnter",M="pointer"),ut=oe==null?Z:Io(oe),H=de==null?Z:Io(de),Z=new fe(ne,M+"leave",oe,l,ee),Z.target=ut,Z.relatedTarget=H,ne=null,ps(ee)===W&&(fe=new fe($,M+"enter",de,l,ee),fe.target=H,fe.relatedTarget=ut,ne=fe),ut=ne,oe&&de)t:{for(fe=oe,$=de,M=0,H=fe;H;H=Ao(H))M++;for(H=0,ne=$;ne;ne=Ao(ne))H++;for(;0<M-H;)fe=Ao(fe),M--;for(;0<H-M;)$=Ao($),H--;for(;M--;){if(fe===$||$!==null&&fe===$.alternate)break t;fe=Ao(fe),$=Ao($)}fe=null}else fe=null;oe!==null&&lg(te,Z,oe,fe,!1),de!==null&&ut!==null&&lg(te,ut,de,fe,!0)}}e:{if(Z=W?Io(W):window,oe=Z.nodeName&&Z.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Z.type==="file")var pe=lT;else if(Bm(Z))if($m)pe=dT;else{pe=cT;var _e=uT}else(oe=Z.nodeName)&&oe.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(pe=hT);if(pe&&(pe=pe(i,W))){zm(te,pe,l,ee);break e}_e&&_e(i,Z,W),i==="focusout"&&(_e=Z._wrapperState)&&_e.controlled&&Z.type==="number"&&Gs(Z,"number",Z.value)}switch(_e=W?Io(W):window,i){case"focusin":(Bm(_e)||_e.contentEditable==="true")&&(wo=_e,ud=W,Ka=null);break;case"focusout":Ka=ud=wo=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Xm(te,l,ee);break;case"selectionchange":if(mT)break;case"keydown":case"keyup":Xm(te,l,ee)}var ve;if(ht)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else vo?Fm(i,l)&&(Ee="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(fs&&l.locale!=="ko"&&(vo||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&vo&&(ve=ja()):(gn=ee,uo="value"in gn?gn.value:gn.textContent,vo=!0)),_e=zu(W,Ee),0<_e.length&&(Ee=new $a(Ee,i,null,l,ee),te.push({event:Ee,listeners:_e}),ve?Ee.data=ve:(ve=jm(l),ve!==null&&(Ee.data=ve)))),(ve=yn?iT(i,l):sT(i,l))&&(W=zu(W,"onBeforeInput"),0<W.length&&(ee=new $a("onBeforeInput","beforeinput",null,l,ee),te.push({event:ee,listeners:W}),ee.data=ve))}og(te,o)})}function Ja(i,o,l){return{instance:i,listener:o,currentTarget:l}}function zu(i,o){for(var l=o+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=lt(i,l),y!=null&&h.unshift(Ja(i,y,m)),y=lt(i,o),y!=null&&h.push(Ja(i,y,m))),i=i.return}return h}function Ao(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function lg(i,o,l,h,m){for(var y=o._reactName,E=[];l!==null&&l!==h;){var C=l,N=C.alternate,W=C.stateNode;if(N!==null&&N===h)break;C.tag===5&&W!==null&&(C=W,m?(N=lt(l,y),N!=null&&E.unshift(Ja(l,N,C))):m||(N=lt(l,y),N!=null&&E.push(Ja(l,N,C)))),l=l.return}E.length!==0&&i.push({event:o,listeners:E})}var vT=/\r\n?/g,wT=/\u0000|\uFFFD/g;function ug(i){return(typeof i=="string"?i:""+i).replace(vT,`
`).replace(wT,"")}function $u(i,o,l){if(o=ug(o),ug(i)!==o&&l)throw Error(t(425))}function qu(){}var gd=null,yd=null;function _d(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var vd=typeof setTimeout=="function"?setTimeout:void 0,ET=typeof clearTimeout=="function"?clearTimeout:void 0,cg=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof cg<"u"?function(i){return cg.resolve(null).then(i).catch(TT)}:vd;function TT(i){setTimeout(function(){throw i})}function wd(i,o){var l=o,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),zn(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);zn(o)}function mi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function hg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var To=Math.random().toString(36).slice(2),ar="__reactFiber$"+To,Xa="__reactProps$"+To,Dr="__reactContainer$"+To,Ed="__reactEvents$"+To,IT="__reactListeners$"+To,ST="__reactHandles$"+To;function ps(i){var o=i[ar];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Dr]||l[ar]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=hg(i);i!==null;){if(l=i[ar])return l;i=hg(i)}return o}i=l,l=i.parentNode}return null}function Ya(i){return i=i[ar]||i[Dr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Io(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Hu(i){return i[Xa]||null}var Ad=[],So=-1;function gi(i){return{current:i}}function Xe(i){0>So||(i.current=Ad[So],Ad[So]=null,So--)}function Ge(i,o){So++,Ad[So]=i.current,i.current=o}var yi={},zt=gi(yi),sn=gi(!1),ms=yi;function ko(i,o){var l=i.type.contextTypes;if(!l)return yi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function on(i){return i=i.childContextTypes,i!=null}function Wu(){Xe(sn),Xe(zt)}function dg(i,o,l){if(zt.current!==yi)throw Error(t(168));Ge(zt,o),Ge(sn,l)}function fg(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Be(i)||"Unknown",m));return ae({},l,h)}function Ku(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||yi,ms=zt.current,Ge(zt,i),Ge(sn,sn.current),!0}function pg(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=fg(i,o,ms),h.__reactInternalMemoizedMergedChildContext=i,Xe(sn),Xe(zt),Ge(zt,i)):Xe(sn),Ge(sn,l)}var Or=null,Gu=!1,Td=!1;function mg(i){Or===null?Or=[i]:Or.push(i)}function kT(i){Gu=!0,mg(i)}function _i(){if(!Td&&Or!==null){Td=!0;var i=0,o=De;try{var l=Or;for(De=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Or=null,Gu=!1}catch(m){throw Or!==null&&(Or=Or.slice(i+1)),io(os,_i),m}finally{De=o,Td=!1}}return null}var Ro=[],Co=0,Qu=null,Ju=0,Cn=[],Pn=0,gs=null,Nr=1,Lr="";function ys(i,o){Ro[Co++]=Ju,Ro[Co++]=Qu,Qu=i,Ju=o}function gg(i,o,l){Cn[Pn++]=Nr,Cn[Pn++]=Lr,Cn[Pn++]=gs,gs=i;var h=Nr;i=Lr;var m=32-Xt(h)-1;h&=~(1<<m),l+=1;var y=32-Xt(o)+m;if(30<y){var E=m-m%5;y=(h&(1<<E)-1).toString(32),h>>=E,m-=E,Nr=1<<32-Xt(o)+m|l<<m|h,Lr=y+i}else Nr=1<<y|l<<m|h,Lr=i}function Id(i){i.return!==null&&(ys(i,1),gg(i,1,0))}function Sd(i){for(;i===Qu;)Qu=Ro[--Co],Ro[Co]=null,Ju=Ro[--Co],Ro[Co]=null;for(;i===gs;)gs=Cn[--Pn],Cn[Pn]=null,Lr=Cn[--Pn],Cn[Pn]=null,Nr=Cn[--Pn],Cn[Pn]=null}var _n=null,vn=null,tt=!1,Hn=null;function yg(i,o){var l=On(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function _g(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,_n=i,vn=mi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,_n=i,vn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=gs!==null?{id:Nr,overflow:Lr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=On(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,_n=i,vn=null,!0):!1;default:return!1}}function kd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Rd(i){if(tt){var o=vn;if(o){var l=o;if(!_g(i,o)){if(kd(i))throw Error(t(418));o=mi(l.nextSibling);var h=_n;o&&_g(i,o)?yg(h,l):(i.flags=i.flags&-4097|2,tt=!1,_n=i)}}else{if(kd(i))throw Error(t(418));i.flags=i.flags&-4097|2,tt=!1,_n=i}}}function vg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;_n=i}function Xu(i){if(i!==_n)return!1;if(!tt)return vg(i),tt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!_d(i.type,i.memoizedProps)),o&&(o=vn)){if(kd(i))throw wg(),Error(t(418));for(;o;)yg(i,o),o=mi(o.nextSibling)}if(vg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){vn=mi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}vn=null}}else vn=_n?mi(i.stateNode.nextSibling):null;return!0}function wg(){for(var i=vn;i;)i=mi(i.nextSibling)}function Po(){vn=_n=null,tt=!1}function Cd(i){Hn===null?Hn=[i]:Hn.push(i)}var RT=G.ReactCurrentBatchConfig;function Za(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(E){var C=m.refs;E===null?delete C[y]:C[y]=E},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Yu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Eg(i){var o=i._init;return o(i._payload)}function Ag(i){function o($,M){if(i){var H=$.deletions;H===null?($.deletions=[M],$.flags|=16):H.push(M)}}function l($,M){if(!i)return null;for(;M!==null;)o($,M),M=M.sibling;return null}function h($,M){for($=new Map;M!==null;)M.key!==null?$.set(M.key,M):$.set(M.index,M),M=M.sibling;return $}function m($,M){return $=ki($,M),$.index=0,$.sibling=null,$}function y($,M,H){return $.index=H,i?(H=$.alternate,H!==null?(H=H.index,H<M?($.flags|=2,M):H):($.flags|=2,M)):($.flags|=1048576,M)}function E($){return i&&$.alternate===null&&($.flags|=2),$}function C($,M,H,ne){return M===null||M.tag!==6?(M=wf(H,$.mode,ne),M.return=$,M):(M=m(M,H),M.return=$,M)}function N($,M,H,ne){var pe=H.type;return pe===x?ee($,M,H.props.children,ne,H.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===gt&&Eg(pe)===M.type)?(ne=m(M,H.props),ne.ref=Za($,M,H),ne.return=$,ne):(ne=Ac(H.type,H.key,H.props,null,$.mode,ne),ne.ref=Za($,M,H),ne.return=$,ne)}function W($,M,H,ne){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Ef(H,$.mode,ne),M.return=$,M):(M=m(M,H.children||[]),M.return=$,M)}function ee($,M,H,ne,pe){return M===null||M.tag!==7?(M=Ss(H,$.mode,ne,pe),M.return=$,M):(M=m(M,H),M.return=$,M)}function te($,M,H){if(typeof M=="string"&&M!==""||typeof M=="number")return M=wf(""+M,$.mode,H),M.return=$,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case re:return H=Ac(M.type,M.key,M.props,null,$.mode,H),H.ref=Za($,null,M),H.return=$,H;case he:return M=Ef(M,$.mode,H),M.return=$,M;case gt:var ne=M._init;return te($,ne(M._payload),H)}if(Tr(M)||ye(M))return M=Ss(M,$.mode,H,null),M.return=$,M;Yu($,M)}return null}function Z($,M,H,ne){var pe=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return pe!==null?null:C($,M,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case re:return H.key===pe?N($,M,H,ne):null;case he:return H.key===pe?W($,M,H,ne):null;case gt:return pe=H._init,Z($,M,pe(H._payload),ne)}if(Tr(H)||ye(H))return pe!==null?null:ee($,M,H,ne,null);Yu($,H)}return null}function oe($,M,H,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return $=$.get(H)||null,C(M,$,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case re:return $=$.get(ne.key===null?H:ne.key)||null,N(M,$,ne,pe);case he:return $=$.get(ne.key===null?H:ne.key)||null,W(M,$,ne,pe);case gt:var _e=ne._init;return oe($,M,H,_e(ne._payload),pe)}if(Tr(ne)||ye(ne))return $=$.get(H)||null,ee(M,$,ne,pe,null);Yu(M,ne)}return null}function de($,M,H,ne){for(var pe=null,_e=null,ve=M,Ee=M=0,bt=null;ve!==null&&Ee<H.length;Ee++){ve.index>Ee?(bt=ve,ve=null):bt=ve.sibling;var je=Z($,ve,H[Ee],ne);if(je===null){ve===null&&(ve=bt);break}i&&ve&&je.alternate===null&&o($,ve),M=y(je,M,Ee),_e===null?pe=je:_e.sibling=je,_e=je,ve=bt}if(Ee===H.length)return l($,ve),tt&&ys($,Ee),pe;if(ve===null){for(;Ee<H.length;Ee++)ve=te($,H[Ee],ne),ve!==null&&(M=y(ve,M,Ee),_e===null?pe=ve:_e.sibling=ve,_e=ve);return tt&&ys($,Ee),pe}for(ve=h($,ve);Ee<H.length;Ee++)bt=oe(ve,$,Ee,H[Ee],ne),bt!==null&&(i&&bt.alternate!==null&&ve.delete(bt.key===null?Ee:bt.key),M=y(bt,M,Ee),_e===null?pe=bt:_e.sibling=bt,_e=bt);return i&&ve.forEach(function(Ri){return o($,Ri)}),tt&&ys($,Ee),pe}function fe($,M,H,ne){var pe=ye(H);if(typeof pe!="function")throw Error(t(150));if(H=pe.call(H),H==null)throw Error(t(151));for(var _e=pe=null,ve=M,Ee=M=0,bt=null,je=H.next();ve!==null&&!je.done;Ee++,je=H.next()){ve.index>Ee?(bt=ve,ve=null):bt=ve.sibling;var Ri=Z($,ve,je.value,ne);if(Ri===null){ve===null&&(ve=bt);break}i&&ve&&Ri.alternate===null&&o($,ve),M=y(Ri,M,Ee),_e===null?pe=Ri:_e.sibling=Ri,_e=Ri,ve=bt}if(je.done)return l($,ve),tt&&ys($,Ee),pe;if(ve===null){for(;!je.done;Ee++,je=H.next())je=te($,je.value,ne),je!==null&&(M=y(je,M,Ee),_e===null?pe=je:_e.sibling=je,_e=je);return tt&&ys($,Ee),pe}for(ve=h($,ve);!je.done;Ee++,je=H.next())je=oe(ve,$,Ee,je.value,ne),je!==null&&(i&&je.alternate!==null&&ve.delete(je.key===null?Ee:je.key),M=y(je,M,Ee),_e===null?pe=je:_e.sibling=je,_e=je);return i&&ve.forEach(function(s0){return o($,s0)}),tt&&ys($,Ee),pe}function ut($,M,H,ne){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case re:e:{for(var pe=H.key,_e=M;_e!==null;){if(_e.key===pe){if(pe=H.type,pe===x){if(_e.tag===7){l($,_e.sibling),M=m(_e,H.props.children),M.return=$,$=M;break e}}else if(_e.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===gt&&Eg(pe)===_e.type){l($,_e.sibling),M=m(_e,H.props),M.ref=Za($,_e,H),M.return=$,$=M;break e}l($,_e);break}else o($,_e);_e=_e.sibling}H.type===x?(M=Ss(H.props.children,$.mode,ne,H.key),M.return=$,$=M):(ne=Ac(H.type,H.key,H.props,null,$.mode,ne),ne.ref=Za($,M,H),ne.return=$,$=ne)}return E($);case he:e:{for(_e=H.key;M!==null;){if(M.key===_e)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){l($,M.sibling),M=m(M,H.children||[]),M.return=$,$=M;break e}else{l($,M);break}else o($,M);M=M.sibling}M=Ef(H,$.mode,ne),M.return=$,$=M}return E($);case gt:return _e=H._init,ut($,M,_e(H._payload),ne)}if(Tr(H))return de($,M,H,ne);if(ye(H))return fe($,M,H,ne);Yu($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,M!==null&&M.tag===6?(l($,M.sibling),M=m(M,H),M.return=$,$=M):(l($,M),M=wf(H,$.mode,ne),M.return=$,$=M),E($)):l($,M)}return ut}var bo=Ag(!0),Tg=Ag(!1),Zu=gi(null),ec=null,xo=null,Pd=null;function bd(){Pd=xo=ec=null}function xd(i){var o=Zu.current;Xe(Zu),i._currentValue=o}function Dd(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function Do(i,o){ec=i,Pd=xo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(an=!0),i.firstContext=null)}function bn(i){var o=i._currentValue;if(Pd!==i)if(i={context:i,memoizedValue:o,next:null},xo===null){if(ec===null)throw Error(t(308));xo=i,ec.dependencies={lanes:0,firstContext:i}}else xo=xo.next=i;return o}var _s=null;function Od(i){_s===null?_s=[i]:_s.push(i)}function Ig(i,o,l,h){var m=o.interleaved;return m===null?(l.next=l,Od(o)):(l.next=m.next,m.next=l),o.interleaved=l,Vr(i,h)}function Vr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var vi=!1;function Nd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Mr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function wi(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,Ue&2){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Vr(i,l)}return m=h.interleaved,m===null?(o.next=o,Od(h)):(o.next=m.next,m.next=o),h.interleaved=o,Vr(i,l)}function tc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ui(i,l)}}function kg(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function nc(i,o,l,h){var m=i.updateQueue;vi=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var N=C,W=N.next;N.next=null,E===null?y=W:E.next=W,E=N;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==E&&(C===null?ee.firstBaseUpdate=W:C.next=W,ee.lastBaseUpdate=N))}if(y!==null){var te=m.baseState;E=0,ee=W=N=null,C=y;do{var Z=C.lane,oe=C.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var de=i,fe=C;switch(Z=o,oe=l,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){te=de.call(oe,te,Z);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,Z=typeof de=="function"?de.call(oe,te,Z):de,Z==null)break e;te=ae({},te,Z);break e;case 2:vi=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,Z=m.effects,Z===null?m.effects=[C]:Z.push(C))}else oe={eventTime:oe,lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?(W=ee=oe,N=te):ee=ee.next=oe,E|=Z;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(N=te),m.baseState=N,m.firstBaseUpdate=W,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);Es|=E,i.lanes=E,i.memoizedState=te}}function Rg(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var el={},lr=gi(el),tl=gi(el),nl=gi(el);function vs(i){if(i===el)throw Error(t(174));return i}function Ld(i,o){switch(Ge(nl,o),Ge(tl,i),Ge(lr,el),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:_t(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=_t(o,i)}Xe(lr),Ge(lr,o)}function Oo(){Xe(lr),Xe(tl),Xe(nl)}function Cg(i){vs(nl.current);var o=vs(lr.current),l=_t(o,i.type);o!==l&&(Ge(tl,i),Ge(lr,l))}function Vd(i){tl.current===i&&(Xe(lr),Xe(tl))}var rt=gi(0);function rc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Md=[];function Ud(){for(var i=0;i<Md.length;i++)Md[i]._workInProgressVersionPrimary=null;Md.length=0}var ic=G.ReactCurrentDispatcher,Fd=G.ReactCurrentBatchConfig,ws=0,it=null,wt=null,Ct=null,sc=!1,rl=!1,il=0,CT=0;function $t(){throw Error(t(321))}function jd(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!qn(i[l],o[l]))return!1;return!0}function Bd(i,o,l,h,m,y){if(ws=y,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ic.current=i===null||i.memoizedState===null?DT:OT,i=l(h,m),rl){y=0;do{if(rl=!1,il=0,25<=y)throw Error(t(301));y+=1,Ct=wt=null,o.updateQueue=null,ic.current=NT,i=l(h,m)}while(rl)}if(ic.current=lc,o=wt!==null&&wt.next!==null,ws=0,Ct=wt=it=null,sc=!1,o)throw Error(t(300));return i}function zd(){var i=il!==0;return il=0,i}function ur(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?it.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function xn(){if(wt===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var o=Ct===null?it.memoizedState:Ct.next;if(o!==null)Ct=o,wt=i;else{if(i===null)throw Error(t(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ct===null?it.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function sl(i,o){return typeof o=="function"?o(i):o}function $d(i){var o=xn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=wt,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var C=E=null,N=null,W=y;do{var ee=W.lane;if((ws&ee)===ee)N!==null&&(N=N.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:i(h,W.action);else{var te={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};N===null?(C=N=te,E=h):N=N.next=te,it.lanes|=ee,Es|=ee}W=W.next}while(W!==null&&W!==y);N===null?E=h:N.next=C,qn(h,o.memoizedState)||(an=!0),o.memoizedState=h,o.baseState=E,o.baseQueue=N,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do y=m.lane,it.lanes|=y,Es|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function qd(i){var o=xn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do y=i(y,E.action),E=E.next;while(E!==m);qn(y,o.memoizedState)||(an=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function Pg(){}function bg(i,o){var l=it,h=xn(),m=o(),y=!qn(h.memoizedState,m);if(y&&(h.memoizedState=m,an=!0),h=h.queue,Hd(Og.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,ol(9,Dg.bind(null,l,h,m,o),void 0,null),Pt===null)throw Error(t(349));ws&30||xg(l,o,m)}return m}function xg(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Dg(i,o,l,h){o.value=l,o.getSnapshot=h,Ng(o)&&Lg(i)}function Og(i,o,l){return l(function(){Ng(o)&&Lg(i)})}function Ng(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!qn(i,l)}catch{return!0}}function Lg(i){var o=Vr(i,1);o!==null&&Qn(o,i,1,-1)}function Vg(i){var o=ur();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:i},o.queue=i,i=i.dispatch=xT.bind(null,it,i),[o.memoizedState,i]}function ol(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function Mg(){return xn().memoizedState}function oc(i,o,l,h){var m=ur();it.flags|=i,m.memoizedState=ol(1|o,l,void 0,h===void 0?null:h)}function ac(i,o,l,h){var m=xn();h=h===void 0?null:h;var y=void 0;if(wt!==null){var E=wt.memoizedState;if(y=E.destroy,h!==null&&jd(h,E.deps)){m.memoizedState=ol(o,l,y,h);return}}it.flags|=i,m.memoizedState=ol(1|o,l,y,h)}function Ug(i,o){return oc(8390656,8,i,o)}function Hd(i,o){return ac(2048,8,i,o)}function Fg(i,o){return ac(4,2,i,o)}function jg(i,o){return ac(4,4,i,o)}function Bg(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function zg(i,o,l){return l=l!=null?l.concat([i]):null,ac(4,4,Bg.bind(null,o,i),l)}function Wd(){}function $g(i,o){var l=xn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&jd(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function qg(i,o){var l=xn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&jd(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function Hg(i,o,l){return ws&21?(qn(l,o)||(l=us(),it.lanes|=l,Es|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,an=!0),i.memoizedState=l)}function PT(i,o){var l=De;De=l!==0&&4>l?l:4,i(!0);var h=Fd.transition;Fd.transition={};try{i(!1),o()}finally{De=l,Fd.transition=h}}function Wg(){return xn().memoizedState}function bT(i,o,l){var h=Ii(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Kg(i))Gg(o,l);else if(l=Ig(i,o,l,h),l!==null){var m=en();Qn(l,i,h,m),Qg(l,o,h)}}function xT(i,o,l){var h=Ii(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kg(i))Gg(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var E=o.lastRenderedState,C=y(E,l);if(m.hasEagerState=!0,m.eagerState=C,qn(C,E)){var N=o.interleaved;N===null?(m.next=m,Od(o)):(m.next=N.next,N.next=m),o.interleaved=m;return}}catch{}finally{}l=Ig(i,o,m,h),l!==null&&(m=en(),Qn(l,i,h,m),Qg(l,o,h))}}function Kg(i){var o=i.alternate;return i===it||o!==null&&o===it}function Gg(i,o){rl=sc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Qg(i,o,l){if(l&4194240){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ui(i,l)}}var lc={readContext:bn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},DT={readContext:bn,useCallback:function(i,o){return ur().memoizedState=[i,o===void 0?null:o],i},useContext:bn,useEffect:Ug,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,oc(4194308,4,Bg.bind(null,o,i),l)},useLayoutEffect:function(i,o){return oc(4194308,4,i,o)},useInsertionEffect:function(i,o){return oc(4,2,i,o)},useMemo:function(i,o){var l=ur();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=ur();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=bT.bind(null,it,i),[h.memoizedState,i]},useRef:function(i){var o=ur();return i={current:i},o.memoizedState=i},useState:Vg,useDebugValue:Wd,useDeferredValue:function(i){return ur().memoizedState=i},useTransition:function(){var i=Vg(!1),o=i[0];return i=PT.bind(null,i[1]),ur().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=it,m=ur();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Pt===null)throw Error(t(349));ws&30||xg(h,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,Ug(Og.bind(null,h,y,i),[i]),h.flags|=2048,ol(9,Dg.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=ur(),o=Pt.identifierPrefix;if(tt){var l=Lr,h=Nr;l=(h&~(1<<32-Xt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=il++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=CT++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},OT={readContext:bn,useCallback:$g,useContext:bn,useEffect:Hd,useImperativeHandle:zg,useInsertionEffect:Fg,useLayoutEffect:jg,useMemo:qg,useReducer:$d,useRef:Mg,useState:function(){return $d(sl)},useDebugValue:Wd,useDeferredValue:function(i){var o=xn();return Hg(o,wt.memoizedState,i)},useTransition:function(){var i=$d(sl)[0],o=xn().memoizedState;return[i,o]},useMutableSource:Pg,useSyncExternalStore:bg,useId:Wg,unstable_isNewReconciler:!1},NT={readContext:bn,useCallback:$g,useContext:bn,useEffect:Hd,useImperativeHandle:zg,useInsertionEffect:Fg,useLayoutEffect:jg,useMemo:qg,useReducer:qd,useRef:Mg,useState:function(){return qd(sl)},useDebugValue:Wd,useDeferredValue:function(i){var o=xn();return wt===null?o.memoizedState=i:Hg(o,wt.memoizedState,i)},useTransition:function(){var i=qd(sl)[0],o=xn().memoizedState;return[i,o]},useMutableSource:Pg,useSyncExternalStore:bg,useId:Wg,unstable_isNewReconciler:!1};function Wn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Kd(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var uc={isMounted:function(i){return(i=i._reactInternals)?Mn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=en(),m=Ii(i),y=Mr(h,m);y.payload=o,l!=null&&(y.callback=l),o=wi(i,y,m),o!==null&&(Qn(o,i,m,h),tc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=en(),m=Ii(i),y=Mr(h,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=wi(i,y,m),o!==null&&(Qn(o,i,m,h),tc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=en(),h=Ii(i),m=Mr(l,h);m.tag=2,o!=null&&(m.callback=o),o=wi(i,m,h),o!==null&&(Qn(o,i,h,l),tc(o,i,h))}};function Jg(i,o,l,h,m,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,E):o.prototype&&o.prototype.isPureReactComponent?!Wa(l,h)||!Wa(m,y):!0}function Xg(i,o,l){var h=!1,m=yi,y=o.contextType;return typeof y=="object"&&y!==null?y=bn(y):(m=on(o)?ms:zt.current,h=o.contextTypes,y=(h=h!=null)?ko(i,m):yi),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=uc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function Yg(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&uc.enqueueReplaceState(o,o.state,null)}function Gd(i,o,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Nd(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=bn(y):(y=on(o)?ms:zt.current,m.context=ko(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Kd(i,o,y,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&uc.enqueueReplaceState(m,m.state,null),nc(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function No(i,o){try{var l="",h=o;do l+=Ce(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function Qd(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function Jd(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var LT=typeof WeakMap=="function"?WeakMap:Map;function Zg(i,o,l){l=Mr(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){gc||(gc=!0,df=h),Jd(i,o)},l}function ey(i,o,l){l=Mr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){Jd(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Jd(i,o),typeof h!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),l}function ty(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new LT;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),i=QT.bind(null,i,o,l),o.then(i,i))}function ny(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ry(i,o,l,h,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Mr(-1,1),o.tag=2,wi(l,o,1))),l.lanes|=1),i)}var VT=G.ReactCurrentOwner,an=!1;function Zt(i,o,l,h){o.child=i===null?Tg(o,null,l,h):bo(o,i.child,l,h)}function iy(i,o,l,h,m){l=l.render;var y=o.ref;return Do(o,m),h=Bd(i,o,l,h,y,m),l=zd(),i!==null&&!an?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Ur(i,o,m)):(tt&&l&&Id(o),o.flags|=1,Zt(i,o,h,m),o.child)}function sy(i,o,l,h,m){if(i===null){var y=l.type;return typeof y=="function"&&!vf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,oy(i,o,y,h,m)):(i=Ac(l.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!(i.lanes&m)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Wa,l(E,h)&&i.ref===o.ref)return Ur(i,o,m)}return o.flags|=1,i=ki(y,h),i.ref=o.ref,i.return=o,o.child=i}function oy(i,o,l,h,m){if(i!==null){var y=i.memoizedProps;if(Wa(y,h)&&i.ref===o.ref)if(an=!1,o.pendingProps=h=y,(i.lanes&m)!==0)i.flags&131072&&(an=!0);else return o.lanes=i.lanes,Ur(i,o,m)}return Xd(i,o,l,h,m)}function ay(i,o,l){var h=o.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Vo,wn),wn|=l;else{if(!(l&1073741824))return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ge(Vo,wn),wn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ge(Vo,wn),wn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,Ge(Vo,wn),wn|=h;return Zt(i,o,m,l),o.child}function ly(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Xd(i,o,l,h,m){var y=on(l)?ms:zt.current;return y=ko(o,y),Do(o,m),l=Bd(i,o,l,h,y,m),h=zd(),i!==null&&!an?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Ur(i,o,m)):(tt&&h&&Id(o),o.flags|=1,Zt(i,o,l,m),o.child)}function uy(i,o,l,h,m){if(on(l)){var y=!0;Ku(o)}else y=!1;if(Do(o,m),o.stateNode===null)hc(i,o),Xg(o,l,h),Gd(o,l,h,m),h=!0;else if(i===null){var E=o.stateNode,C=o.memoizedProps;E.props=C;var N=E.context,W=l.contextType;typeof W=="object"&&W!==null?W=bn(W):(W=on(l)?ms:zt.current,W=ko(o,W));var ee=l.getDerivedStateFromProps,te=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||N!==W)&&Yg(o,E,h,W),vi=!1;var Z=o.memoizedState;E.state=Z,nc(o,h,E,m),N=o.memoizedState,C!==h||Z!==N||sn.current||vi?(typeof ee=="function"&&(Kd(o,l,ee,h),N=o.memoizedState),(C=vi||Jg(o,l,C,h,Z,N,W))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=N),E.props=h,E.state=N,E.context=W,h=C):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,Sg(i,o),C=o.memoizedProps,W=o.type===o.elementType?C:Wn(o.type,C),E.props=W,te=o.pendingProps,Z=E.context,N=l.contextType,typeof N=="object"&&N!==null?N=bn(N):(N=on(l)?ms:zt.current,N=ko(o,N));var oe=l.getDerivedStateFromProps;(ee=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==te||Z!==N)&&Yg(o,E,h,N),vi=!1,Z=o.memoizedState,E.state=Z,nc(o,h,E,m);var de=o.memoizedState;C!==te||Z!==de||sn.current||vi?(typeof oe=="function"&&(Kd(o,l,oe,h),de=o.memoizedState),(W=vi||Jg(o,l,W,h,Z,de,N)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,de,N),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,de,N)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=de),E.props=h,E.state=de,E.context=N,h=W):(typeof E.componentDidUpdate!="function"||C===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),h=!1)}return Yd(i,o,l,h,y,m)}function Yd(i,o,l,h,m,y){ly(i,o);var E=(o.flags&128)!==0;if(!h&&!E)return m&&pg(o,l,!1),Ur(i,o,y);h=o.stateNode,VT.current=o;var C=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&E?(o.child=bo(o,i.child,null,y),o.child=bo(o,null,C,y)):Zt(i,o,C,y),o.memoizedState=h.state,m&&pg(o,l,!0),o.child}function cy(i){var o=i.stateNode;o.pendingContext?dg(i,o.pendingContext,o.pendingContext!==o.context):o.context&&dg(i,o.context,!1),Ld(i,o.containerInfo)}function hy(i,o,l,h,m){return Po(),Cd(m),o.flags|=256,Zt(i,o,l,h),o.child}var Zd={dehydrated:null,treeContext:null,retryLane:0};function ef(i){return{baseLanes:i,cachePool:null,transitions:null}}function dy(i,o,l){var h=o.pendingProps,m=rt.current,y=!1,E=(o.flags&128)!==0,C;if((C=E)||(C=i!==null&&i.memoizedState===null?!1:(m&2)!==0),C?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ge(rt,m&1),i===null)return Rd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(E=h.children,i=h.fallback,y?(h=o.mode,y=o.child,E={mode:"hidden",children:E},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Tc(E,h,0,null),i=Ss(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=ef(l),o.memoizedState=Zd,i):tf(o,E));if(m=i.memoizedState,m!==null&&(C=m.dehydrated,C!==null))return MT(i,o,E,h,C,m,l);if(y){y=h.fallback,E=o.mode,m=i.child,C=m.sibling;var N={mode:"hidden",children:h.children};return!(E&1)&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=N,o.deletions=null):(h=ki(m,N),h.subtreeFlags=m.subtreeFlags&14680064),C!==null?y=ki(C,y):(y=Ss(y,E,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,E=i.child.memoizedState,E=E===null?ef(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=i.childLanes&~l,o.memoizedState=Zd,h}return y=i.child,i=y.sibling,h=ki(y,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function tf(i,o){return o=Tc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function cc(i,o,l,h){return h!==null&&Cd(h),bo(o,i.child,null,l),i=tf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function MT(i,o,l,h,m,y,E){if(l)return o.flags&256?(o.flags&=-257,h=Qd(Error(t(422))),cc(i,o,E,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=Tc({mode:"visible",children:h.children},m,0,null),y=Ss(y,m,E,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,o.mode&1&&bo(o,i.child,null,E),o.child.memoizedState=ef(E),o.memoizedState=Zd,y);if(!(o.mode&1))return cc(i,o,E,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var C=h.dgst;return h=C,y=Error(t(419)),h=Qd(y,h,void 0),cc(i,o,E,h)}if(C=(E&i.childLanes)!==0,an||C){if(h=Pt,h!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(h.suspendedLanes|E)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Vr(i,m),Qn(h,i,m,-1))}return _f(),h=Qd(Error(t(421))),cc(i,o,E,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=JT.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,vn=mi(m.nextSibling),_n=o,tt=!0,Hn=null,i!==null&&(Cn[Pn++]=Nr,Cn[Pn++]=Lr,Cn[Pn++]=gs,Nr=i.id,Lr=i.overflow,gs=o),o=tf(o,h.children),o.flags|=4096,o)}function fy(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Dd(i.return,o,l)}function nf(i,o,l,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function py(i,o,l){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(Zt(i,o,h.children,l),h=rt.current,h&2)h=h&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&fy(i,l,o);else if(i.tag===19)fy(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ge(rt,h),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&rc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),nf(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&rc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}nf(o,!0,l,null,y);break;case"together":nf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function hc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Ur(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Es|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=ki(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=ki(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function UT(i,o,l){switch(o.tag){case 3:cy(o),Po();break;case 5:Cg(o);break;case 1:on(o.type)&&Ku(o);break;case 4:Ld(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;Ge(Zu,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Ge(rt,rt.current&1),o.flags|=128,null):l&o.child.childLanes?dy(i,o,l):(Ge(rt,rt.current&1),i=Ur(i,o,l),i!==null?i.sibling:null);Ge(rt,rt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,i.flags&128){if(h)return py(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ge(rt,rt.current),h)break;return null;case 22:case 23:return o.lanes=0,ay(i,o,l)}return Ur(i,o,l)}var my,rf,gy,yy;my=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},rf=function(){},gy=function(i,o,l,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,vs(lr.current);var y=null;switch(l){case"input":m=Yi(i,m),h=Yi(i,h),y=[];break;case"select":m=ae({},m,{value:void 0}),h=ae({},h,{value:void 0}),y=[];break;case"textarea":m=Ea(i,m),h=Ea(i,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=qu)}Ra(l,h);var E;l=null;for(W in m)if(!h.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var C=m[W];for(E in C)C.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(s.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in h){var N=h[W];if(C=m!=null?m[W]:void 0,h.hasOwnProperty(W)&&N!==C&&(N!=null||C!=null))if(W==="style")if(C){for(E in C)!C.hasOwnProperty(E)||N&&N.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in N)N.hasOwnProperty(E)&&C[E]!==N[E]&&(l||(l={}),l[E]=N[E])}else l||(y||(y=[]),y.push(W,l)),l=N;else W==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,C=C?C.__html:void 0,N!=null&&C!==N&&(y=y||[]).push(W,N)):W==="children"?typeof N!="string"&&typeof N!="number"||(y=y||[]).push(W,""+N):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(s.hasOwnProperty(W)?(N!=null&&W==="onScroll"&&Je("scroll",i),y||C===N||(y=[])):(y=y||[]).push(W,N))}l&&(y=y||[]).push("style",l);var W=y;(o.updateQueue=W)&&(o.flags|=4)}},yy=function(i,o,l,h){l!==h&&(o.flags|=4)};function al(i,o){if(!tt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function FT(i,o,l){var h=o.pendingProps;switch(Sd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return on(o.type)&&Wu(),qt(o),null;case 3:return h=o.stateNode,Oo(),Xe(sn),Xe(zt),Ud(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Xu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Hn!==null&&(mf(Hn),Hn=null))),rf(i,o),qt(o),null;case 5:Vd(o);var m=vs(nl.current);if(l=o.type,i!==null&&o.stateNode!=null)gy(i,o,l,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return qt(o),null}if(i=vs(lr.current),Xu(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[ar]=o,h[Xa]=y,i=(o.mode&1)!==0,l){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(m=0;m<Ga.length;m++)Je(Ga[m],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":Ks(h,y),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Je("invalid",h);break;case"textarea":Qs(h,y),Je("invalid",h)}Ra(l,y),m=null;for(var E in y)if(y.hasOwnProperty(E)){var C=y[E];E==="children"?typeof C=="string"?h.textContent!==C&&(y.suppressHydrationWarning!==!0&&$u(h.textContent,C,i),m=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&$u(h.textContent,C,i),m=["children",""+C]):s.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&Je("scroll",h)}switch(l){case"input":Ar(h),mu(h,y,!0);break;case"textarea":Ar(h),Aa(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=qu)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=E.createElement(l,{is:h.is}):(i=E.createElement(l),l==="select"&&(E=i,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):i=E.createElementNS(i,l),i[ar]=o,i[Xa]=h,my(i,o,!1,!1),o.stateNode=i;e:{switch(E=Ca(l,h),l){case"dialog":Je("cancel",i),Je("close",i),m=h;break;case"iframe":case"object":case"embed":Je("load",i),m=h;break;case"video":case"audio":for(m=0;m<Ga.length;m++)Je(Ga[m],i);m=h;break;case"source":Je("error",i),m=h;break;case"img":case"image":case"link":Je("error",i),Je("load",i),m=h;break;case"details":Je("toggle",i),m=h;break;case"input":Ks(i,h),m=Yi(i,h),Je("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=ae({},h,{value:void 0}),Je("invalid",i);break;case"textarea":Qs(i,h),m=Ea(i,h),Je("invalid",i);break;default:m=h}Ra(l,m),C=m;for(y in C)if(C.hasOwnProperty(y)){var N=C[y];y==="style"?Sa(i,N):y==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Ta(i,N)):y==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&ii(i,N):typeof N=="number"&&ii(i,""+N):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?N!=null&&y==="onScroll"&&Je("scroll",i):N!=null&&q(i,y,N,E))}switch(l){case"input":Ar(i),mu(i,h,!1);break;case"textarea":Ar(i),Aa(i);break;case"option":h.value!=null&&i.setAttribute("value",""+ze(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Ir(i,!!h.multiple,y,!1):h.defaultValue!=null&&Ir(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=qu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return qt(o),null;case 6:if(i&&o.stateNode!=null)yy(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=vs(nl.current),vs(lr.current),Xu(o)){if(h=o.stateNode,l=o.memoizedProps,h[ar]=o,(y=h.nodeValue!==l)&&(i=_n,i!==null))switch(i.tag){case 3:$u(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&$u(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[ar]=o,o.stateNode=h}return qt(o),null;case 13:if(Xe(rt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&vn!==null&&o.mode&1&&!(o.flags&128))wg(),Po(),o.flags|=98560,y=!1;else if(y=Xu(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ar]=o}else Po(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;qt(o),y=!1}else Hn!==null&&(mf(Hn),Hn=null),y=!0;if(!y)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(i===null||rt.current&1?Et===0&&(Et=3):_f())),o.updateQueue!==null&&(o.flags|=4),qt(o),null);case 4:return Oo(),rf(i,o),i===null&&Qa(o.stateNode.containerInfo),qt(o),null;case 10:return xd(o.type._context),qt(o),null;case 17:return on(o.type)&&Wu(),qt(o),null;case 19:if(Xe(rt),y=o.memoizedState,y===null)return qt(o),null;if(h=(o.flags&128)!==0,E=y.rendering,E===null)if(h)al(y,!1);else{if(Et!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(E=rc(i),E!==null){for(o.flags|=128,al(y,!1),h=E.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,i=E.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ge(rt,rt.current&1|2),o.child}i=i.sibling}y.tail!==null&&Ke()>Mo&&(o.flags|=128,h=!0,al(y,!1),o.lanes=4194304)}else{if(!h)if(i=rc(E),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),al(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!tt)return qt(o),null}else 2*Ke()-y.renderingStartTime>Mo&&l!==1073741824&&(o.flags|=128,h=!0,al(y,!1),o.lanes=4194304);y.isBackwards?(E.sibling=o.child,o.child=E):(l=y.last,l!==null?l.sibling=E:o.child=E,y.last=E)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Ke(),o.sibling=null,l=rt.current,Ge(rt,h?l&1|2:l&1),o):(qt(o),null);case 22:case 23:return yf(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?wn&1073741824&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function jT(i,o){switch(Sd(o),o.tag){case 1:return on(o.type)&&Wu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Oo(),Xe(sn),Xe(zt),Ud(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Vd(o),null;case 13:if(Xe(rt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Po()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Xe(rt),null;case 4:return Oo(),null;case 10:return xd(o.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var dc=!1,Ht=!1,BT=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Lo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){at(i,o,h)}else l.current=null}function sf(i,o,l){try{l()}catch(h){at(i,o,h)}}var _y=!1;function zT(i,o){if(gd=di,i=Jm(),ld(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,C=-1,N=-1,W=0,ee=0,te=i,Z=null;t:for(;;){for(var oe;te!==l||m!==0&&te.nodeType!==3||(C=E+m),te!==y||h!==0&&te.nodeType!==3||(N=E+h),te.nodeType===3&&(E+=te.nodeValue.length),(oe=te.firstChild)!==null;)Z=te,te=oe;for(;;){if(te===i)break t;if(Z===l&&++W===m&&(C=E),Z===y&&++ee===h&&(N=E),(oe=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=oe}l=C===-1||N===-1?null:{start:C,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(yd={focusedElem:i,selectionRange:l},di=!1,ue=o;ue!==null;)if(o=ue,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ue=i;else for(;ue!==null;){o=ue;try{var de=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,ut=de.memoizedState,$=o.stateNode,M=$.getSnapshotBeforeUpdate(o.elementType===o.type?fe:Wn(o.type,fe),ut);$.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){at(o,o.return,ne)}if(i=o.sibling,i!==null){i.return=o.return,ue=i;break}ue=o.return}return de=_y,_y=!1,de}function ll(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&sf(o,l,y)}m=m.next}while(m!==h)}}function fc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function of(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function vy(i){var o=i.alternate;o!==null&&(i.alternate=null,vy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[ar],delete o[Xa],delete o[Ed],delete o[IT],delete o[ST])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function wy(i){return i.tag===5||i.tag===3||i.tag===4}function Ey(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function af(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=qu));else if(h!==4&&(i=i.child,i!==null))for(af(i,o,l),i=i.sibling;i!==null;)af(i,o,l),i=i.sibling}function lf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(lf(i,o,l),i=i.sibling;i!==null;)lf(i,o,l),i=i.sibling}var Vt=null,Kn=!1;function Ei(i,o,l){for(l=l.child;l!==null;)Ay(i,o,l),l=l.sibling}function Ay(i,o,l){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(as,l)}catch{}switch(l.tag){case 5:Ht||Lo(l,o);case 6:var h=Vt,m=Kn;Vt=null,Ei(i,o,l),Vt=h,Kn=m,Vt!==null&&(Kn?(i=Vt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Vt.removeChild(l.stateNode));break;case 18:Vt!==null&&(Kn?(i=Vt,l=l.stateNode,i.nodeType===8?wd(i.parentNode,l):i.nodeType===1&&wd(i,l),zn(i)):wd(Vt,l.stateNode));break;case 4:h=Vt,m=Kn,Vt=l.stateNode.containerInfo,Kn=!0,Ei(i,o,l),Vt=h,Kn=m;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&sf(l,o,E),m=m.next}while(m!==h)}Ei(i,o,l);break;case 1:if(!Ht&&(Lo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(C){at(l,o,C)}Ei(i,o,l);break;case 21:Ei(i,o,l);break;case 22:l.mode&1?(Ht=(h=Ht)||l.memoizedState!==null,Ei(i,o,l),Ht=h):Ei(i,o,l);break;default:Ei(i,o,l)}}function Ty(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new BT),o.forEach(function(h){var m=XT.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Gn(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=i,E=o,C=E;e:for(;C!==null;){switch(C.tag){case 5:Vt=C.stateNode,Kn=!1;break e;case 3:Vt=C.stateNode.containerInfo,Kn=!0;break e;case 4:Vt=C.stateNode.containerInfo,Kn=!0;break e}C=C.return}if(Vt===null)throw Error(t(160));Ay(y,E,m),Vt=null,Kn=!1;var N=m.alternate;N!==null&&(N.return=null),m.return=null}catch(W){at(m,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Iy(o,i),o=o.sibling}function Iy(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Gn(o,i),cr(i),h&4){try{ll(3,i,i.return),fc(3,i)}catch(fe){at(i,i.return,fe)}try{ll(5,i,i.return)}catch(fe){at(i,i.return,fe)}}break;case 1:Gn(o,i),cr(i),h&512&&l!==null&&Lo(l,l.return);break;case 5:if(Gn(o,i),cr(i),h&512&&l!==null&&Lo(l,l.return),i.flags&32){var m=i.stateNode;try{ii(m,"")}catch(fe){at(i,i.return,fe)}}if(h&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,E=l!==null?l.memoizedProps:y,C=i.type,N=i.updateQueue;if(i.updateQueue=null,N!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&va(m,y),Ca(C,E);var W=Ca(C,y);for(E=0;E<N.length;E+=2){var ee=N[E],te=N[E+1];ee==="style"?Sa(m,te):ee==="dangerouslySetInnerHTML"?Ta(m,te):ee==="children"?ii(m,te):q(m,ee,te,W)}switch(C){case"input":wa(m,y);break;case"textarea":Js(m,y);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var oe=y.value;oe!=null?Ir(m,!!y.multiple,oe,!1):Z!==!!y.multiple&&(y.defaultValue!=null?Ir(m,!!y.multiple,y.defaultValue,!0):Ir(m,!!y.multiple,y.multiple?[]:"",!1))}m[Xa]=y}catch(fe){at(i,i.return,fe)}}break;case 6:if(Gn(o,i),cr(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(fe){at(i,i.return,fe)}}break;case 3:if(Gn(o,i),cr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{zn(o.containerInfo)}catch(fe){at(i,i.return,fe)}break;case 4:Gn(o,i),cr(i);break;case 13:Gn(o,i),cr(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(hf=Ke())),h&4&&Ty(i);break;case 22:if(ee=l!==null&&l.memoizedState!==null,i.mode&1?(Ht=(W=Ht)||ee,Gn(o,i),Ht=W):Gn(o,i),cr(i),h&8192){if(W=i.memoizedState!==null,(i.stateNode.isHidden=W)&&!ee&&i.mode&1)for(ue=i,ee=i.child;ee!==null;){for(te=ue=ee;ue!==null;){switch(Z=ue,oe=Z.child,Z.tag){case 0:case 11:case 14:case 15:ll(4,Z,Z.return);break;case 1:Lo(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){h=Z,l=Z.return;try{o=h,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(fe){at(h,l,fe)}}break;case 5:Lo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Ry(te);continue}}oe!==null?(oe.return=Z,ue=oe):Ry(te)}ee=ee.sibling}e:for(ee=null,te=i;;){if(te.tag===5){if(ee===null){ee=te;try{m=te.stateNode,W?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=te.stateNode,N=te.memoizedProps.style,E=N!=null&&N.hasOwnProperty("display")?N.display:null,C.style.display=Ia("display",E))}catch(fe){at(i,i.return,fe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=W?"":te.memoizedProps}catch(fe){at(i,i.return,fe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===i)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===i)break e;for(;te.sibling===null;){if(te.return===null||te.return===i)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Gn(o,i),cr(i),h&4&&Ty(i);break;case 21:break;default:Gn(o,i),cr(i)}}function cr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(wy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(ii(m,""),h.flags&=-33);var y=Ey(i);lf(i,y,m);break;case 3:case 4:var E=h.stateNode.containerInfo,C=Ey(i);af(i,C,E);break;default:throw Error(t(161))}}catch(N){at(i,i.return,N)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function $T(i,o,l){ue=i,Sy(i)}function Sy(i,o,l){for(var h=(i.mode&1)!==0;ue!==null;){var m=ue,y=m.child;if(m.tag===22&&h){var E=m.memoizedState!==null||dc;if(!E){var C=m.alternate,N=C!==null&&C.memoizedState!==null||Ht;C=dc;var W=Ht;if(dc=E,(Ht=N)&&!W)for(ue=m;ue!==null;)E=ue,N=E.child,E.tag===22&&E.memoizedState!==null?Cy(m):N!==null?(N.return=E,ue=N):Cy(m);for(;y!==null;)ue=y,Sy(y),y=y.sibling;ue=m,dc=C,Ht=W}ky(i)}else m.subtreeFlags&8772&&y!==null?(y.return=m,ue=y):ky(i)}}function ky(i){for(;ue!==null;){var o=ue;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Ht||fc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Ht)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Wn(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Rg(o,y,h);break;case 3:var E=o.updateQueue;if(E!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Rg(o,E,l)}break;case 5:var C=o.stateNode;if(l===null&&o.flags&4){l=C;var N=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&zn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||o.flags&512&&of(o)}catch(Z){at(o,o.return,Z)}}if(o===i){ue=null;break}if(l=o.sibling,l!==null){l.return=o.return,ue=l;break}ue=o.return}}function Ry(i){for(;ue!==null;){var o=ue;if(o===i){ue=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ue=l;break}ue=o.return}}function Cy(i){for(;ue!==null;){var o=ue;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{fc(4,o)}catch(N){at(o,l,N)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(N){at(o,m,N)}}var y=o.return;try{of(o)}catch(N){at(o,y,N)}break;case 5:var E=o.return;try{of(o)}catch(N){at(o,E,N)}}}catch(N){at(o,o.return,N)}if(o===i){ue=null;break}var C=o.sibling;if(C!==null){C.return=o.return,ue=C;break}ue=o.return}}var qT=Math.ceil,pc=G.ReactCurrentDispatcher,uf=G.ReactCurrentOwner,Dn=G.ReactCurrentBatchConfig,Ue=0,Pt=null,dt=null,Mt=0,wn=0,Vo=gi(0),Et=0,ul=null,Es=0,mc=0,cf=0,cl=null,ln=null,hf=0,Mo=1/0,Fr=null,gc=!1,df=null,Ai=null,yc=!1,Ti=null,_c=0,hl=0,ff=null,vc=-1,wc=0;function en(){return Ue&6?Ke():vc!==-1?vc:vc=Ke()}function Ii(i){return i.mode&1?Ue&2&&Mt!==0?Mt&-Mt:RT.transition!==null?(wc===0&&(wc=us()),wc):(i=De,i!==0||(i=window.event,i=i===void 0?16:Fa(i.type)),i):1}function Qn(i,o,l,h){if(50<hl)throw hl=0,ff=null,Error(t(185));li(i,l,h),(!(Ue&2)||i!==Pt)&&(i===Pt&&(!(Ue&2)&&(mc|=l),Et===4&&Si(i,Mt)),un(i,h),l===1&&Ue===0&&!(o.mode&1)&&(Mo=Ke()+500,Gu&&_i()))}function un(i,o){var l=i.callbackNode;Rr(i,o);var h=ls(i,i===Pt?Mt:0);if(h===0)l!==null&&Na(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&Na(l),o===1)i.tag===0?kT(by.bind(null,i)):mg(by.bind(null,i)),AT(function(){!(Ue&6)&&_i()}),l=null;else{switch(ci(h)){case 1:l=os;break;case 4:l=si;break;case 16:l=Sn;break;case 536870912:l=wu;break;default:l=Sn}l=Uy(l,Py.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Py(i,o){if(vc=-1,wc=0,Ue&6)throw Error(t(327));var l=i.callbackNode;if(Uo()&&i.callbackNode!==l)return null;var h=ls(i,i===Pt?Mt:0);if(h===0)return null;if(h&30||h&i.expiredLanes||o)o=Ec(i,h);else{o=h;var m=Ue;Ue|=2;var y=Dy();(Pt!==i||Mt!==o)&&(Fr=null,Mo=Ke()+500,Ts(i,o));do try{KT();break}catch(C){xy(i,C)}while(!0);bd(),pc.current=y,Ue=m,dt!==null?o=0:(Pt=null,Mt=0,o=Et)}if(o!==0){if(o===2&&(m=mn(i),m!==0&&(h=m,o=pf(i,m))),o===1)throw l=ul,Ts(i,0),Si(i,h),un(i,Ke()),l;if(o===6)Si(i,h);else{if(m=i.current.alternate,!(h&30)&&!HT(m)&&(o=Ec(i,h),o===2&&(y=mn(i),y!==0&&(h=y,o=pf(i,y))),o===1))throw l=ul,Ts(i,0),Si(i,h),un(i,Ke()),l;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Is(i,ln,Fr);break;case 3:if(Si(i,h),(h&130023424)===h&&(o=hf+500-Ke(),10<o)){if(ls(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){en(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=vd(Is.bind(null,i,ln,Fr),o);break}Is(i,ln,Fr);break;case 4:if(Si(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var E=31-Xt(h);y=1<<E,E=o[E],E>m&&(m=E),h&=~y}if(h=m,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*qT(h/1960))-h,10<h){i.timeoutHandle=vd(Is.bind(null,i,ln,Fr),h);break}Is(i,ln,Fr);break;case 5:Is(i,ln,Fr);break;default:throw Error(t(329))}}}return un(i,Ke()),i.callbackNode===l?Py.bind(null,i):null}function pf(i,o){var l=cl;return i.current.memoizedState.isDehydrated&&(Ts(i,o).flags|=256),i=Ec(i,o),i!==2&&(o=ln,ln=l,o!==null&&mf(o)),i}function mf(i){ln===null?ln=i:ln.push.apply(ln,i)}function HT(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!qn(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Si(i,o){for(o&=~cf,o&=~mc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Xt(o),h=1<<l;i[l]=-1,o&=~h}}function by(i){if(Ue&6)throw Error(t(327));Uo();var o=ls(i,0);if(!(o&1))return un(i,Ke()),null;var l=Ec(i,o);if(i.tag!==0&&l===2){var h=mn(i);h!==0&&(o=h,l=pf(i,h))}if(l===1)throw l=ul,Ts(i,0),Si(i,o),un(i,Ke()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Is(i,ln,Fr),un(i,Ke()),null}function gf(i,o){var l=Ue;Ue|=1;try{return i(o)}finally{Ue=l,Ue===0&&(Mo=Ke()+500,Gu&&_i())}}function As(i){Ti!==null&&Ti.tag===0&&!(Ue&6)&&Uo();var o=Ue;Ue|=1;var l=Dn.transition,h=De;try{if(Dn.transition=null,De=1,i)return i()}finally{De=h,Dn.transition=l,Ue=o,!(Ue&6)&&_i()}}function yf(){wn=Vo.current,Xe(Vo)}function Ts(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,ET(l)),dt!==null)for(l=dt.return;l!==null;){var h=l;switch(Sd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Wu();break;case 3:Oo(),Xe(sn),Xe(zt),Ud();break;case 5:Vd(h);break;case 4:Oo();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:xd(h.type._context);break;case 22:case 23:yf()}l=l.return}if(Pt=i,dt=i=ki(i.current,null),Mt=wn=o,Et=0,ul=null,cf=mc=Es=0,ln=cl=null,_s!==null){for(o=0;o<_s.length;o++)if(l=_s[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=m,h.next=E}l.pending=h}_s=null}return i}function xy(i,o){do{var l=dt;try{if(bd(),ic.current=lc,sc){for(var h=it.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}sc=!1}if(ws=0,Ct=wt=it=null,rl=!1,il=0,uf.current=null,l===null||l.return===null){Et=1,ul=o,dt=null;break}e:{var y=i,E=l.return,C=l,N=o;if(o=Mt,C.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=N,ee=C,te=ee.tag;if(!(ee.mode&1)&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var oe=ny(E);if(oe!==null){oe.flags&=-257,ry(oe,E,C,y,o),oe.mode&1&&ty(y,W,o),o=oe,N=W;var de=o.updateQueue;if(de===null){var fe=new Set;fe.add(N),o.updateQueue=fe}else de.add(N);break e}else{if(!(o&1)){ty(y,W,o),_f();break e}N=Error(t(426))}}else if(tt&&C.mode&1){var ut=ny(E);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),ry(ut,E,C,y,o),Cd(No(N,C));break e}}y=N=No(N,C),Et!==4&&(Et=2),cl===null?cl=[y]:cl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var $=Zg(y,N,o);kg(y,$);break e;case 1:C=N;var M=y.type,H=y.stateNode;if(!(y.flags&128)&&(typeof M.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ai===null||!Ai.has(H)))){y.flags|=65536,o&=-o,y.lanes|=o;var ne=ey(y,C,o);kg(y,ne);break e}}y=y.return}while(y!==null)}Ny(l)}catch(pe){o=pe,dt===l&&l!==null&&(dt=l=l.return);continue}break}while(!0)}function Dy(){var i=pc.current;return pc.current=lc,i===null?lc:i}function _f(){(Et===0||Et===3||Et===2)&&(Et=4),Pt===null||!(Es&268435455)&&!(mc&268435455)||Si(Pt,Mt)}function Ec(i,o){var l=Ue;Ue|=2;var h=Dy();(Pt!==i||Mt!==o)&&(Fr=null,Ts(i,o));do try{WT();break}catch(m){xy(i,m)}while(!0);if(bd(),Ue=l,pc.current=h,dt!==null)throw Error(t(261));return Pt=null,Mt=0,Et}function WT(){for(;dt!==null;)Oy(dt)}function KT(){for(;dt!==null&&!_u();)Oy(dt)}function Oy(i){var o=My(i.alternate,i,wn);i.memoizedProps=i.pendingProps,o===null?Ny(i):dt=o,uf.current=null}function Ny(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=jT(l,o),l!==null){l.flags&=32767,dt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Et=6,dt=null;return}}else if(l=FT(l,o,wn),l!==null){dt=l;return}if(o=o.sibling,o!==null){dt=o;return}dt=o=i}while(o!==null);Et===0&&(Et=5)}function Is(i,o,l){var h=De,m=Dn.transition;try{Dn.transition=null,De=1,GT(i,o,l,h)}finally{Dn.transition=m,De=h}return null}function GT(i,o,l,h){do Uo();while(Ti!==null);if(Ue&6)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(He(i,y),i===Pt&&(dt=Pt=null,Mt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||yc||(yc=!0,Uy(Sn,function(){return Uo(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=Dn.transition,Dn.transition=null;var E=De;De=1;var C=Ue;Ue|=4,uf.current=null,zT(i,l),Iy(l,i),pT(yd),di=!!gd,yd=gd=null,i.current=l,$T(l),ed(),Ue=C,De=E,Dn.transition=y}else i.current=l;if(yc&&(yc=!1,Ti=i,_c=m),y=i.pendingLanes,y===0&&(Ai=null),Eu(l.stateNode),un(i,Ke()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(gc)throw gc=!1,i=df,df=null,i;return _c&1&&i.tag!==0&&Uo(),y=i.pendingLanes,y&1?i===ff?hl++:(hl=0,ff=i):hl=0,_i(),null}function Uo(){if(Ti!==null){var i=ci(_c),o=Dn.transition,l=De;try{if(Dn.transition=null,De=16>i?16:i,Ti===null)var h=!1;else{if(i=Ti,Ti=null,_c=0,Ue&6)throw Error(t(331));var m=Ue;for(Ue|=4,ue=i.current;ue!==null;){var y=ue,E=y.child;if(ue.flags&16){var C=y.deletions;if(C!==null){for(var N=0;N<C.length;N++){var W=C[N];for(ue=W;ue!==null;){var ee=ue;switch(ee.tag){case 0:case 11:case 15:ll(8,ee,y)}var te=ee.child;if(te!==null)te.return=ee,ue=te;else for(;ue!==null;){ee=ue;var Z=ee.sibling,oe=ee.return;if(vy(ee),ee===W){ue=null;break}if(Z!==null){Z.return=oe,ue=Z;break}ue=oe}}}var de=y.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var ut=fe.sibling;fe.sibling=null,fe=ut}while(fe!==null)}}ue=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,ue=E;else e:for(;ue!==null;){if(y=ue,y.flags&2048)switch(y.tag){case 0:case 11:case 15:ll(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,ue=$;break e}ue=y.return}}var M=i.current;for(ue=M;ue!==null;){E=ue;var H=E.child;if(E.subtreeFlags&2064&&H!==null)H.return=E,ue=H;else e:for(E=M;ue!==null;){if(C=ue,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:fc(9,C)}}catch(pe){at(C,C.return,pe)}if(C===E){ue=null;break e}var ne=C.sibling;if(ne!==null){ne.return=C.return,ue=ne;break e}ue=C.return}}if(Ue=m,_i(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(as,i)}catch{}h=!0}return h}finally{De=l,Dn.transition=o}}return!1}function Ly(i,o,l){o=No(l,o),o=Zg(i,o,1),i=wi(i,o,1),o=en(),i!==null&&(li(i,1,o),un(i,o))}function at(i,o,l){if(i.tag===3)Ly(i,i,l);else for(;o!==null;){if(o.tag===3){Ly(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ai===null||!Ai.has(h))){i=No(l,i),i=ey(o,i,1),o=wi(o,i,1),i=en(),o!==null&&(li(o,1,i),un(o,i));break}}o=o.return}}function QT(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=en(),i.pingedLanes|=i.suspendedLanes&l,Pt===i&&(Mt&l)===l&&(Et===4||Et===3&&(Mt&130023424)===Mt&&500>Ke()-hf?Ts(i,0):cf|=l),un(i,o)}function Vy(i,o){o===0&&(i.mode&1?(o=oo,oo<<=1,!(oo&130023424)&&(oo=4194304)):o=1);var l=en();i=Vr(i,o),i!==null&&(li(i,o,l),un(i,l))}function JT(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Vy(i,l)}function XT(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),Vy(i,l)}var My;My=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||sn.current)an=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return an=!1,UT(i,o,l);an=!!(i.flags&131072)}else an=!1,tt&&o.flags&1048576&&gg(o,Ju,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;hc(i,o),i=o.pendingProps;var m=ko(o,zt.current);Do(o,l),m=Bd(null,o,h,i,m,l);var y=zd();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,on(h)?(y=!0,Ku(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Nd(o),m.updater=uc,o.stateNode=m,m._reactInternals=o,Gd(o,h,i,l),o=Yd(null,o,h,!0,y,l)):(o.tag=0,tt&&y&&Id(o),Zt(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(hc(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=ZT(h),i=Wn(h,i),m){case 0:o=Xd(null,o,h,i,l);break e;case 1:o=uy(null,o,h,i,l);break e;case 11:o=iy(null,o,h,i,l);break e;case 14:o=sy(null,o,h,Wn(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Wn(h,m),Xd(i,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Wn(h,m),uy(i,o,h,m,l);case 3:e:{if(cy(o),i===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,Sg(i,o),nc(o,h,null,l);var E=o.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=No(Error(t(423)),o),o=hy(i,o,h,l,m);break e}else if(h!==m){m=No(Error(t(424)),o),o=hy(i,o,h,l,m);break e}else for(vn=mi(o.stateNode.containerInfo.firstChild),_n=o,tt=!0,Hn=null,l=Tg(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Po(),h===m){o=Ur(i,o,l);break e}Zt(i,o,h,l)}o=o.child}return o;case 5:return Cg(o),i===null&&Rd(o),h=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,E=m.children,_d(h,m)?E=null:y!==null&&_d(h,y)&&(o.flags|=32),ly(i,o),Zt(i,o,E,l),o.child;case 6:return i===null&&Rd(o),null;case 13:return dy(i,o,l);case 4:return Ld(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=bo(o,null,h,l):Zt(i,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Wn(h,m),iy(i,o,h,m,l);case 7:return Zt(i,o,o.pendingProps,l),o.child;case 8:return Zt(i,o,o.pendingProps.children,l),o.child;case 12:return Zt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,E=m.value,Ge(Zu,h._currentValue),h._currentValue=E,y!==null)if(qn(y.value,E)){if(y.children===m.children&&!sn.current){o=Ur(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var C=y.dependencies;if(C!==null){E=y.child;for(var N=C.firstContext;N!==null;){if(N.context===h){if(y.tag===1){N=Mr(-1,l&-l),N.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?N.next=N:(N.next=ee.next,ee.next=N),W.pending=N}}y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),Dd(y.return,l,o),C.lanes|=l;break}N=N.next}}else if(y.tag===10)E=y.type===o.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,C=E.alternate,C!==null&&(C.lanes|=l),Dd(E,l,o),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===o){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Zt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Do(o,l),m=bn(m),h=h(m),o.flags|=1,Zt(i,o,h,l),o.child;case 14:return h=o.type,m=Wn(h,o.pendingProps),m=Wn(h.type,m),sy(i,o,h,m,l);case 15:return oy(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Wn(h,m),hc(i,o),o.tag=1,on(h)?(i=!0,Ku(o)):i=!1,Do(o,l),Xg(o,h,m),Gd(o,h,m,l),Yd(null,o,h,!0,i,l);case 19:return py(i,o,l);case 22:return ay(i,o,l)}throw Error(t(156,o.tag))};function Uy(i,o){return io(i,o)}function YT(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(i,o,l,h){return new YT(i,o,l,h)}function vf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ZT(i){if(typeof i=="function")return vf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===mt)return 14}return 2}function ki(i,o){var l=i.alternate;return l===null?(l=On(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Ac(i,o,l,h,m,y){var E=2;if(h=i,typeof i=="function")vf(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case x:return Ss(l.children,m,y,o);case S:E=8,m|=8;break;case R:return i=On(12,l,o,m|2),i.elementType=R,i.lanes=y,i;case b:return i=On(13,l,o,m),i.elementType=b,i.lanes=y,i;case nt:return i=On(19,l,o,m),i.elementType=nt,i.lanes=y,i;case Fe:return Tc(l,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:E=10;break e;case L:E=9;break e;case F:E=11;break e;case mt:E=14;break e;case gt:E=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=On(E,l,o,m),o.elementType=i,o.type=h,o.lanes=y,o}function Ss(i,o,l,h){return i=On(7,i,h,o),i.lanes=l,i}function Tc(i,o,l,h){return i=On(22,i,h,o),i.elementType=Fe,i.lanes=l,i.stateNode={isHidden:!1},i}function wf(i,o,l){return i=On(6,i,null,o),i.lanes=l,i}function Ef(i,o,l){return o=On(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function e0(i,o,l,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Af(i,o,l,h,m,y,E,C,N){return i=new e0(i,o,l,C,N),o===1?(o=1,y===!0&&(o|=8)):o=0,y=On(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nd(y),i}function t0(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:he,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function Fy(i){if(!i)return yi;i=i._reactInternals;e:{if(Mn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(on(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(on(l))return fg(i,l,o)}return o}function jy(i,o,l,h,m,y,E,C,N){return i=Af(l,h,!0,i,m,y,E,C,N),i.context=Fy(null),l=i.current,h=en(),m=Ii(l),y=Mr(h,m),y.callback=o??null,wi(l,y,m),i.current.lanes=m,li(i,m,h),un(i,h),i}function Ic(i,o,l,h){var m=o.current,y=en(),E=Ii(m);return l=Fy(l),o.context===null?o.context=l:o.pendingContext=l,o=Mr(y,E),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=wi(m,o,E),i!==null&&(Qn(i,m,E,y),tc(i,m,E)),E}function Sc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function By(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Tf(i,o){By(i,o),(i=i.alternate)&&By(i,o)}var zy=typeof reportError=="function"?reportError:function(i){console.error(i)};function If(i){this._internalRoot=i}kc.prototype.render=If.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Ic(i,o,null,null)},kc.prototype.unmount=If.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;As(function(){Ic(null,i,null,null)}),o[Dr]=null}};function kc(i){this._internalRoot=i}kc.prototype.unstable_scheduleHydration=function(i){if(i){var o=ku();i={blockedOn:null,target:i,priority:o};for(var l=0;l<rr.length&&o!==0&&o<rr[l].priority;l++);rr.splice(l,0,i),l===0&&Pu(i)}};function Sf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Rc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function $y(){}function n0(i,o,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var W=Sc(E);y.call(W)}}var E=jy(o,h,i,0,null,!1,!1,"",$y);return i._reactRootContainer=E,i[Dr]=E.current,Qa(i.nodeType===8?i.parentNode:i),As(),E}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var C=h;h=function(){var W=Sc(N);C.call(W)}}var N=Af(i,0,!1,null,null,!1,!1,"",$y);return i._reactRootContainer=N,i[Dr]=N.current,Qa(i.nodeType===8?i.parentNode:i),As(function(){Ic(o,N,l,h)}),N}function Cc(i,o,l,h,m){var y=l._reactRootContainer;if(y){var E=y;if(typeof m=="function"){var C=m;m=function(){var N=Sc(E);C.call(N)}}Ic(o,E,i,m)}else E=n0(l,o,i,m,h);return Sc(E)}Iu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=oi(o.pendingLanes);l!==0&&(ui(o,l|1),un(o,Ke()),!(Ue&6)&&(Mo=Ke()+500,_i()))}break;case 13:As(function(){var h=Vr(i,1);if(h!==null){var m=en();Qn(h,i,1,m)}}),Tf(i,1)}},ao=function(i){if(i.tag===13){var o=Vr(i,134217728);if(o!==null){var l=en();Qn(o,i,134217728,l)}Tf(i,134217728)}},Su=function(i){if(i.tag===13){var o=Ii(i),l=Vr(i,o);if(l!==null){var h=en();Qn(l,i,o,h)}Tf(i,o)}},ku=function(){return De},Ru=function(i,o){var l=De;try{return De=i,o()}finally{De=l}},Ys=function(i,o,l){switch(o){case"input":if(wa(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var m=Hu(h);if(!m)throw Error(t(90));Ws(h),wa(h,m)}}}break;case"textarea":Js(i,l);break;case"select":o=l.value,o!=null&&Ir(i,!!l.multiple,o,!1)}},ns=gf,ba=As;var r0={usingClientEntryPoint:!1,Events:[Ya,Io,Hu,tr,Pa,gf]},dl={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i0={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Oa(i),i===null?null:i.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{as=Pc.inject(i0),pn=Pc}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r0,cn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sf(o))throw Error(t(200));return t0(i,o,null,l)},cn.createRoot=function(i,o){if(!Sf(i))throw Error(t(299));var l=!1,h="",m=zy;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Af(i,1,!1,null,null,l,!1,h,m),i[Dr]=o.current,Qa(i.nodeType===8?i.parentNode:i),new If(o)},cn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Oa(o),i=i===null?null:i.stateNode,i},cn.flushSync=function(i){return As(i)},cn.hydrate=function(i,o,l){if(!Rc(o))throw Error(t(200));return Cc(null,i,o,!0,l)},cn.hydrateRoot=function(i,o,l){if(!Sf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",E=zy;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),o=jy(o,null,i,1,l??null,m,!1,y,E),i[Dr]=o.current,Qa(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new kc(o)},cn.render=function(i,o,l){if(!Rc(o))throw Error(t(200));return Cc(null,i,o,!1,l)},cn.unmountComponentAtNode=function(i){if(!Rc(i))throw Error(t(40));return i._reactRootContainer?(As(function(){Cc(null,null,i,!1,function(){i._reactRootContainer=null,i[Dr]=null})}),!0):!1},cn.unstable_batchedUpdates=gf,cn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Rc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Cc(i,o,l,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var Xy;function f0(){if(Xy)return Cf.exports;Xy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cf.exports=d0(),Cf.exports}var Yy;function p0(){if(Yy)return bc;Yy=1;var n=f0();return bc.createRoot=n.createRoot,bc.hydrateRoot=n.hydrateRoot,bc}var m0=p0();const g0=Op(m0);var pl={},Zy;function y0(){if(Zy)return pl;Zy=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.parse=u,pl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function u(A,I){const P=new a,D=A.length;if(D<2)return P;const k=(I==null?void 0:I.decode)||_;let V=0;do{const U=A.indexOf("=",V);if(U===-1)break;const q=A.indexOf(";",V),G=q===-1?D:q;if(U>G){V=A.lastIndexOf(";",U-1)+1;continue}const re=d(A,V,U),he=f(A,U,re),x=A.slice(re,he);if(P[x]===void 0){let S=d(A,U+1,G),R=f(A,G,S);const O=k(A.slice(S,R));P[x]=O}V=G+1}while(V<D);return P}function d(A,I,P){do{const D=A.charCodeAt(I);if(D!==32&&D!==9)return I}while(++I<P);return P}function f(A,I,P){for(;I>P;){const D=A.charCodeAt(--I);if(D!==32&&D!==9)return I+1}return P}function p(A,I,P){const D=(P==null?void 0:P.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const k=D(I);if(!e.test(k))throw new TypeError(`argument val is invalid: ${I}`);let V=A+"="+k;if(!P)return V;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);V+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);V+="; Domain="+P.domain}if(P.path){if(!r.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);V+="; Path="+P.path}if(P.expires){if(!w(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);V+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(V+="; HttpOnly"),P.secure&&(V+="; Secure"),P.partitioned&&(V+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return V}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return s.call(A)==="[object Date]"}return pl}y0();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e_="popstate";function _0(n={}){function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return Gf("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Ul(s)}return w0(e,t,null,n)}function st(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v0(){return Math.random().toString(36).substring(2,10)}function t_(n,e){return{usr:n.state,key:n.key,idx:e}}function Gf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ua(e):e,state:t,key:e&&e.key||r||v0()}}function Ul({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ua(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function w0(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d="POP",f=null,p=_();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function _(){return(u.state||{idx:null}).idx}function w(){d="POP";let k=_(),V=k==null?null:k-p;p=k,f&&f({action:d,location:D.location,delta:V})}function A(k,V){d="PUSH";let U=Gf(D.location,k,V);p=_()+1;let q=t_(U,p),G=D.createHref(U);try{u.pushState(q,"",G)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;s.location.assign(G)}a&&f&&f({action:d,location:D.location,delta:1})}function I(k,V){d="REPLACE";let U=Gf(D.location,k,V);p=_();let q=t_(U,p),G=D.createHref(U);u.replaceState(q,"",G),a&&f&&f({action:d,location:D.location,delta:0})}function P(k){let V=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof k=="string"?k:Ul(k);return U=U.replace(/ $/,"%20"),st(V,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,V)}let D={get action(){return d},get location(){return n(s,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(e_,w),f=k,()=>{s.removeEventListener(e_,w),f=null}},createHref(k){return e(s,k)},createURL:P,encodeLocation(k){let V=P(k);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:A,replace:I,go(k){return u.go(k)}};return D}function Qv(n,e,t="/"){return E0(n,e,t,!1)}function E0(n,e,t,r){let s=typeof e=="string"?ua(e):e,a=$i(s.pathname||"/",t);if(a==null)return null;let u=Jv(n);A0(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=O0(a);d=x0(u[f],p,r)}return d}function Jv(n,e=[],t=[],r=""){let s=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(st(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=qr([r,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(st(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Jv(a.children,e,_,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:P0(p,a.index),routesMeta:_})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let f of Xv(a.path))s(a,u,f)}),e}function Xv(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=Xv(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function A0(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:b0(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var T0=/^:[\w-]+$/,I0=3,S0=2,k0=1,R0=10,C0=-2,n_=n=>n==="*";function P0(n,e){let t=n.split("/"),r=t.length;return t.some(n_)&&(r+=C0),e&&(r+=S0),t.filter(s=>!n_(s)).reduce((s,a)=>s+(T0.test(a)?I0:a===""?k0:R0),r)}function b0(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function x0(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",w=rh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},_),A=f.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=rh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:qr([a,w.pathname]),pathnameBase:M0(qr([a,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(a=qr([a,w.pathnameBase]))}return u}function rh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=D0(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:w},A)=>{if(_==="*"){let P=d[A]||"";u=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const I=d[A];return w&&!I?p[_]=void 0:p[_]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function D0(n,e=!1,t=!0){vr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function O0(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $i(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function N0(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ua(n):n;return{pathname:t?t.startsWith("/")?t:L0(t,e):e,search:U0(r),hash:F0(s)}}function L0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function xf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yv(n){let e=V0(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Zv(n,e,t,r=!1){let s;typeof n=="string"?s=ua(n):(s={...n},st(!s.pathname||!s.pathname.includes("?"),xf("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),xf("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),xf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),w-=1;s.pathname=A.join("/")}d=w>=0?e[w]:"/"}let f=N0(s,d),p=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||_)&&(f.pathname+="/"),f}var qr=n=>n.join("/").replace(/\/\/+/g,"/"),M0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),U0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,F0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function j0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ew=["POST","PUT","PATCH","DELETE"];new Set(ew);var B0=["GET",...ew];new Set(B0);var ca=z.createContext(null);ca.displayName="DataRouter";var Ih=z.createContext(null);Ih.displayName="DataRouterState";var tw=z.createContext({isTransitioning:!1});tw.displayName="ViewTransition";var z0=z.createContext(new Map);z0.displayName="Fetchers";var $0=z.createContext(null);$0.displayName="Await";var Er=z.createContext(null);Er.displayName="Navigation";var Jl=z.createContext(null);Jl.displayName="Location";var Zr=z.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var Lp=z.createContext(null);Lp.displayName="RouteError";function q0(n,{relative:e}={}){st(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=z.useContext(Er),{hash:s,pathname:a,search:u}=Zl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:qr([t,a])),r.createHref({pathname:d,search:u,hash:s})}function Xl(){return z.useContext(Jl)!=null}function Us(){return st(Xl(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Jl).location}var nw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rw(n){z.useContext(Er).static||z.useLayoutEffect(n)}function Yl(){let{isDataRoute:n}=z.useContext(Zr);return n?rI():H0()}function H0(){st(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(ca),{basename:e,navigator:t}=z.useContext(Er),{matches:r}=z.useContext(Zr),{pathname:s}=Us(),a=JSON.stringify(Yv(r)),u=z.useRef(!1);return rw(()=>{u.current=!0}),z.useCallback((f,p={})=>{if(vr(u.current,nw),!u.current)return;if(typeof f=="number"){t.go(f);return}let _=Zv(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:qr([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,a,s,n])}z.createContext(null);function Zl(n,{relative:e}={}){let{matches:t}=z.useContext(Zr),{pathname:r}=Us(),s=JSON.stringify(Yv(t));return z.useMemo(()=>Zv(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function W0(n,e){return iw(n,e)}function iw(n,e,t,r){var V;st(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=z.useContext(Er),{matches:a}=z.useContext(Zr),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",_=u&&u.route;{let U=_&&_.path||"";sw(f,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=Us(),A;if(e){let U=typeof e=="string"?ua(e):e;st(p==="/"||((V=U.pathname)==null?void 0:V.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),A=U}else A=w;let I=A.pathname||"/",P=I;if(p!=="/"){let U=p.replace(/^\//,"").split("/");P="/"+I.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=Qv(n,{pathname:P});vr(_||D!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),vr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=X0(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:qr([p,s.encodeLocation?s.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:qr([p,s.encodeLocation?s.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),a,t,r);return e&&k?z.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},k):k}function K0(){let n=nI(),e=j0(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:s},t):null,u)}var G0=z.createElement(K0,null),Q0=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(Zr.Provider,{value:this.props.routeContext},z.createElement(Lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J0({routeContext:n,match:e,children:t}){let r=z.useContext(ca);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Zr.Provider,{value:n},t)}function X0(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);st(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:_,errors:w}=t,A=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||A){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,p,_)=>{let w,A=!1,I=null,P=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||G0,u&&(d<0&&_===0?(sw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,P=null):d===_&&(A=!0,P=p.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,_+1)),k=()=>{let V;return w?V=I:A?V=P:p.route.Component?V=z.createElement(p.route.Component,null):p.route.element?V=p.route.element:V=f,z.createElement(J0,{match:p,routeContext:{outlet:f,matches:D,isDataRoute:t!=null},children:V})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?z.createElement(Q0,{location:t.location,revalidation:t.revalidation,component:I,error:w,children:k(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):k()},null)}function Vp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y0(n){let e=z.useContext(ca);return st(e,Vp(n)),e}function Z0(n){let e=z.useContext(Ih);return st(e,Vp(n)),e}function eI(n){let e=z.useContext(Zr);return st(e,Vp(n)),e}function Mp(n){let e=eI(n),t=e.matches[e.matches.length-1];return st(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tI(){return Mp("useRouteId")}function nI(){var r;let n=z.useContext(Lp),e=Z0("useRouteError"),t=Mp("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function rI(){let{router:n}=Y0("useNavigate"),e=Mp("useNavigate"),t=z.useRef(!1);return rw(()=>{t.current=!0}),z.useCallback(async(s,a={})=>{vr(t.current,nw),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var r_={};function sw(n,e,t){!e&&!r_[n]&&(r_[n]=!0,vr(!1,t))}z.memo(iI);function iI({routes:n,future:e,state:t}){return iw(n,void 0,t,e)}function $c(n){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){st(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=ua(t));let{pathname:f="/",search:p="",hash:_="",state:w=null,key:A="default"}=t,I=z.useMemo(()=>{let P=$i(f,u);return P==null?null:{location:{pathname:P,search:p,hash:_,state:w,key:A},navigationType:r}},[u,f,p,_,w,A,r]);return vr(I!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:z.createElement(Er.Provider,{value:d},z.createElement(Jl.Provider,{children:e,value:I}))}function oI({children:n,location:e}){return W0(Qf(n),e)}function Qf(n,e=[]){let t=[];return z.Children.forEach(n,(r,s)=>{if(!z.isValidElement(r))return;let a=[...e,s];if(r.type===z.Fragment){t.push.apply(t,Qf(r.props.children,a));return}st(r.type===$c,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Qf(r.props.children,a)),t.push(u)}),t}var qc="get",Hc="application/x-www-form-urlencoded";function Sh(n){return n!=null&&typeof n.tagName=="string"}function aI(n){return Sh(n)&&n.tagName.toLowerCase()==="button"}function lI(n){return Sh(n)&&n.tagName.toLowerCase()==="form"}function uI(n){return Sh(n)&&n.tagName.toLowerCase()==="input"}function cI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hI(n,e){return n.button===0&&(!e||e==="_self")&&!cI(n)}var xc=null;function dI(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var fI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Df(n){return n!=null&&!fI.has(n)?(vr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):n}function pI(n,e){let t,r,s,a,u;if(lI(n)){let d=n.getAttribute("action");r=d?$i(d,e):null,t=n.getAttribute("method")||qc,s=Df(n.getAttribute("enctype"))||Hc,a=new FormData(n)}else if(aI(n)||uI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?$i(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||qc,s=Df(n.getAttribute("formenctype"))||Df(d.getAttribute("enctype"))||Hc,a=new FormData(d,n),!dI()){let{name:p,type:_,value:w}=n;if(_==="image"){let A=p?`${p}.`:"";a.append(`${A}x`,"0"),a.append(`${A}y`,"0")}else p&&a.append(p,w)}}else{if(Sh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qc,r=null,s=Hc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function Up(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function mI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function yI(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await mI(a,t);return u.links?u.links():[]}return[]}));return EI(r.flat(1).filter(gI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function i_(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,d=(f,p)=>{var _;return t[p].pathname!==f.pathname||((_=t[p].route.path)==null?void 0:_.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{var w;let _=r.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let A=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function _I(n,e){return vI(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function vI(n){return[...new Set(n)]}function wI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function EI(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(wI(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function AI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function TI(){let n=z.useContext(ca);return Up(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function II(){let n=z.useContext(Ih);return Up(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Fp=z.createContext(void 0);Fp.displayName="FrameworkContext";function ow(){let n=z.useContext(Fp);return Up(n,"You must render this element inside a <HydratedRouter> element"),n}function SI(n,e){let t=z.useContext(Fp),[r,s]=z.useState(!1),[a,u]=z.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:_,onTouchStart:w}=e,A=z.useRef(null);z.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=V=>{V.forEach(U=>{u(U.isIntersecting)})},k=new IntersectionObserver(D,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[n]),z.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let I=()=>{s(!0)},P=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,A,{}]:[a,A,{onFocus:ml(d,I),onBlur:ml(f,P),onMouseEnter:ml(p,I),onMouseLeave:ml(_,P),onTouchStart:ml(w,I)}]:[!1,A,{}]}function ml(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kI({page:n,...e}){let{router:t}=TI(),r=z.useMemo(()=>Qv(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?z.createElement(CI,{page:n,matches:r,...e}):null}function RI(n){let{manifest:e,routeModules:t}=ow(),[r,s]=z.useState([]);return z.useEffect(()=>{let a=!1;return yI(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function CI({page:n,matches:e,...t}){let r=Us(),{manifest:s,routeModules:a}=ow(),{loaderData:u,matches:d}=II(),f=z.useMemo(()=>i_(n,e,d,s,r,"data"),[n,e,d,s,r]),p=z.useMemo(()=>i_(n,e,d,s,r,"assets"),[n,e,d,s,r]),_=z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,P=!1;if(e.forEach(k=>{var U;let V=s.routes[k.route.id];!V||!V.hasLoader||(!f.some(q=>q.route.id===k.route.id)&&k.route.id in u&&((U=a[k.route.id])!=null&&U.shouldRevalidate)||V.hasClientLoader?P=!0:I.add(k.route.id))}),I.size===0)return[];let D=AI(n);return P&&I.size>0&&D.searchParams.set("_routes",e.filter(k=>I.has(k.route.id)).map(k=>k.route.id).join(",")),[D.pathname+D.search]},[u,r,s,f,e,n,a]),w=z.useMemo(()=>_I(p,s),[p,s]),A=RI(p);return z.createElement(z.Fragment,null,_.map(I=>z.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),w.map(I=>z.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),A.map(({key:I,link:P})=>z.createElement("link",{key:I,...P})))}function PI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aw&&(window.__reactRouterVersion="7.1.1")}catch{}function bI({basename:n,children:e,window:t}){let r=z.useRef();r.current==null&&(r.current=_0({window:t,v5Compat:!0}));let s=r.current,[a,u]=z.useState({action:s.action,location:s.location}),d=z.useCallback(f=>{z.startTransition(()=>u(f))},[u]);return z.useLayoutEffect(()=>s.listen(d),[s,d]),z.createElement(sI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var lw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uw=z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:_,viewTransition:w,...A},I){let{basename:P}=z.useContext(Er),D=typeof p=="string"&&lw.test(p),k,V=!1;if(typeof p=="string"&&D&&(k=p,aw))try{let R=new URL(window.location.href),O=p.startsWith("//")?new URL(R.protocol+p):new URL(p),L=$i(O.pathname,P);O.origin===R.origin&&L!=null?p=L+O.search+O.hash:V=!0}catch{vr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=q0(p,{relative:s}),[q,G,re]=SI(r,A),he=NI(p,{replace:u,state:d,target:f,preventScrollReset:_,relative:s,viewTransition:w});function x(R){e&&e(R),R.defaultPrevented||he(R)}let S=z.createElement("a",{...A,...re,href:k||U,onClick:V||a?e:x,ref:PI(I,G),target:f,"data-discover":!D&&t==="render"?"true":void 0});return q&&!D?z.createElement(z.Fragment,null,S,z.createElement(kI,{page:U})):S});uw.displayName="Link";var xI=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:d,children:f,...p},_){let w=Zl(u,{relative:p.relative}),A=Us(),I=z.useContext(Ih),{navigator:P,basename:D}=z.useContext(Er),k=I!=null&&FI(w)&&d===!0,V=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,U=A.pathname,q=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(U=U.toLowerCase(),q=q?q.toLowerCase():null,V=V.toLowerCase()),q&&D&&(q=$i(q,D)||q);const G=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let re=U===V||!s&&U.startsWith(V)&&U.charAt(G)==="/",he=q!=null&&(q===V||!s&&q.startsWith(V)&&q.charAt(V.length)==="/"),x={isActive:re,isPending:he,isTransitioning:k},S=re?e:void 0,R;typeof r=="function"?R=r(x):R=[r,re?"active":null,he?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(x):a;return z.createElement(uw,{...p,"aria-current":S,className:R,ref:_,style:O,to:u,viewTransition:d},typeof f=="function"?f(x):f)});xI.displayName="NavLink";var DI=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=qc,action:d,onSubmit:f,relative:p,preventScrollReset:_,viewTransition:w,...A},I)=>{let P=MI(),D=UI(d,{relative:p}),k=u.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&lw.test(d),U=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let G=q.nativeEvent.submitter,re=(G==null?void 0:G.getAttribute("formmethod"))||u;P(G||q.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:s,state:a,relative:p,preventScrollReset:_,viewTransition:w})};return z.createElement("form",{ref:I,method:k,action:D,onSubmit:r?f:U,...A,"data-discover":!V&&n==="render"?"true":void 0})});DI.displayName="Form";function OI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cw(n){let e=z.useContext(ca);return st(e,OI(n)),e}function NI(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let d=Yl(),f=Us(),p=Zl(n,{relative:a});return z.useCallback(_=>{if(hI(_,e)){_.preventDefault();let w=t!==void 0?t:Ul(f)===Ul(p);d(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,d,p,t,r,e,n,s,a,u])}var LI=0,VI=()=>`__${String(++LI)}__`;function MI(){let{router:n}=cw("useSubmit"),{basename:e}=z.useContext(Er),t=tI();return z.useCallback(async(r,s={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=pI(r,e);if(s.navigate===!1){let _=s.fetcherKey||VI();await n.fetch(_,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function UI(n,{relative:e}={}){let{basename:t}=z.useContext(Er),r=z.useContext(Zr);st(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Zl(n||".",{relative:e})},u=Us();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(_=>_==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:qr([t,a.pathname])),Ul(a)}function FI(n,e={}){let t=z.useContext(tw);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cw("useViewTransitionState"),s=Zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=$i(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=$i(t.nextLocation.pathname,r)||t.nextLocation.pathname;return rh(s.pathname,u)!=null||rh(s.pathname,a)!=null}new TextEncoder;const jI="/chiefgram/assets/Chiefgram-logo-wkl1Tb-E.jpg",BI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAK1JREFUSEvtlLEJAkEQRd8vRGswsBFBtAgRwT5MLhDsQAPBSrQKLcLky8JFItxH7uCC3Xj2PebPzoqBjwbmMx6B7QlwBwzMJL2S7uMObO+BQwvdSWr6FkyBB/AG5pKevQoS2K+aOKIqiBKwvSnPVNIxugD5otleAZcWvJB0SyTxkG2vgXMLXUq69iooMNvbsgeSTgm81MQdpMDvuiroTC6OqH7XnVn+WxDPYLSCD1IKNhkF6hdiAAAAAElFTkSuQmCC",zI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAjVJREFUSEu1lUuIjmEYhq87C4pxHjV2s3CIkBjKWQorh0jZKsNiimYhO7ZSlLKwobBhJhsbE4mk5Cxy2Mghp5TTiFLc3md6Z5ox3+f///rnXX7f8z7Xc7xfMcRHQ+yf/wJsLwU2AouBaTmYp8A1oEPSzUoBFgJszwBOAvMqOOgCWiW9KrMbBLAdTi8C44APwGHgDnA/O5kLtADtwATgHbBS0rMiyACA7SnADWA8cBpok/S16KLtsDkOrAdeAgslRUADzr+Au0BEeETSrkr1jf+2O4FNqZznJa0rBdgOozB+DkyV9LtKwKh8pzFKJ+l2/3t9Gdg+A2wBdko6Vo3zXhvb+1My+4CDkvaUAd4Ak4EmSe9rBERZo7y3JC0oA/wERgDDJP2pETAaiGH4LCma33f6l6gbiHo2SPpeI6Ahje03oFtSwAoBT4DpaUNnSnpcI2B22vgHwCNJs8oA0dhWYK+kAzUCosHR6KOS2soAa4ALCfIWaJb0qxqI7ZHAC2AisELS1UJAXprrwCLgRNKXbZUAtqOHHXnRuiStLV20DGgGQiEjmrNJZ3ZI+lIEsj0JOAWsBmLE5xeNd5HYxUxfynoU2nIoi909YDgwJ3QH2A2MzSVdJSlkfNCph1xvl/TadlPOaKukj72kSg/O8iTTG1JGS0KfgNCniDQa2SkpZLzn2D6XH6eHudmf4nvdnkzb0bcrsUe5pMuSLv2oGyBnEY/U5fwIba47IEPGZMno0bO6ZlA0RX8BhCHJGX2UsWgAAAAASUVORK5CYII=",$I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAtBJREFUWEftVk1oE0EYfV+Wbi5iozQH6c2LoB5E8W9DNLUKPUtTry0lu02g4E3EgygePAgeirY7pfTcVhA8ebBEbTdWESyU5ObVi6LizyGhu2O33Y2zIdvdbFJzcW47O/O9973vzTdD6PKgLuPjP4G6Aq/HxpJST88agMN7XJaPZJpnlLm5rzZOnYChacPgfGmPwbfDE+dXldnZpx4CJVXNcmDRmaxw4HMnyRCQ3Ip/dIcBZVO6/sRDYDWXGyGiBWdyRGGso2r4xa+XoOsExBKIEi1ms1J/IqER0RDnvFIjejDA2JdWy+MXP1ABI5e7D6IbLiABlfOMHSeAt0IicgkMVf0GICGCUSx2VpmZefevCHwCcMgDRqSkdP2NO1csFPbJm5vPLOBmmrG3zYi1o8A9ALf8SrA2ObnfrFZfADgN4JcFXG5GIpBAKBMCGzXgoWvC96raWwOWOXDKJciB3xwYbCQRaEK/BX51Lo6OJmRZXgZw0lnzXfDKTwu4IpIIJNBKH3BkfwXghANergEZGbgLIL/T7GhR0fVrbgKRS9CowEo+fyBmmnbN3cw3yDQz7uViaNojcF5oJGBfdhSPH7Pj8Wq1fGF+frvVB/YBkYADvgJgOxCAsiVJ6fT0tH1U68NQ1ccA+lKMjQQd1ea3oXBZuAFK4+MHuSTZNXdlXyfTHHQzbwQqadqQouvPQxPYzQNhM/cDM3K5JRAN2/9TjHleYYElKKpqnwy8FGRftyTpUqPsu2UamYADvgrgiAOwLsXjF89NTf0IktbjiSgKVIGiDLQNbhMJpYDYKDhRnji/HjVzETBIqboHPJ0KqAKIC5s/AAiSvbhlsDv2npKmLWy9HQKPoKcPtPsoFRuPoaq3AQwICdhvwaTzbXfQ+virwMREP7esMoDeINma/W/sfOIaURHfYxgFNOyeUCYMGyzKuu4TEDyRYizT1ANRMuvEnj8PgqChtN5ixgAAAABJRU5ErkJggg==",qI="/chiefgram/assets/chief-logo-iu5tm5dj.png",HI="/chiefgram/assets/chief-logo1-Dt12fAT_.png",WI="/chiefgram/assets/chief-logo3-BMUXY-am.png",KI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAn9JREFUSEu11VHoj2cUB/DPXzKijdoNhsUFZTGK3aw1NzISbW1coE1ikriQG5rJrrakkLW5IJKIxcxmyoXE3dpGJLNZcrGbaSYbmfEcnTe/3r2/3y+r/7l83vM833PO93u+b49ejp5efl83gGfwFmZgIl7EQ/yKH/ANvsD9doV2AngDO/LRTo1exfs41ZTUDuDDUumGvHAdB3AcP+bZy5iNd/BCnq3B5jpIE0D1+G0swLEcS1OBffA2dmEAVmFra2IdIKr6EnfKfF8ply+2JI9CjK0vThTwGE0VU3Emv72Gs9WHVoBBuIKhWfm+lgdWZGVRccQ/WJqVV2mrsQWXC/ETKuJbAYKoT3POk1rGMho/8Vhx0X4/LMdfGFMI/i0R4vzn5GQujsZ5K8BXmIWoNtRTxYgiy3dxDx/n4aGU7+JaF5tKd+vxOZbVAW5geFb1S5cFPIw3sRLbW3JfTS6+L1xOrgNEy6GE/lltE8Y8TMvq7uasY3xVDMHNAvx7AX6+DnALzyLIDhU1xQME0X8gwE7WkuJuyDveGlwHCPbHZlUX2gCETUQ8hz8bcmIs35UFvITxdYD9RWLzizrW4pMuHLT7HAQH0XuxqA6wEHtSkuPwb8MrVQdNDhALGDIdmeM7WAcIgmNMkfBeMbndTwkQioo9iWWNRQtZ/8eup+Nb/F3MbUrNKjpNLXLPpQBeT6k+zm9qdV3xlI9SCWF2sYDtIhQVatpZeBvYsBdtfzgfFPCN+eq1tOuvy3KdT6t4CXPSSYelrYSTbqtX0umHE7bxWW53p/GEqy4pC3i6KanbLzO2OixhZhIXlh1KCrWE3mPRjqS7NhbRDeB/rsOTa70O8Ai/jXkZ709oFgAAAABJRU5ErkJggg==",GI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAB1tJREFUeJzt3V9snXUdx/Hv7/R0QChbW6DEeGP8A0JZVxBcomHRRIT9MTgTLyBBJpN5JXABCdwtXoIijCuyOIfRYRYjF2ILQmLi4oV/FtduI8wE9JJ/9rSy6GA9z8+LkpDxZ4zR9vecPq/XdZPzftI+nz7tOec5EQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALIdUOoClNfbMwEh0V22IVI2mnD4fEZdGjqFIMRgRA29/2fHIMRspOinHsZzyCzm3jkb7rQPTNxx/tWA+S8wArEDjkxdem6vuzZHS9RExGmf/fc4RcTRS/n2ryk/8ffPc3xavkjowACvE+onh1f+L2BGRb08Rly/RwzyfI/3szZOtx47d9PobS/QYLCMD0ONGn1493K7ad0XkH0TE0DI9bCfltKubu48c3jLXWabHZAkYgF6VI41NDt6aIv0oIi4uVDGTc/7h9F9nH42dURVq4GMwAD3o6qdXf7ab+x6PHF8q3fK2P3Wjuu3IprkXS4fw0RiAHrNucnBr5LQnIgZLt7zLGznFjumNnV+VDuHMGYBesTNaY18c/nGKfHfplNNK+aGpP8/e60+C3mAAesDo/ljVf/7Q3pzi5tItZyJH7Osf6Ww7eE2cLN3C6RmAmhvdH6v6BoaeTBGbSrd8JDl+176ks9UI1FurdACnkSP1Dwzt7rmTPyIixebuK0OPx04/Y3XWVzqADza2fvgnEfH90h1nLcXaT3zyvPNf/uWJZ0un8P78CVBT45PD38457y/dsRhyilumN3aeKN3BexmAGrpyYs1n+qJ1MCLWlG5ZJHNVVV19eMvcS6VDOJW/z+omR+pLrZ/Hyjn5IyLWtFJrb2S/cOrGANTM2MTw9hq9wm/xpLhu/OnB75TO4FQWuUYW3tjTdywiLirdsjTSq+nN6rJDW2dnS5ewwBVAjbSr9t2xYk/+iIg8ks+JO0tX8A5XADWxfmJ49YnI/4rle0tvKTMnTvZ9yv0E6sEVQE0s3MxjxZ/8ERHD57arO0pHsMAA1ESKfFvphmWT8vbSCSwwADUwPnnhtRFxZemOZXTFuonBq0pHYABqIVfdnniX32JKkW4p3YABqIeUvl46YbnliK+VbsCzAMWNPTMwkrr9L0fzvhe53Z0fOfiNN14vHdJkrgBK667aEM07+SMi0ny7b0PpiKYzAIW1cqP++XeqHKOlE5rOABSWU76sdEM5qcHHXg8GoLCU0udKN5STLy1d0HQGoLCc8wp+7f+HyKm5x14TBqC8C0oHFJMafOw1YQDKG/jwL1mxDEBhBgAazACUd7x0QEHeElyYASivuSdBbvCx14QBKCyl1NyXwqbc3GOvCQNQWpX/UTqhmJyOlU5oOgNQWNXKDT4Jmnzs9WAASqtaR0onFNOKo6UTms4AlNZ+60BE5NIZBVTt+e6B0hFNZwAKm77h+KsRjfxNOOVeAOUZgDrIuXGfnptzPFe6AQNQC63I+0o3LLcmHnMdNfFONLW0bmLocDTnzsDPT23quBlIDbgCqIkc6fHSDcsmp5+WTmCBAaiJN0+2HouITumOZTBzYr61u3QECwxATSx8Vl56tHTH0ssP+1zA+jAANVJV3Ycj4rXSHUsnv9LuT7tKV/AOA1Ajh7fMdSLSfaU7lkyOew9e35krncE7PAtQNznSusmhAxHx5dIpiylF/PHQxs5XIjXyVY+15QqgblLkblS3RcRK+k05262q7zr568cA1NCRTXMv5kjfK92xaFLefnjL3EulM3gvA1BT05tmfh0pP1S6YxE8MLVx9jelI3h/BqDGpm6cvSdy2lu642zliH1Tf+ncX7qDD2YA6ixFbl8ysyNHTJROOQtP9Y90tsXOqEqH8MEMQM0dvCZODp/XuSki7yndcsZy/KI90vnWwWviZOkUTs/TgL0iRxqfHHogR9xTOuU0ckQ8OLWxc5//+PcGA9BjxicGv5kj7YmIodIt7/KfyOmOqc0z+0uHcOYMQA9a+9SaT7dSa2+kuK50S8TCi3yqvmrb9A1z/yzdwkdjAHpVjjQ2OXhritaDEXmkUMVMSun+QzfO7HbJ35sMQI8bf3JwMJ8Td0akuyJieDkeM0f8O0V+pN2fdnltf28zACvE6B8uHmj/t7sjUr49IpbqbjtHIqU98+f27T761dea/JmGK4YBWIHWTQxelSLdknNcHynWxtk/3VtFxHTO8Wwr8r5Dm2cPLWImNWAAVrgv/PaCi+bbfRuiiitySpdHpEtT5OGIGIyIgbe/7HhEzOZIMynyscj5hWjF0fZ894BbdwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMf3f3/7uAg7H8mLAAAAAElFTkSuQmCC",QI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAB1ZJREFUeJzt3U2MXVUBB/D/eUOHYgABaReGTlFKO2WYQRQ2EhoX4kIXiomJkCAVpDvBhSa4dSco8rEiRARjICEGN+pCXNm40onY6WBfa/mYJn4AtmCrkU77joshIQICLTNz7pv3+61fcv83953/PffjnZcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAaSusArKw/XzKz8cRidpQMpgYlk6WWrUnOT3JekrNf/9ixJK8kOVJK+qnZNyhlft0Z2b3l4J4XW2Vn5SmANai/aerqQa93Q6m5LslUTv841yTzteRXZVAfnzy09/fLl5IuUABrxIEtW849sbh+V6nlliTbV2IbNXkmpf6orF98cLLfP7oS22B1KYAhN3/R1AW9Xu+Oknw9S1P71XCkpty/mHrfzMLckVXaJitAAQypmpT9EzM31VK/l5oNjWIcTsp3ti3seaAkg0YZeB8UwBCav2hqy1iv92iST7bOsqT8dqwObr700N6DrZNwanqtA3Bq+psvv36s1/tdOjP4k6Rec7KUP/Q3zXy5dRJOjQIYEjXp7ZuY/kGt5cksPcLrmnNqqY//afP096vv1dBwCTAE5qemxs841nuk1tzQOst7UvPYsY3jO6+anV1sHYV3pgA6bn5qanzsaO9nST7bOsupqMkv/rVh/Hol0G2mah1Wk9I7Wh7KkA3+JCnJ5855+fijLge6zcHpsP7E9D0l5Sutc5yuWnNDf9PMd1vn4P9zCdBR+yamv5TkidY5lkOt5cbth/Y83joHb6UAOujApssvOVnKbJIPts6yTF7tJR/fujD3bOsg/C+XAB1Tk3KylB9n7Qz+JPngIHmkOuF0jgLomP2bZ25Np17yWTbX7puYGdr7GWuVRu6Q+YumLhjrlX5SLmydZYW8eGZvbNtHnn/6ldZBWGIG0CFjpfeNNTz4k2Tj8cHJ21uH4A1mAB1xYMuWc08eP+v5rN5Pels5nLOOX2w9gW4wA+iIE4vrd2XtD/4kuaD8e/y21iFYogA6otRyc+sMq2VQcmvrDCxRAB3Q3zR1dZLLW+dYLSW57MDmK65snQMF0AmDXm84fuW3jE4O6o2tM6AAOqFX85nWGVZdyadbR8BTgOaW1u2vf8voHYtaToxv3PaX2ZdbBxllZgCNnVjMjoze4E+SMlj32o7WIUadAmisjtDNvzcrKVOtM4w6BdBaGWxrHaGZmtHd945QAI2VWi5tnaGhra0DjDoF0Nyafvf/3YzyvneCAmiuntM6QTujvO/doADaO/vdP7JWFQXQmAKAEaYA2jvWOkA71U+CG1MAzZURHgSjvO/doACaq6P8Kuwo73snKIDGSsn+1hka6rcOMOoUQGu1ju4gKAqgNQXQ2KD09rbO0EpJnW+dYdQpgMbWnZHdSWrrHA0Msnjm7tYhRp0CaGzLwT0vJhm5M2FN/mgtgPYUQAfUkqdaZ1htJfXXrTOgADqhDOpjrTOstl5v9Pa5i0ZxJZpO2jcxPZcRWRykJs9sX5izGEgHmAF0RC310dYZVkuv5oetM7BEAXREWb/4YJIjrXOsgsP1A8cfah2CJQqgIyb7/aM1eaB1jhVXcq//BewOBdAhi8m9KXmpdY6VUpK/rxsbv791Dt6gADpkZmHuSFLvbJ1j5dRvXfLs7KutU/AGTwE6pialPzGzO6nXtM6ynGrym8mFuU+V0XzrsbPMADqmJHWsDm5OspbOlK+MJV81+LtHAXTQpYf2HkzK11rnWC611Fu3Lsw92zoHb6UAOmpyYc9Pa8k9rXMsg7u2v7D3ydYheHvuAXRYTcr+iemHa7KzdZbTUvPYtkNzN5Vk0DoKb88MoMNKUo9uGN+V5Jets5yqkvLzYxvHdxr83aYAOu6q2dnFvy586POpebh1llPwk6Mb1n3xqtnZxdZBeGcuAYZETUp/08xdKfWbrbO8g5rk7m0Lc3e64z8cFMCQ6W+a/kIteTjJ+a2zvMk/k3rb5MLeJ1oH4b1TAENo/8T0RwfJI0mubZ0lWXrJp5Syc/KFPc+1zsKpUQBDaukJwcxNNfXuJBsbxThck29PLsw9ZMo/nBTAkHvu4o+dd3xw8vaa3JHkglXa7D9Sct+6sfH7vds/3BTAGjG/YersM9b3dqXklpqs1Go7e0vNwyf+M3ho6qX5Ef5Pw7VDAaxBBzZfceXJQb0xqdelZDqn/7h3kJQ9yeCpXq8+tvX5+aeXMyftKYA1rv/hT1w4WPfajpJyWQbZnpKtWbpUOC/J2a9/7FiSV5IcTtJPyb6SOp/FM3dbuhsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAN6//wIjMKgl9TzYJgAAAABJRU5ErkJggg==",JI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAc1JREFUSEvNlcFK3GAUhb+b0SnSleIDqDvpyiJYLERGF8ZZSNvI0AcoiEtLXXRToQULQkFB8CE0rsRJFoUmsyhdtYsiPoBCK4KgopV2cmuKKeM4Y6KOYnbhXs6Xc8/98ws3/Eg9fccNNKrZllm3J6on9d0ewHGD78CDakexg/hL6zmu7FP025g10BP1/ndQT+AqgMrRngMkzTxpJ6ozudsAxwtmUF4D72zLfFNrq67lwHGDA+A+sGtbZlsqAHAI/AS2QL4A7k57iz/e2/u7ev4rXjCrypTA22eWOZ0WUCvHbeB9S3iwmM/njy8KOjFk4165tXxkdBpCJwZdGsoThMenopuqvBgbMb3ofXW11PqrWZ+L6lOQwZMsMjE83sZUGSyv+T1iyCLQdyqwoKKhqEwAzbUcXQoQCaiqOG7plQizlYICn0JhHsobYZbNzHFm/1oHzSn6o4g4QBPCkj1sFiqBiRmkOclLxWDIENaArCpWnEmqLUoDiISWi6WXIvoB+FHea+oqFPqPGgr4J+b5n1F5BEzaljnXcMCK5w+qykdEt9qyYUcul/uTmEHS3zJtvdaargPdaQUS+r7alvnwzIXTIOFzMhde6I2A3jjgL+A/BSiFsBIoAAAAAElFTkSuQmCC",XI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAs1JREFUSEvFlV1IFGEUht8zq+4GEkFFQRfW7hpCZQQSdCFYsWvWTRkUZEFBmVQ7awR504/SjRH97ExWViQR3RiE/Yg4i2AFXSV2I1LubEVdFGlmCqbuzInZdZed2R/TkL7L4X3Pc75zzneGMM+H5jk+sgIqpAG7TsJunXkbgdYDWAmAAXwE0VtA7xjK+/m452jJVKZEMwK8cqgCTDemg2a7aIgZNUG/qyudKC3AG1DrQTg/i/LpBDrdKTovWz0pAI+kNhBwbhbBE1Im1AZ9rkCy1wQol9QdDDyfS/Bpjw7mUsXvfh2PkQCUNfXl52mOAQDL/wFgWN8N2YfXxRufAJTLag0zbv5l8FGAbkUiUwFbrq2KmC6aysL6zk5/4RPjWwLgldV2MLZnAxAwCFDjhG28ufv4mjFDWy6pdQw0mn18RxHd1VbAFzBWpB816gXjqkBaKwB7hG0Hgn5nk6H1SqHbAB2x+HoU0VViBkjqOABHkvA3QK0MuhcUV72IZiurh5hRq2narq6Tq8MxgPoSQKkZQEOK6FxiBYwAWDgt/KVp2oZ4kAppYGkEQgsBBcyoDPpdxjBEj1cKDwK82HKDEUV0LbIC+gEUmWeYegG9h0F7AXzLzcnZ2H6sYDiu2XotvMwm8Nc0Ze1TRNdaMyCgPgRhX5YmP3OMT1U9rSsaTWQvh7aAKXVFEN1XfM6DJoBHDu8n5gczjOl3EFcrPndbbILCJxgsWz1MtCfocz4yATZd+bwgP2ey36jzDBCASIagX4JGd402mMuK9wL04g6xcMIEiDbsetgDnZUZAZkFxtIr6xSdr+KSlGXnlUJnALowJwizqPjdppKlXdceOXSWmBqSX/oMQI0Jp6ybNKVEyUGim5XQnOl1J2lDDOFw/DFaE8n6yyxr+eCwj+mVHNtRxYgNABMozNDfAIIy+eNTW3f95kimG/7fn/6cGm0x/QF5tQQo9GYcIQAAAABJRU5ErkJggg==",YI="/chiefgram/assets/images-dogs-gHiZ-qKO.jpeg",ZI="/chiefgram/assets/chief-logo-main-DBS5Bwzq.png",eS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABaJJREFUaEPtWXmIVVUc/n73VTozqWlpREZkm5GCFVn9obZAtJm0EZVEJLRoDTYlYzTvnO/e90ZnmhzbTYhKwohss0Qqy6Wo/gkzogXD9gXELHPSWd7cX9xxm+Xdd89bhhA8f777Lb/vnHPPPec8wUHe5CCvH4cC/N8jWLERIDkWnncZQkyD4EIAY/uF+xWK9fCwDmH4DsnfKxG+rADZbPbEXC6sg+AKAKcUWdBmKFYD4SKSvxbJ3Q8vKQDJaog0APJgqcZ9eII0jcmWolV0AN/3ZyhkCYDjSjEswPlJoLOstR8Uo+scYE+vp54D9MZiDIrH6lJae5crzykAyWMgqTWATnIVLgsnWF9TVXXVvHnz/k3SSQzQ2tpa9c/Oto8AnJMktv+54nEgfIzk99FvJMdBpA6QOc4agtU05sokfGIABsEKKK5PEoqeK/CLaHgpyW/z4UlOgHjvOb8/iodJU1/Iu2AABsFcKBa7FN+D0fAskpsK4cnsVEi4wV1TppPpVXH42ACNjY3Hdea6twhQ5WSmeJI097pgyWA5BDe7YAH8AQ3HkWzPh48NQAYvQjDT0QSeYIIx5isXvO/7FylkrQs2wgikwdp0o3OATCZzaneo0Tz2XE2gYYpk6IInOQri/emC3Yv5a/iwI4+vq6vb3Z+TdwTI4CkIZhdhEM3/GpK7XDgtLS01/+7a3eaC3Y8RzKExT7sF8IMdAIYXZaDhOSQ3unDI7PmQ8FMX7AGMbKRND1jKB4yA7/vTFfJWceI9a+gzpLnbhUcGyyC41QXbG3NYyhvb0NDwW+/fBgQgg0UQ1BUrHuE9wdnGmM8LcYMgmBIqPixFX6AzrbXLCwfwg0h8SikGAH7Cng/Z5nx8kpMg3rsAxpSir9BFvrUPJAXYCmB0KQZ7Oe2ALoFq6759fiaTOb07DO8D5M4ydKP1dBWNmZ4UQMsyGVzy17TmzNgAJD2I1z24NZSl/g+tGZE0Ap0ADi/LZvDInbRmSFKA7QBGDl4NZSlvozV93s+By6if+RLQCSXYtEHwDoCVCL1vgVzUEdtJ/k1yTCqVOjqXk6ORCqeK6gxAJhfvIZto02cVHoEgeA2Ka93FZZMgDKy1b7hzgAULFozu7OqaA0QHHQxz4ipeJs1NSQEaoMgkCSrwjQett9a+nYQt9HzhwoUjOzo76wEpeHDp0RDMozGPFAwQBMG0MLqAKtQUL40addTttbW1HeUU35sbBMHEULESwEmxmuqdSzZ8VjBA9JB+EPsxE0itteknKlV4b52mpqYR7R2d0Yjm2wn8QGvG9feN2063QNDnk32AKMto07cNRoDGxsZju3LdXwA4dmCh+Q81eQNks9kTct3hz3FFCmS2tenocquijX7wCYAL8oi2Q8PjSUYrW58Wf6T0M88COis+hF5mrY02ZhVp1s+8ItAb8otpM62dn+9ZbIA9y1zuRwDVMRV2CfQWa+2KchKQHArxXgdweYzOtqqhQ8bV19fvLCpAz8scBPdAkfDC6tKa6ur7XW7R+hew92T2PIDxsZ2gcg2ZfjN+JiR0n/WDVwW4LgG2VQWLq444Ysn8+fOj42jBRmYnwwsfguLqgkDFo6S5rxAm8WYuulrcsbPtYwH6fMLziSqwW6AvQOQzD/guDMMfAGzzPO/kMJSTRHCGQqPOOC8pZLQtoTFx02o/PTFAz1Qix0C89wFMTDSuAECBdUdWV013mZZOAaKampubh+1u74jOo31ORBWot5+EPkFra111nQPsE/R9/xaFPArgGFcTR9xmT3CHMcb93rRne1RCIzkcIguKui6P99mlgoxvTFMJpZQWYJ8RyfEQmQtItJoU+5fTV4CuhuojJKO9V0mtpBHI50TyNJHUJSp6MRTT8txsbAFkrSDcoKpryim6t3/FApTUfRUgHQpQgU4sS+KgH4H/AIXh90CzPUwkAAAAAElFTkSuQmCC",tS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAQpJREFUWEftlrEKwjAURY//pqMIuvgBgghO4uDg5uAgTi7i4Bc4OQn6ZaIoGQKhpKR5Sekb0jVJ3+m5yUt7KHt6yngoQKFEiqFiKGQgNN7WHhoAz1Bx33gbQEvgBFyBGfCLAcsNtAKODsAcuHQFtAYOTvEbMAW+XQBVYe7AOBbGgOeIzAczAT4xZuzcVKCsMKmGqjAPYCg1k2rIBzMC3pKY3DWSyLbAznmJMZMFRhqZOiDzIaois2mp2tR1UKYhinuQdA9VD1LWXiQ5Zb6TrerqqIuv08vVQm2AvaNwAZxjmmWuyNyaNj4VP2gWrA+8Ysyk3mWSWo3WtBFZo8J1kwpQSF8xVAyFDITG/1csNiU1/X2gAAAAAElFTkSuQmCC",An={chiefgramlogo:jI,more_2_line:BI,search_line:zI,image_add_line:$I,chief_logo:qI,chief_logo1:HI,chief_logo3:WI,help:KI,dot_green:GI,dot_red:QI,gallery:JI,send:XI,image_dogs:YI,chief_logo_main:ZI,avatar:eS,arrow:tS};var s_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},nS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,_=a>>2,w=(a&3)<<4|d>>4;let A=(d&15)<<2|p>>6,I=p&63;f||(I=64,u||(A=64)),r.push(t[_],t[w],t[A],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||w==null)throw new rS;const A=a<<2|d>>4;if(r.push(A),p!==64){const I=d<<4&240|p>>2;if(r.push(I),w!==64){const P=p<<6&192|w;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(n){const e=hw(n);return dw.encodeByteArray(e,!0)},ih=function(n){return iS(n).replace(/\./g,"")},fw=function(n){try{return dw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>sS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof s_>"u")return;const n=s_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fw(n[1]);return e&&JSON.parse(e)},kh=()=>{try{return oS()||aS()||lS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pw=n=>{var e,t;return(t=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},uS=n=>{const e=pw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mw=()=>{var n;return(n=kh())===null||n===void 0?void 0:n.config},gw=n=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cS=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ih(JSON.stringify(t)),ih(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function fS(){var n;const e=(n=kh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yS(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _S(){return!fS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="FirebaseError";class ei extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ES,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?AS(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new ei(s,d,r)}}function AS(n,e){return n.replace(TS,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const TS=/\{\$([^}]+)}/g;function IS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(o_(a)&&o_(u)){if(!Fl(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function o_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Il(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Sl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SS(n,e){const t=new kS(n,e);return t.subscribe.bind(t)}class kS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");RS(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Of),s.error===void 0&&(s.error=Of),s.complete===void 0&&(s.complete=Of);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n){return n&&n._delegate?n._delegate:n}class Ds{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new cS;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bS(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PS(n){return n===Rs?void 0:n}function bS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(be||(be={}));const DS={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},OS=be.INFO,NS={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},LS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=NS[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jp{constructor(e){this.name=e,this._logLevel=OS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const VS=(n,e)=>e.some(t=>n instanceof t);let a_,l_;function MS(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function US(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yw=new WeakMap,Jf=new WeakMap,_w=new WeakMap,Nf=new WeakMap,Bp=new WeakMap;function FS(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ui(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&yw.set(t,n)}).catch(()=>{}),Bp.set(e,n),e}function jS(n){if(Jf.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Jf.set(n,e)}let Xf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_w.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function BS(n){Xf=n(Xf)}function zS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Lf(this),e,...t);return _w.set(r,e.sort?e.sort():[e]),Ui(r)}:US().includes(n)?function(...e){return n.apply(Lf(this),e),Ui(yw.get(this))}:function(...e){return Ui(n.apply(Lf(this),e))}}function $S(n){return typeof n=="function"?zS(n):(n instanceof IDBTransaction&&jS(n),VS(n,MS())?new Proxy(n,Xf):n)}function Ui(n){if(n instanceof IDBRequest)return FS(n);if(Nf.has(n))return Nf.get(n);const e=$S(n);return e!==n&&(Nf.set(n,e),Bp.set(e,n)),e}const Lf=n=>Bp.get(n);function qS(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=Ui(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ui(u.result),f.oldVersion,f.newVersion,Ui(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const HS=["get","getKey","getAll","getAllKeys","count"],WS=["put","add","delete","clear"],Vf=new Map;function u_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=WS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||HS.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&f.done]))[0]};return Vf.set(e,a),a}BS(n=>({...n,get:(e,t,r)=>u_(e,t)||n.get(e,t,r),has:(e,t)=>!!u_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GS(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function GS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yf="@firebase/app",c_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new jp("@firebase/app"),QS="@firebase/app-compat",JS="@firebase/analytics-compat",XS="@firebase/analytics",YS="@firebase/app-check-compat",ZS="@firebase/app-check",ek="@firebase/auth",tk="@firebase/auth-compat",nk="@firebase/database",rk="@firebase/data-connect",ik="@firebase/database-compat",sk="@firebase/functions",ok="@firebase/functions-compat",ak="@firebase/installations",lk="@firebase/installations-compat",uk="@firebase/messaging",ck="@firebase/messaging-compat",hk="@firebase/performance",dk="@firebase/performance-compat",fk="@firebase/remote-config",pk="@firebase/remote-config-compat",mk="@firebase/storage",gk="@firebase/storage-compat",yk="@firebase/firestore",_k="@firebase/vertexai",vk="@firebase/firestore-compat",wk="firebase",Ek="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",Ak={[Yf]:"fire-core",[QS]:"fire-core-compat",[XS]:"fire-analytics",[JS]:"fire-analytics-compat",[ZS]:"fire-app-check",[YS]:"fire-app-check-compat",[ek]:"fire-auth",[tk]:"fire-auth-compat",[nk]:"fire-rtdb",[rk]:"fire-data-connect",[ik]:"fire-rtdb-compat",[sk]:"fire-fn",[ok]:"fire-fn-compat",[ak]:"fire-iid",[lk]:"fire-iid-compat",[uk]:"fire-fcm",[ck]:"fire-fcm-compat",[hk]:"fire-perf",[dk]:"fire-perf-compat",[fk]:"fire-rc",[pk]:"fire-rc-compat",[mk]:"fire-gcs",[gk]:"fire-gcs-compat",[yk]:"fire-fst",[vk]:"fire-fst-compat",[_k]:"fire-vertex","fire-js":"fire-js",[wk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,Tk=new Map,ep=new Map;function h_(n,e){try{n.container.addComponent(e)}catch(t){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yo(n){const e=n.name;if(ep.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,n);for(const t of sh.values())h_(t,n);for(const t of Tk.values())h_(t,n);return!0}function zp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new eu("app","Firebase",Ik);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=Ek;function vw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Fi.create("bad-app-name",{appName:String(s)});if(t||(t=mw()),!t)throw Fi.create("no-options");const a=sh.get(s);if(a){if(Fl(t,a.options)&&Fl(r,a.config))return a;throw Fi.create("duplicate-app",{appName:s})}const u=new xS(s);for(const f of ep.values())u.addComponent(f);const d=new Sk(t,r,u);return sh.set(s,d),d}function ww(n=Zf){const e=sh.get(n);if(!e&&n===Zf&&mw())return vw();if(!e)throw Fi.create("no-app",{appName:n});return e}function ji(n,e,t){var r;let s=(r=Ak[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(d.join(" "));return}Yo(new Ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="firebase-heartbeat-database",Rk=1,jl="firebase-heartbeat-store";let Mf=null;function Ew(){return Mf||(Mf=qS(kk,Rk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fi.create("idb-open",{originalErrorMessage:n.message})})),Mf}async function Ck(n){try{const t=(await Ew()).transaction(jl),r=await t.objectStore(jl).get(Aw(n));return await t.done,r}catch(e){if(e instanceof ei)Gr.warn(e.message);else{const t=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(t.message)}}}async function d_(n,e){try{const r=(await Ew()).transaction(jl,"readwrite");await r.objectStore(jl).put(e,Aw(n)),await r.done}catch(t){if(t instanceof ei)Gr.warn(t.message);else{const r=Fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Gr.warn(r.message)}}}function Aw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=1024,bk=30*24*60*60*1e3;class xk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ok(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=f_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=bk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=f_(),{heartbeatsToSend:r,unsentEntries:s}=Dk(this._heartbeatsCache.heartbeats),a=ih(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Gr.warn(t),""}}}function f_(){return new Date().toISOString().substring(0,10)}function Dk(n,e=Pk){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),p_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),p_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Ok{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ck(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return d_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return d_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function p_(n){return ih(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n){Yo(new Ds("platform-logger",e=>new KS(e),"PRIVATE")),Yo(new Ds("heartbeat",e=>new xk(e),"PRIVATE")),ji(Yf,c_,n),ji(Yf,c_,"esm2017"),ji("fire-js","")}Nk("");var Lk="firebase",Vk="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(Lk,Vk,"app");function $p(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mk=Tw,Iw=new eu("auth","Firebase",Tw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new jp("@firebase/auth");function Uk(n,...e){oh.logLevel<=be.WARN&&oh.warn(`Auth (${ha}): ${n}`,...e)}function Wc(n,...e){oh.logLevel<=be.ERROR&&oh.error(`Auth (${ha}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(n,...e){throw qp(n,...e)}function pr(n,...e){return qp(n,...e)}function Sw(n,e,t){const r=Object.assign(Object.assign({},Mk()),{[e]:t});return new eu("auth","Firebase",r).create(e,{appName:n.name})}function Hr(n){return Sw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Iw.create(n,...e)}function we(n,e,...t){if(!n)throw qp(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wc(e),new Error(e)}function Qr(n,e){n||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Fk(){return m_()==="http:"||m_()==="https:"}function m_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fk()||mS()||"connection"in navigator)?navigator.onLine:!0}function Bk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qr(t>e,"Short delay should be less than long delay!"),this.isMobile=dS()||gS()}get(){return jk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(n,e){Qr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new nu(3e4,6e4);function ti(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ni(n,e,t,r,s={}){return Rw(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=tu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return pS()||(p.referrerPolicy="no-referrer"),kw.fetch()(Cw(n,n.config.apiHost,t,d),p)})}async function Rw(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},zk),e);try{const s=new Hk(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Dc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Dc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Dc(n,"user-disabled",u);const _=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Sw(n,_,p);Yn(n,_)}}catch(s){if(s instanceof ei)throw s;Yn(n,"network-request-failed",{message:String(s)})}}async function ru(n,e,t,r,s={}){const a=await ni(n,e,t,r,s);return"mfaPendingCredential"in a&&Yn(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Cw(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Hp(n.config,s):`${n.config.apiScheme}://${s}`}function qk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),$k.get())})}}function Dc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=pr(n,e,r);return s.customData._tokenResponse=t,s}function g_(n){return n!==void 0&&n.enterprise!==void 0}class Wk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kk(n,e){return ni(n,"GET","/v2/recaptchaConfig",ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(n,e){return ni(n,"POST","/v1/accounts:delete",e)}async function Pw(n,e){return ni(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qk(n,e=!1){const t=St(n),r=await t.getIdToken(e),s=Wp(r);we(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:xl(Uf(s.auth_time)),issuedAtTime:xl(Uf(s.iat)),expirationTime:xl(Uf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Uf(n){return Number(n)*1e3}function Wp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const s=fw(t);return s?JSON.parse(s):(Wc("Failed to decode base64 JWT payload"),null)}catch(s){return Wc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function y_(n){const e=Wp(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ei&&Jk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Jk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Bl(n,Pw(t,{idToken:r}));we(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?bw(a.providerUserInfo):[],d=Zk(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=f?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new np(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function Yk(n){const e=St(n);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zk(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function bw(n){return n.map(e=>{var{providerId:t}=e,r=$p(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(n,e){const t=await Rw(n,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=Cw(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",kw.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tR(n,e){return ni(n,"POST","/v2/accounts:revokeToken",ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=y_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await eR(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Ko;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(we(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=$p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new np(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Qk(this,e)}reload(){return Yk(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await Bl(this,Gk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,d,f,p,_;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,A=(s=t.email)!==null&&s!==void 0?s:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,P=(u=t.photoURL)!==null&&u!==void 0?u:void 0,D=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,V=(p=t.createdAt)!==null&&p!==void 0?p:void 0,U=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:q,emailVerified:G,isAnonymous:re,providerData:he,stsTokenManager:x}=t;we(q&&x,e,"internal-error");const S=Ko.fromJSON(this.name,x);we(typeof q=="string",e,"internal-error"),Ci(w,e.name),Ci(A,e.name),we(typeof G=="boolean",e,"internal-error"),we(typeof re=="boolean",e,"internal-error"),Ci(I,e.name),Ci(P,e.name),Ci(D,e.name),Ci(k,e.name),Ci(V,e.name),Ci(U,e.name);const R=new zr({uid:q,auth:e,email:A,emailVerified:G,displayName:w,isAnonymous:re,photoURL:P,phoneNumber:I,tenantId:D,stsTokenManager:S,createdAt:V,lastLoginAt:U});return he&&Array.isArray(he)&&(R.providerData=he.map(O=>Object.assign({},O))),k&&(R._redirectEventId=k),R}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ko;s.updateFromServerResponse(t);const a=new zr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ah(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];we(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?bw(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new Ko;d.updateFromIdToken(r);const f=new zr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new np(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;function $r(n){Qr(n instanceof Function,"Expected a class definition");let e=__.get(n);return e?(Qr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,__.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xw.type="NONE";const v_=xw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(n,e,t){return`firebase:${n}:${e}:${t}`}class Go{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Kc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Kc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Go($r(v_),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||$r(v_);const u=Kc(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const _=await p._get(u);if(_){const w=zr._fromJSON(e,_);p!==a&&(d=w),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Go(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Go(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mw(e))return"Blackberry";if(Uw(e))return"Webos";if(Ow(e))return"Safari";if((e.includes("chrome/")||Nw(e))&&!e.includes("edge/"))return"Chrome";if(Vw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Dw(n=Jt()){return/firefox\//i.test(n)}function Ow(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nw(n=Jt()){return/crios\//i.test(n)}function Lw(n=Jt()){return/iemobile/i.test(n)}function Vw(n=Jt()){return/android/i.test(n)}function Mw(n=Jt()){return/blackberry/i.test(n)}function Uw(n=Jt()){return/webos/i.test(n)}function Kp(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nR(n=Jt()){var e;return Kp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rR(){return yS()&&document.documentMode===10}function Fw(n=Jt()){return Kp(n)||Vw(n)||Uw(n)||Mw(n)||/windows phone/i.test(n)||Lw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,e=[]){let t;switch(n){case"Browser":t=w_(Jt());break;case"Worker":t=`${w_(Jt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(n,e={}){return ni(n,"GET","/v2/passwordPolicy",ti(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=6;class aR{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:oR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new iR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pw(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Hr(this));const t=e?St(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sR(this),t=new aR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await tR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Uk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Qi(n){return St(n)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=SS(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uR(n){Rh=n}function Bw(n){return Rh.loadJS(n)}function cR(){return Rh.recaptchaEnterpriseScript}function hR(){return Rh.gapiScript}function dR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fR{constructor(){this.enterprise=new pR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mR="recaptcha-enterprise",zw="NO_RECAPTCHA";class gR{constructor(e){this.type=mR,this.auth=Qi(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{Kk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new Wk(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{d(f)})})}function s(a,u,d){const f=window.grecaptcha;g_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(zw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&g_(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=cR();f.length!==0&&(f+=d),Bw(f).then(()=>{s(d,a,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function A_(n,e,t,r=!1,s=!1){const a=new gR(n);let u;if(s)u=zw;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function lh(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await A_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await A_(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(n,e){const t=zp(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Fl(a,e??{}))return s;Yn(s,"already-initialized")}return t.initialize({options:e})}function _R(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map($r);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vR(n,e,t){const r=Qi(n);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=$w(e),{host:u,port:d}=wR(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),ER()}function $w(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wR(n){const e=$w(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:T_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:T_(u)}}}function T_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ER(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function AR(n,e){return ni(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(n,e){return ru(n,"POST","/v1/accounts:signInWithPassword",ti(n,e))}async function IR(n,e){return ni(n,"POST","/v1/accounts:sendOobCode",ti(n,e))}async function SR(n,e){return IR(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(n,e){return ru(n,"POST","/v1/accounts:signInWithEmailLink",ti(n,e))}async function RR(n,e){return ru(n,"POST","/v1/accounts:signInWithEmailLink",ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Gp{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new zl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new zl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lh(e,t,"signInWithPassword",TR);case"emailLink":return kR(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lh(e,r,"signUpPassword",AR);case"emailLink":return RR(e,{idToken:t,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n,e){return ru(n,"POST","/v1/accounts:signInWithIdp",ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="http://localhost";class Os extends Gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=$p(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Os(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Qo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Qo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}buildRequest(){const e={requestUri:CR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bR(n){const e=Il(Sl(n)).link,t=e?Il(Sl(e)).deep_link_id:null,r=Il(Sl(n)).deep_link_id;return(r?Il(Sl(r)).link:null)||r||t||e||n}class Qp{constructor(e){var t,r,s,a,u,d;const f=Il(Sl(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,_=(r=f.oobCode)!==null&&r!==void 0?r:null,w=PR((s=f.mode)!==null&&s!==void 0?s:null);we(p&&_&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=_,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=bR(e);try{return new Qp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.providerId=da.PROVIDER_ID}static credential(e,t){return zl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Qp.parseLink(t);return we(r,"argument-error"),zl._fromEmailAndCode(e,r.code,r.tenantId)}}da.PROVIDER_ID="password";da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends qw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends iu{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Os._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Oi.credential(t,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends iu{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends iu{constructor(){super("twitter.com")}static credential(e,t){return Os._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(n,e){return ru(n,"POST","/v1/accounts:signUp",ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await zr._fromIdTokenResponse(e,r,s),u=I_(r);return new Ns({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=I_(r);return new Ns({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function I_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends ei{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new uh(e,t,r,s)}}function Hw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(n,a,e,r):a})}async function DR(n,e,t=!1){const r=await Bl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ns._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(n,e,t=!1){const{auth:r}=n;if(fr(r.app))return Promise.reject(Hr(r));const s="reauthenticate";try{const a=await Bl(n,Hw(r,s,e,n),t);we(a.idToken,r,"internal-error");const u=Wp(a.idToken);we(u,r,"internal-error");const{sub:d}=u;return we(n.uid===d,r,"user-mismatch"),Ns._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(n,e,t=!1){if(fr(n.app))return Promise.reject(Hr(n));const r="signIn",s=await Hw(n,r,e),a=await Ns._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function NR(n,e){return Ww(Qi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(n){const e=Qi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LR(n,e,t){const r=Qi(n);await lh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",SR)}async function VR(n,e,t){if(fr(n.app))return Promise.reject(Hr(n));const r=Qi(n),u=await lh(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Kw(n),f}),d=await Ns._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function MR(n,e,t){return fr(n.app)?Promise.reject(Hr(n)):NR(St(n),da.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Kw(n),r})}function UR(n,e,t,r){return St(n).onIdTokenChanged(e,t,r)}function FR(n,e,t){return St(n).beforeAuthStateChanged(e,t)}function Gw(n,e,t,r){return St(n).onAuthStateChanged(e,t,r)}function jR(n){return St(n).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=1e3,zR=10;class Jw extends Qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);rR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,zR):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jw.type="LOCAL";const $R=Jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends Qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Xw.type="SESSION";const Yw=Xw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await qR(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=Jp("",20);s.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const A=w;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(A.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function WR(n){mr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function KR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QR(){return Zw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="firebaseLocalStorageDb",JR=1,hh="firebaseLocalStorage",tE="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ph(n,e){return n.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function XR(){const n=indexedDB.deleteDatabase(eE);return new su(n).toPromise()}function rp(){const n=indexedDB.open(eE,JR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hh,{keyPath:tE})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await XR(),e(await rp()))})})}async function S_(n,e,t){const r=Ph(n,!0).put({[tE]:e,value:t});return new su(r).toPromise()}async function YR(n,e){const t=Ph(n,!1).get(e),r=await new su(t).toPromise();return r===void 0?null:r.value}function k_(n,e){const t=Ph(n,!0).delete(e);return new su(t).toPromise()}const ZR=800,eC=3;class nE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>eC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(QR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KR(),!this.activeServiceWorker)return;this.sender=new HR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await S_(e,ch,"1"),await k_(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>S_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>YR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>k_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Ph(s,!1).getAll();return new su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nE.type="LOCAL";const tC=nE;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(n,e){return e?$r(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends Gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rC(n){return Ww(n.auth,new Xp(n),n.bypassAuthState)}function iC(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),OR(t,new Xp(n),n.bypassAuthState)}async function sC(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),DR(t,new Xp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rC;case"linkViaPopup":case"linkViaRedirect":return sC;case"reauthViaPopup":case"reauthViaRedirect":return iC;default:Yn(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new nu(2e3,1e4);class Wo extends rE{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oC.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="pendingRedirect",Gc=new Map;class lC extends rE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await uC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uC(n,e){const t=dC(e),r=hC(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function cC(n,e){Gc.set(n._key(),e)}function hC(n){return $r(n._redirectPersistence)}function dC(n){return Kc(aC,n.config.apiKey,n.name)}async function fC(n,e,t=!1){if(fr(n.app))return Promise.reject(Hr(n));const r=Qi(n),s=nC(r,e),u=await new lC(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=10*60*1e3;class mC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!iE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(pr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pC&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(n,e={}){return ni(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vC=/^https?/;async function wC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yC(n);for(const t of e)try{if(EC(t))return}catch{}Yn(n,"unauthorized-domain")}function EC(n){const e=tp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!vC.test(t))return!1;if(_C.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new nu(3e4,6e4);function C_(){const n=mr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function TC(n){return new Promise((e,t)=>{var r,s,a;function u(){C_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C_(),t(pr(n,"network-request-failed"))},timeout:AC.get()})}if(!((s=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=mr().gapi)===null||a===void 0)&&a.load)u();else{const d=dR("iframefcb");return mr()[d]=()=>{gapi.load?u():t(pr(n,"network-request-failed"))},Bw(`${hR()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function IC(n){return Qc=Qc||TC(n),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new nu(5e3,15e3),kC="__/auth/iframe",RC="emulator/auth/iframe",CC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bC(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Hp(e,RC):`https://${n.config.authDomain}/${kC}`,r={apiKey:e.apiKey,appName:n.name,v:ha},s=PC.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${tu(r).slice(1)}`}async function xC(n){const e=await IC(n),t=mr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:bC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CC,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=pr(n,"network-request-failed"),d=mr().setTimeout(()=>{a(u)},SC.get());function f(){mr().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OC=500,NC=600,LC="_blank",VC="http://localhost";class P_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MC(n,e,t,r=OC,s=NC){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},DC),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Jt().toLowerCase();t&&(d=Nw(p)?LC:t),Dw(p)&&(e=e||VC,f.scrollbars="yes");const _=Object.entries(f).reduce((A,[I,P])=>`${A}${I}=${P},`,"");if(nR(p)&&d!=="_self")return UC(e||"",d),new P_(null);const w=window.open(e||"",d,_);we(w,n,"popup-blocked");try{w.focus()}catch{}return new P_(w)}function UC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="__/auth/handler",jC="emulator/auth/handler",BC=encodeURIComponent("fac");async function b_(n,e,t,r,s,a){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ha,eventId:s};if(e instanceof qw){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",IS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof iu){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const f=await n._getAppCheckToken(),p=f?`#${BC}=${encodeURIComponent(f)}`:"";return`${zC(n)}?${tu(d).slice(1)}${p}`}function zC({config:n}){return n.emulator?Hp(n,jC):`https://${n.authDomain}/${FC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class $C{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yw,this._completeRedirectFn=fC,this._overrideRedirectResult=cC}async _openPopup(e,t,r,s){var a;Qr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await b_(e,t,r,tp(),s);return MC(e,u,Jp())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await b_(e,t,r,tp(),s);return WR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Qr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await xC(e),r=new mC(e);return t.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ff,{type:Ff},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Ff];u!==void 0&&t(!!u),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fw()||Ow()||Kp()}}const qC=$C;var x_="@firebase/auth",D_="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KC(n){Yo(new Ds("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jw(n)},p=new lR(r,s,a,f);return _R(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Ds("auth-internal",e=>{const t=Qi(e.getProvider("auth").getImmediate());return(r=>new HC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(x_,D_,WC(n)),ji(x_,D_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=5*60,QC=gw("authIdTokenMaxAge")||GC;let O_=null;const JC=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>QC)return;const s=t==null?void 0:t.token;O_!==s&&(O_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function XC(n=ww()){const e=zp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yR(n,{popupRedirectResolver:qC,persistence:[tC,$R,Yw]}),r=gw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=JC(a.toString());FR(t,u,()=>u(t.currentUser)),UR(t,d=>u(d))}}const s=pw("auth");return s&&vR(t,`http://${s}`),t}function YC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}uR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=pr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",YC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KC("Browser");var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bi,sE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function R(){}R.prototype=S.prototype,x.D=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(O,L,F){for(var b=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)b[nt-2]=arguments[nt];return S.prototype[L].apply(O,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)O[L]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(L=0;16>L;++L)O[L]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],L=x.g[2];var F=x.g[3],b=S+(F^R&(L^F))+O[0]+3614090360&4294967295;S=R+(b<<7&4294967295|b>>>25),b=F+(L^S&(R^L))+O[1]+3905402710&4294967295,F=S+(b<<12&4294967295|b>>>20),b=L+(R^F&(S^R))+O[2]+606105819&4294967295,L=F+(b<<17&4294967295|b>>>15),b=R+(S^L&(F^S))+O[3]+3250441966&4294967295,R=L+(b<<22&4294967295|b>>>10),b=S+(F^R&(L^F))+O[4]+4118548399&4294967295,S=R+(b<<7&4294967295|b>>>25),b=F+(L^S&(R^L))+O[5]+1200080426&4294967295,F=S+(b<<12&4294967295|b>>>20),b=L+(R^F&(S^R))+O[6]+2821735955&4294967295,L=F+(b<<17&4294967295|b>>>15),b=R+(S^L&(F^S))+O[7]+4249261313&4294967295,R=L+(b<<22&4294967295|b>>>10),b=S+(F^R&(L^F))+O[8]+1770035416&4294967295,S=R+(b<<7&4294967295|b>>>25),b=F+(L^S&(R^L))+O[9]+2336552879&4294967295,F=S+(b<<12&4294967295|b>>>20),b=L+(R^F&(S^R))+O[10]+4294925233&4294967295,L=F+(b<<17&4294967295|b>>>15),b=R+(S^L&(F^S))+O[11]+2304563134&4294967295,R=L+(b<<22&4294967295|b>>>10),b=S+(F^R&(L^F))+O[12]+1804603682&4294967295,S=R+(b<<7&4294967295|b>>>25),b=F+(L^S&(R^L))+O[13]+4254626195&4294967295,F=S+(b<<12&4294967295|b>>>20),b=L+(R^F&(S^R))+O[14]+2792965006&4294967295,L=F+(b<<17&4294967295|b>>>15),b=R+(S^L&(F^S))+O[15]+1236535329&4294967295,R=L+(b<<22&4294967295|b>>>10),b=S+(L^F&(R^L))+O[1]+4129170786&4294967295,S=R+(b<<5&4294967295|b>>>27),b=F+(R^L&(S^R))+O[6]+3225465664&4294967295,F=S+(b<<9&4294967295|b>>>23),b=L+(S^R&(F^S))+O[11]+643717713&4294967295,L=F+(b<<14&4294967295|b>>>18),b=R+(F^S&(L^F))+O[0]+3921069994&4294967295,R=L+(b<<20&4294967295|b>>>12),b=S+(L^F&(R^L))+O[5]+3593408605&4294967295,S=R+(b<<5&4294967295|b>>>27),b=F+(R^L&(S^R))+O[10]+38016083&4294967295,F=S+(b<<9&4294967295|b>>>23),b=L+(S^R&(F^S))+O[15]+3634488961&4294967295,L=F+(b<<14&4294967295|b>>>18),b=R+(F^S&(L^F))+O[4]+3889429448&4294967295,R=L+(b<<20&4294967295|b>>>12),b=S+(L^F&(R^L))+O[9]+568446438&4294967295,S=R+(b<<5&4294967295|b>>>27),b=F+(R^L&(S^R))+O[14]+3275163606&4294967295,F=S+(b<<9&4294967295|b>>>23),b=L+(S^R&(F^S))+O[3]+4107603335&4294967295,L=F+(b<<14&4294967295|b>>>18),b=R+(F^S&(L^F))+O[8]+1163531501&4294967295,R=L+(b<<20&4294967295|b>>>12),b=S+(L^F&(R^L))+O[13]+2850285829&4294967295,S=R+(b<<5&4294967295|b>>>27),b=F+(R^L&(S^R))+O[2]+4243563512&4294967295,F=S+(b<<9&4294967295|b>>>23),b=L+(S^R&(F^S))+O[7]+1735328473&4294967295,L=F+(b<<14&4294967295|b>>>18),b=R+(F^S&(L^F))+O[12]+2368359562&4294967295,R=L+(b<<20&4294967295|b>>>12),b=S+(R^L^F)+O[5]+4294588738&4294967295,S=R+(b<<4&4294967295|b>>>28),b=F+(S^R^L)+O[8]+2272392833&4294967295,F=S+(b<<11&4294967295|b>>>21),b=L+(F^S^R)+O[11]+1839030562&4294967295,L=F+(b<<16&4294967295|b>>>16),b=R+(L^F^S)+O[14]+4259657740&4294967295,R=L+(b<<23&4294967295|b>>>9),b=S+(R^L^F)+O[1]+2763975236&4294967295,S=R+(b<<4&4294967295|b>>>28),b=F+(S^R^L)+O[4]+1272893353&4294967295,F=S+(b<<11&4294967295|b>>>21),b=L+(F^S^R)+O[7]+4139469664&4294967295,L=F+(b<<16&4294967295|b>>>16),b=R+(L^F^S)+O[10]+3200236656&4294967295,R=L+(b<<23&4294967295|b>>>9),b=S+(R^L^F)+O[13]+681279174&4294967295,S=R+(b<<4&4294967295|b>>>28),b=F+(S^R^L)+O[0]+3936430074&4294967295,F=S+(b<<11&4294967295|b>>>21),b=L+(F^S^R)+O[3]+3572445317&4294967295,L=F+(b<<16&4294967295|b>>>16),b=R+(L^F^S)+O[6]+76029189&4294967295,R=L+(b<<23&4294967295|b>>>9),b=S+(R^L^F)+O[9]+3654602809&4294967295,S=R+(b<<4&4294967295|b>>>28),b=F+(S^R^L)+O[12]+3873151461&4294967295,F=S+(b<<11&4294967295|b>>>21),b=L+(F^S^R)+O[15]+530742520&4294967295,L=F+(b<<16&4294967295|b>>>16),b=R+(L^F^S)+O[2]+3299628645&4294967295,R=L+(b<<23&4294967295|b>>>9),b=S+(L^(R|~F))+O[0]+4096336452&4294967295,S=R+(b<<6&4294967295|b>>>26),b=F+(R^(S|~L))+O[7]+1126891415&4294967295,F=S+(b<<10&4294967295|b>>>22),b=L+(S^(F|~R))+O[14]+2878612391&4294967295,L=F+(b<<15&4294967295|b>>>17),b=R+(F^(L|~S))+O[5]+4237533241&4294967295,R=L+(b<<21&4294967295|b>>>11),b=S+(L^(R|~F))+O[12]+1700485571&4294967295,S=R+(b<<6&4294967295|b>>>26),b=F+(R^(S|~L))+O[3]+2399980690&4294967295,F=S+(b<<10&4294967295|b>>>22),b=L+(S^(F|~R))+O[10]+4293915773&4294967295,L=F+(b<<15&4294967295|b>>>17),b=R+(F^(L|~S))+O[1]+2240044497&4294967295,R=L+(b<<21&4294967295|b>>>11),b=S+(L^(R|~F))+O[8]+1873313359&4294967295,S=R+(b<<6&4294967295|b>>>26),b=F+(R^(S|~L))+O[15]+4264355552&4294967295,F=S+(b<<10&4294967295|b>>>22),b=L+(S^(F|~R))+O[6]+2734768916&4294967295,L=F+(b<<15&4294967295|b>>>17),b=R+(F^(L|~S))+O[13]+1309151649&4294967295,R=L+(b<<21&4294967295|b>>>11),b=S+(L^(R|~F))+O[4]+4149444226&4294967295,S=R+(b<<6&4294967295|b>>>26),b=F+(R^(S|~L))+O[11]+3174756917&4294967295,F=S+(b<<10&4294967295|b>>>22),b=L+(S^(F|~R))+O[2]+718787259&4294967295,L=F+(b<<15&4294967295|b>>>17),b=R+(F^(L|~S))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(L+(b<<21&4294967295|b>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+F&4294967295}r.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var R=S-this.blockSize,O=this.B,L=this.h,F=0;F<S;){if(L==0)for(;F<=R;)s(this,x,F),F+=this.blockSize;if(typeof x=="string"){for(;F<S;)if(O[L++]=x.charCodeAt(F++),L==this.blockSize){s(this,O),L=0;break}}else for(;F<S;)if(O[L++]=x[F++],L==this.blockSize){s(this,O),L=0;break}}this.h=L,this.o+=S},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var R=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=R&255,R/=256;for(this.u(x),x=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)x[R++]=this.g[S]>>>O&255;return x};function a(x,S){var R=d;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function u(x,S){this.h=S;for(var R=[],O=!0,L=x.length-1;0<=L;L--){var F=x[L]|0;O&&F==S||(R[L]=F,O=!1)}this.g=R}var d={};function f(x){return-128<=x&&128>x?a(x,function(S){return new u([S|0],0>S?-1:0)}):new u([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return k(p(-x));for(var S=[],R=1,O=0;x>=R;O++)S[O]=x/R|0,R*=4294967296;return new u(S,0)}function _(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return k(_(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(S,8)),O=w,L=0;L<x.length;L+=8){var F=Math.min(8,x.length-L),b=parseInt(x.substring(L,L+F),S);8>F?(F=p(Math.pow(S,F)),O=O.j(F).add(p(b))):(O=O.j(R),O=O.add(p(b)))}return O}var w=f(0),A=f(1),I=f(16777216);n=u.prototype,n.m=function(){if(D(this))return-k(this).m();for(var x=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);x+=(0<=O?O:4294967296+O)*S,S*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(D(this))return"-"+k(this).toString(x);for(var S=p(Math.pow(x,6)),R=this,O="";;){var L=G(R,S).g;R=V(R,L.j(S));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=L,P(R))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function D(x){return x.h==-1}n.l=function(x){return x=V(this,x),D(x)?-1:P(x)?0:1};function k(x){for(var S=x.g.length,R=[],O=0;O<S;O++)R[O]=~x.g[O];return new u(R,~x.h).add(A)}n.abs=function(){return D(this)?k(this):this},n.add=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],O=0,L=0;L<=S;L++){var F=O+(this.i(L)&65535)+(x.i(L)&65535),b=(F>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);O=b>>>16,F&=65535,b&=65535,R[L]=b<<16|F}return new u(R,R[R.length-1]&-2147483648?-1:0)};function V(x,S){return x.add(k(S))}n.j=function(x){if(P(this)||P(x))return w;if(D(this))return D(x)?k(this).j(k(x)):k(k(this).j(x));if(D(x))return k(this.j(k(x)));if(0>this.l(I)&&0>x.l(I))return p(this.m()*x.m());for(var S=this.g.length+x.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<x.g.length;L++){var F=this.i(O)>>>16,b=this.i(O)&65535,nt=x.i(L)>>>16,mt=x.i(L)&65535;R[2*O+2*L]+=b*mt,U(R,2*O+2*L),R[2*O+2*L+1]+=F*mt,U(R,2*O+2*L+1),R[2*O+2*L+1]+=b*nt,U(R,2*O+2*L+1),R[2*O+2*L+2]+=F*nt,U(R,2*O+2*L+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new u(R,0)};function U(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function q(x,S){this.g=x,this.h=S}function G(x,S){if(P(S))throw Error("division by zero");if(P(x))return new q(w,w);if(D(x))return S=G(k(x),S),new q(k(S.g),k(S.h));if(D(S))return S=G(x,k(S)),new q(k(S.g),S.h);if(30<x.g.length){if(D(x)||D(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,O=S;0>=O.l(x);)R=re(R),O=re(O);var L=he(R,1),F=he(O,1);for(O=he(O,2),R=he(R,2);!P(O);){var b=F.add(O);0>=b.l(x)&&(L=L.add(R),F=b),O=he(O,1),R=he(R,1)}return S=V(x,L.j(S)),new q(L,S)}for(L=w;0<=x.l(S);){for(R=Math.max(1,Math.floor(x.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=p(R),b=F.j(S);D(b)||0<b.l(x);)R-=O,F=p(R),b=F.j(S);P(F)&&(F=A),L=L.add(F),x=V(x,b)}return new q(L,x)}n.A=function(x){return G(this,x).h},n.and=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&x.i(O);return new u(R,this.h&x.h)},n.or=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|x.i(O);return new u(R,this.h|x.h)},n.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^x.i(O);return new u(R,this.h^x.h)};function re(x){for(var S=x.g.length+1,R=[],O=0;O<S;O++)R[O]=x.i(O)<<1|x.i(O-1)>>>31;return new u(R,x.h)}function he(x,S){var R=S>>5;S%=32;for(var O=x.g.length-R,L=[],F=0;F<O;F++)L[F]=0<S?x.i(F+R)>>>S|x.i(F+R+1)<<32-S:x.i(F+R);return new u(L,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=_,Bi=u}).apply(typeof N_<"u"?N_:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oE,kl,aE,Jc,ip,lE,uE,cE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var v=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var B=c[T];if(!(B in v))break e;v=v[B]}c=c[c.length-1],T=v[c],g=g(T),g!=T&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var v=0,T=!1,B={next:function(){if(!T&&v<c.length){var K=v++;return{value:g(K,c[K]),done:!1}}return T=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,v){return c.call.apply(c.bind,arguments)}function w(c,g,v){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,T),c.apply(g,B)}}return function(){return c.apply(g,arguments)}}function A(c,g,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,A.apply(null,arguments)}function I(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function P(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(T,B,K){for(var se=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)se[qe-2]=arguments[qe];return g.prototype[B].apply(T,se)}}function D(c){const g=c.length;if(0<g){const v=Array(g);for(let T=0;T<g;T++)v[T]=c[T];return v}return[]}function k(c,g){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(f(T)){const B=c.length||0,K=T.length||0;c.length=B+K;for(let se=0;se<K;se++)c[B+se]=T[se]}else c.push(T)}}class V{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function U(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function G(c){return G[" "](c),c}G[" "]=function(){};var re=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function he(c,g,v){for(const T in c)g.call(v,c[T],T,c)}function x(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function S(c){const g={};for(const v in c)g[v]=c[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let v,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(v in T)c[v]=T[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function L(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function F(c){d.setTimeout(()=>{throw c},0)}function b(){var c=ye;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class nt{constructor(){this.h=this.g=null}add(g,v){const T=mt.get();T.set(g,v),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new V(()=>new gt,c=>c.reset());class gt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,ie=!1,ye=new nt,ae=()=>{const c=d.Promise.resolve(void 0);Fe=()=>{c.then(j)}};var j=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(v){F(v)}var g=mt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ie=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,g),d.removeEventListener("test",v,g)}catch{}return c}();function Ce(c,g){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(re){e:{try{G(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}P(Ce,me);var Le={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),ze=0;function We(c,g,v,T,B){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!T,this.ha=B,this.key=++ze,this.da=this.fa=!1}function kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ar(c){this.src=c,this.g={},this.h=0}Ar.prototype.add=function(c,g,v,T,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=ri(c,g,T,B);return-1<se?(g=c[se],v||(g.fa=!1)):(g=new We(g,this.src,K,!!T,B),g.fa=v,c.push(g)),g};function Ws(c,g){var v=g.type;if(v in c.g){var T=c.g[v],B=Array.prototype.indexOf.call(T,g,void 0),K;(K=0<=B)&&Array.prototype.splice.call(T,B,1),K&&(kt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ri(c,g,v,T){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==g&&K.capture==!!v&&K.ha==T)return B}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),Ks={};function va(c,g,v,T,B){if(Array.isArray(g)){for(var K=0;K<g.length;K++)va(c,g[K],v,T,B);return null}return v=Aa(v),c&&c[Be]?c.K(g,v,p(T)?!!T.capture:!1,B):wa(c,g,v,!1,T,B)}function wa(c,g,v,T,B,K){if(!g)throw Error("Invalid event type");var se=p(B)?!!B.capture:!!B,qe=Qs(c);if(qe||(c[Yi]=qe=new Ar(c)),v=qe.add(g,v,T,se,K),v.proxy)return v;if(T=mu(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)Re||(B=se),B===void 0&&(B=!1),c.addEventListener(g.toString(),T,B);else if(c.attachEvent)c.attachEvent(Ir(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function mu(){function c(v){return g.call(c.src,c.listener,v)}const g=Ea;return c}function Gs(c,g,v,T,B){if(Array.isArray(g))for(var K=0;K<g.length;K++)Gs(c,g[K],v,T,B);else T=p(T)?!!T.capture:!!T,v=Aa(v),c&&c[Be]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],v=ri(K,v,T,B),-1<v&&(kt(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=Qs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ri(g,v,T,B)),(v=-1<c?g[c]:null)&&Tr(v))}function Tr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Be])Ws(g.i,c);else{var v=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(v,T,c.capture):g.detachEvent?g.detachEvent(Ir(v),T):g.addListener&&g.removeListener&&g.removeListener(T),(v=Qs(g))?(Ws(v,c),v.h==0&&(v.src=null,g[Yi]=null)):kt(c)}}}function Ir(c){return c in Ks?Ks[c]:Ks[c]="on"+c}function Ea(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var v=c.listener,T=c.ha||c.src;c.fa&&Tr(c),c=v.call(T,g)}return c}function Qs(c){return c=c[Yi],c instanceof Ar?c:null}var Js="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aa(c){return typeof c=="function"?c:(c[Js]||(c[Js]=function(g){return c.handleEvent(g)}),c[Js])}function yt(){J.call(this),this.i=new Ar(this),this.M=this,this.F=null}P(yt,J),yt.prototype[Be]=!0,yt.prototype.removeEventListener=function(c,g,v,T){Gs(this,c,g,v,T)};function _t(c,g){var v,T=c.F;if(T)for(v=[];T;T=T.F)v.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new me(g,c);else if(g instanceof me)g.target=g.target||c;else{var B=g;g=new me(T,c),O(g,B)}if(B=!0,v)for(var K=v.length-1;0<=K;K--){var se=g.g=v[K];B=Sr(se,T,!0,g)&&B}if(se=g.g=c,B=Sr(se,T,!0,g)&&B,B=Sr(se,T,!1,g)&&B,v)for(K=0;K<v.length;K++)se=g.g=v[K],B=Sr(se,T,!1,g)&&B}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],T=0;T<v.length;T++)kt(v[T]);delete c.g[g],c.h--}}this.F=null},yt.prototype.K=function(c,g,v,T){return this.i.add(String(c),g,!1,v,T)},yt.prototype.L=function(c,g,v,T){return this.i.add(String(c),g,!0,v,T)};function Sr(c,g,v,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,K=0;K<g.length;++K){var se=g[K];if(se&&!se.da&&se.capture==v){var qe=se.listener,vt=se.ha||se.src;se.fa&&Ws(c.i,se),B=qe.call(vt,T)!==!1&&B}}return B&&!T.defaultPrevented}function Ta(c,g,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function ii(c){c.g=Ta(()=>{c.g=null,c.i&&(c.i=!1,ii(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Zi extends J{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ii(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(c){J.call(this),this.h=c,this.g={}}P(es,J);var Ia=[];function Sa(c){he(c.g,function(g,v){this.g.hasOwnProperty(v)&&Tr(g)},c),c.g={}}es.prototype.N=function(){es.aa.N.call(this),Sa(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=d.JSON.stringify,Ra=d.JSON.parse,Ca=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ts(){}ts.prototype.h=null;function Xs(c){return c.h||(c.h=c.i())}function Ys(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){me.call(this,"d")}P(er,me);function Zs(){me.call(this,"c")}P(Zs,me);var tr={},Pa=null;function ns(){return Pa=Pa||new yt}tr.La="serverreachability";function ba(c){me.call(this,tr.La,c)}P(ba,me);function kr(c){const g=ns();_t(g,new ba(g))}tr.STAT_EVENT="statevent";function xa(c,g){me.call(this,tr.STAT_EVENT,c),this.stat=g}P(xa,me);function lt(c){const g=ns();_t(g,new xa(g,c))}tr.Ma="timingevent";function eo(c,g){me.call(this,tr.Ma,c),this.size=g}P(eo,me);function Ln(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function rs(){this.g=!0}rs.prototype.xa=function(){this.g=!1};function is(c,g,v,T,B,K){c.info(function(){if(c.g)if(K)for(var se="",qe=K.split("&"),vt=0;vt<qe.length;vt++){var Ve=qe[vt].split("=");if(1<Ve.length){var Rt=Ve[0];Ve=Ve[1];var ht=Rt.split("_");se=2<=ht.length&&ht[1]=="type"?se+(Rt+"="+Ve+"&"):se+(Rt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+g+`
`+v+`
`+se})}function to(c,g,v,T,B,K,se){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+g+`
`+v+`
`+K+" "+se})}function Vn(c,g,v,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Zh(c,v)+(T?" "+T:"")})}function Da(c,g){c.info(function(){return"TIMEOUT: "+g})}rs.prototype.info=function(){};function Zh(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var T=v[c];if(!(2>T.length)){var B=T[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return ka(v)}catch{return g}}var no={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function ss(){}P(ss,ts),ss.prototype.g=function(){return new XMLHttpRequest},ss.prototype.i=function(){return{}},Mn=new ss;function Un(c,g,v,T){this.j=c,this.i=g,this.l=v,this.R=T||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yu}function yu(){this.i=null,this.g="",this.h=!1}var Oa={},ro={};function io(c,g,v){c.L=1,c.v=ui(mn(g)),c.m=v,c.P=!0,Na(c,null)}function Na(c,g){c.F=Date.now(),Ke(c),c.A=mn(c.v);var v=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),hi(v.i,"t",T),c.C=0,v=c.j.J,c.h=new yu,c.g=Lu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Zi(A(c.Y,c,c.g),c.O)),g=c.U,v=c.g,T=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ia[0]=B.toString()),B=Ia);for(var K=0;K<B.length;K++){var se=va(v,B[K],T||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),kr(),is(c.i,c.u,c.A,c.l,c.R,c.m)}Un.prototype.ca=function(c){c=c.target;const g=this.M;g&&rn(c)==3?g.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const ht=rn(this.g);var g=this.g.Ba();const Rn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||ja(this.g)))){this.J||ht!=4||g==7||(g==8||0>=Rn?kr(3):kr(2)),os(this);var v=this.g.Z();this.X=v;t:if(_u(this)){var T=ja(this.g);c="";var B=T.length,K=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),si(this);var se="";break t}this.h.i=new d.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,c+=this.h.i.decode(T[g],{stream:!(K&&g==B-1)});T.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,to(this.i,this.u,this.A,this.l,this.R,ht,v),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,vt=this.g;if((qe=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(qe)){var Ve=qe;break t}}Ve=null}if(v=Ve)Vn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,v);else{this.o=!1,this.s=3,lt(12),Sn(this),si(this);break e}}if(this.P){v=!0;let yn;for(;!this.J&&this.C<se.length;)if(yn=ed(this,se),yn==ro){ht==4&&(this.s=4,lt(14),v=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Oa){this.s=4,lt(15),Vn(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else Vn(this.i,this.l,yn,null),La(this,yn);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||se.length!=0||this.h.h||(this.s=1,lt(16),v=!1),this.o=this.o&&v,!v)Vn(this.i,this.l,se,"[Invalid Chunked Response]"),Sn(this),si(this);else if(0<se.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),za(Rt),Rt.M=!0,lt(11))}}else Vn(this.i,this.l,se,null),La(this,se);ht==4&&Sn(this),this.o&&!this.J&&(ht==4?go(this.j,this):(this.o=!1,Ke(this)))}else co(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Sn(this),si(this)}}}catch{}finally{}};function _u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ed(c,g){var v=c.C,T=g.indexOf(`
`,v);return T==-1?ro:(v=Number(g.substring(v,T)),isNaN(v)?Oa:(T+=1,T+v>g.length?ro:(g=g.slice(T,T+v),c.C=T+v,g)))}Un.prototype.cancel=function(){this.J=!0,Sn(this)};function Ke(c){c.S=Date.now()+c.I,vu(c,c.I)}function vu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ln(A(c.ba,c),g)}function os(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Da(this.i,this.A),this.L!=2&&(kr(),lt(17)),Sn(this),this.s=2,si(this)):vu(this,this.S-c)};function si(c){c.j.G==0||c.J||go(c.j,c)}function Sn(c){os(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Sa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function La(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Xt(v.h,c))){if(!c.K&&Xt(v.h,c)&&v.G==3){try{var T=v.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)mo(v),$n(v);else break e;po(v),lt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ln(A(v.Za,v),6e3));if(1>=Eu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else xr(v,11)}else if((c.K||v.g==c)&&mo(v),!U(g))for(B=v.Da.g.parse(g),g=0;g<B.length;g++){let Ve=B[g];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const Rt=Ve[3];Rt!=null&&(v.la=Rt,v.j.info("VER="+v.la));const ht=Ve[4];ht!=null&&(v.Aa=ht,v.j.info("SVER="+v.Aa));const Rn=Ve[5];Rn!=null&&typeof Rn=="number"&&0<Rn&&(T=1.5*Rn,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const yn=c.g;if(yn){const fs=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var K=T.h;K.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Va(K,K.h),K.h=null))}if(T.D){const _o=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(T.ya=_o,He(T.I,T.D,_o))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var se=c;if(T.qa=Nu(T,T.J?T.ia:null,T.W),se.K){Au(T.h,se);var qe=se,vt=T.L;vt&&(qe.I=vt),qe.B&&(os(qe),Ke(qe)),T.g=se}else ds(T);0<v.i.length&&sr(v)}else Ve[0]!="stop"&&Ve[0]!="close"||xr(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?xr(v,7):Lt(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}kr(4)}catch{}}var wu=class{constructor(c,g){this.g=c,this.map=g}};function as(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Eu(c){return c.h?1:c.g?c.g.size:0}function Xt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Va(c,g){c.g?c.g.add(g):c.h=g}function Au(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}as.prototype.cancel=function(){if(this.i=Tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Tu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return D(c.i)}function so(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],v=c.length,T=0;T<v;T++)g.push(c[T]);return g}g=[],v=0;for(T in c)g[v++]=c[T];return g}function oo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const T in c)g[v++]=T;return g}}}function oi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=oo(c),T=so(c),B=T.length,K=0;K<B;K++)g.call(void 0,T[K],v&&v[K],c)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function td(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var T=c[v].indexOf("="),B=null;if(0<=T){var K=c[v].substring(0,T);B=c[v].substring(T+1)}else K=c[v];g(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Rr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Rr){this.h=c.h,us(this,c.j),this.o=c.o,this.g=c.g,ai(this,c.s),this.l=c.l;var g=c.i,v=new nr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),li(this,v),this.m=c.m}else c&&(g=String(c).match(ls))?(this.h=!1,us(this,g[1]||"",!0),this.o=De(g[2]||""),this.g=De(g[3]||"",!0),ai(this,g[4]),this.l=De(g[5]||"",!0),li(this,g[6]||"",!0),this.m=De(g[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}Rr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ci(g,ao,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ci(g,ao,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ci(v,v.charAt(0)=="/"?ku:Su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ci(v,Ma)),c.join("")};function mn(c){return new Rr(c)}function us(c,g,v){c.j=v?De(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ai(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function li(c,g,v){g instanceof nr?(c.i=g,rr(c.i,c.h)):(v||(g=ci(g,Ru)),c.i=new nr(g,c.h))}function He(c,g,v){c.i.set(g,v)}function ui(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ci(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Iu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ao=/[#\/\?@]/g,Su=/[#\?:]/g,ku=/[#\?]/g,Ru=/[#\?@]/g,Ma=/#/g;function nr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Nt(c){c.g||(c.g=new Map,c.h=0,c.i&&td(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}n=nr.prototype,n.add=function(c,g){Nt(this),this.i=null,c=kn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Fn(c,g){Nt(c),g=kn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function jn(c,g){return Nt(c),g=kn(c,g),c.g.has(g)}n.forEach=function(c,g){Nt(this),this.g.forEach(function(v,T){v.forEach(function(B){c.call(g,B,T,this)},this)},this)},n.na=function(){Nt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let T=0;T<g.length;T++){const B=c[T];for(let K=0;K<B.length;K++)v.push(g[T])}return v},n.V=function(c){Nt(this);let g=[];if(typeof c=="string")jn(this,c)&&(g=g.concat(this.g.get(kn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},n.set=function(c,g){return Nt(this),this.i=null,c=kn(this,c),jn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function hi(c,g,v){Fn(c,g),0<v.length&&(c.i=null,c.g.set(kn(c,g),D(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var T=g[v];const K=encodeURIComponent(String(T)),se=this.V(T);for(T=0;T<se.length;T++){var B=K;se[T]!==""&&(B+="="+encodeURIComponent(String(se[T]))),c.push(B)}}return this.i=c.join("&")};function kn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function rr(c,g){g&&!c.j&&(Nt(c),c.i=null,c.g.forEach(function(v,T){var B=T.toLowerCase();T!=B&&(Fn(this,T),hi(this,B,v))},c)),c.j=g}function nd(c,g){const v=new rs;if(d.Image){const T=new Image;T.onload=I(nn,v,"TestLoadImage: loaded",!0,g,T),T.onerror=I(nn,v,"TestLoadImage: error",!1,g,T),T.onabort=I(nn,v,"TestLoadImage: abort",!1,g,T),T.ontimeout=I(nn,v,"TestLoadImage: timeout",!1,g,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Cu(c,g){const v=new rs,T=new AbortController,B=setTimeout(()=>{T.abort(),nn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(K=>{clearTimeout(B),K.ok?nn(v,"TestPingServer: ok",!0,g):nn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),nn(v,"TestPingServer: error",!1,g)})}function nn(c,g,v,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(v)}catch{}}function rd(){this.g=new Ca}function Pu(c,g,v){const T=v||"";try{oi(c,function(B,K){let se=B;p(B)&&(se=ka(B)),g.push(T+K+"="+encodeURIComponent(se))})}catch(B){throw g.push(T+"type="+encodeURIComponent("_badmap")),B}}function Cr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Cr,ts),Cr.prototype.g=function(){return new cs(this.l,this.j)},Cr.prototype.i=function(c){return function(){return c}}({});function cs(c,g){yt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(cs,yt),n=cs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,zn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Bn(this):zn(this),this.readyState==3&&bu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Bn(this))},n.Qa=function(c){this.g&&(this.response=c,Bn(this))},n.ga=function(){this.g&&Bn(this)};function Bn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Pr(c){let g="";return he(c,function(v,T){g+=T,g+=":",g+=v,g+=`\r
`}),g}function di(c,g,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Pr(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):He(c,g,v))}function et(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(et,yt);var id=/^https?$/i,Ua=["POST","PUT"];n=et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?Xs(this.o):Xs(Mn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){hs(this,K);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)v.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const K of T.keys())v.set(K,T.get(K));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ua,g,void 0))||T||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of v)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uo(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){hs(this,K)}};function hs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,lo(c),gn(c)}function lo(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},n.bb=function(){Fa(this)};function Fa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||rn(c)!=4||c.Z()!=2)){if(c.u&&rn(c)==4)Ta(c.Ea,0,c);else if(_t(c,"readystatechange"),rn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var T;if(T=se===0){var B=String(c.D).match(ls)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),T=!id.test(B?B.toLowerCase():"")}v=T}if(v)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var K=2<rn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",lo(c)}}finally{gn(c)}}}}function gn(c,g){if(c.g){uo(c);const v=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||_t(c,"ready");try{v.onreadystatechange=T}catch{}}}function uo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ra(g)}};function ja(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function co(c){const g={};c=(c.g&&2<=rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(U(c[T]))continue;var v=L(c[T]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=g[B]||[];g[B]=K,K.push(v)}x(g,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Ba(c){this.Aa=0,this.i=[],this.j=new rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ir("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ir("baseRetryDelayMs",5e3,c),this.cb=ir("retryDelaySeedMs",1e4,c),this.Wa=ir("forwardChannelMaxRetries",2,c),this.wa=ir("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new as(c&&c.concurrentRequestLimit),this.Da=new rd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ba.prototype,n.la=8,n.G=1,n.connect=function(c,g,v,T){lt(0),this.W=c,this.H=g||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Nu(this,null,this.W),sr(this)};function Lt(c){if(ho(c),c.G==3){var g=c.U++,v=mn(c.I);if(He(v,"SID",c.K),He(v,"RID",g),He(v,"TYPE","terminate"),br(c,v),g=new Un(c,c.j,g),g.L=2,g.v=ui(mn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=g.v,v=!0),v||(g.g=Lu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ke(g)}Ou(c)}function $n(c){c.g&&(za(c),c.g.cancel(),c.g=null)}function ho(c){$n(c),c.u&&(d.clearTimeout(c.u),c.u=null),mo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function sr(c){if(!pn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Fe||ae(),ie||(Fe(),ie=!0),ye.add(g,c),c.B=0}}function sd(c,g){return Eu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ln(A(c.Ga,c,g),Du(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Un(this,this.j,c);let K=this.o;if(this.S&&(K?(K=S(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=fi(this,B,g),v=mn(this.I),He(v,"RID",c),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),br(this,v),K&&(this.O?g="headers="+encodeURIComponent(String(Pr(K)))+"&"+g:this.m&&di(v,this.m,K)),Va(this.h,B),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",g),He(v,"SID","null"),B.T=!0,io(B,v,null)):io(B,v,g),this.G=2}}else this.G==3&&(c?fo(this,c):this.i.length==0||pn(this.h)||fo(this))};function fo(c,g){var v;g?v=g.l:v=c.U++;const T=mn(c.I);He(T,"SID",c.K),He(T,"RID",v),He(T,"AID",c.T),br(c,T),c.m&&c.o&&di(T,c.m,c.o),v=new Un(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=fi(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Va(c.h,v),io(v,T,g)}function br(c,g){c.H&&he(c.H,function(v,T){He(g,T,v)}),c.l&&oi({},function(v,T){He(g,T,v)})}function fi(c,g,v){v=Math.min(c.i.length,v);var T=c.l?A(c.l.Na,c.l,c):null;e:{var B=c.i;let K=-1;for(;;){const se=["count="+v];K==-1?0<v?(K=B[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let qe=!0;for(let vt=0;vt<v;vt++){let Ve=B[vt].g;const Rt=B[vt].map;if(Ve-=K,0>Ve)K=Math.max(0,B[vt].g-100),qe=!1;else try{Pu(Rt,se,"req"+Ve+"_")}catch{T&&T(Rt)}}if(qe){T=se.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,T}function ds(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Fe||ae(),ie||(Fe(),ie=!0),ye.add(g,c),c.v=0}}function po(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ln(A(c.Fa,c),Du(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ln(A(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),$n(this),xu(this))};function za(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new Un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=mn(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),br(c,g),c.m&&c.o&&di(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ui(mn(g)),v.m=null,v.P=!0,Na(v,c)}n.Za=function(){this.C!=null&&(this.C=null,$n(this),po(this),lt(19))};function mo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function go(c,g){var v=null;if(c.g==g){mo(c),za(c),c.g=null;var T=2}else if(Xt(c.h,g))v=g.D,Au(c.h,g),T=1;else return;if(c.G!=0){if(g.o)if(T==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var B=c.B;T=ns(),_t(T,new eo(T,v)),sr(c)}else ds(c);else if(B=g.s,B==3||B==0&&0<g.X||!(T==1&&sd(c,g)||T==2&&po(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),B){case 1:xr(c,5);break;case 4:xr(c,10);break;case 3:xr(c,6);break;default:xr(c,2)}}}function Du(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function xr(c,g){if(c.j.info("Error code "+g),g==2){var v=A(c.fb,c),T=c.Xa;const B=!T;T=new Rr(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||us(T,"https"),ui(T),B?nd(T.toString(),v):Cu(T.toString(),v)}else lt(2);c.G=0,c.l&&c.l.sa(g),Ou(c),ho(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Ou(c){if(c.G=0,c.ka=[],c.l){const g=Tu(c.h);(g.length!=0||c.i.length!=0)&&(k(c.ka,g),k(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function Nu(c,g,v){var T=v instanceof Rr?mn(v):new Rr(v);if(T.g!="")g&&(T.g=g+"."+T.g),ai(T,T.s);else{var B=d.location;T=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var K=new Rr(null);T&&us(K,T),g&&(K.g=g),B&&ai(K,B),v&&(K.l=v),T=K}return v=c.D,g=c.ya,v&&g&&He(T,v,g),He(T,"VER",c.la),br(c,T),T}function Lu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new et(new Cr({eb:v})):new et(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $a(){}n=$a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yo(){}yo.prototype.g=function(c,g){return new Yt(c,g)};function Yt(c,g){yt.call(this),this.g=new Ba(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!U(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!U(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new or(this)}P(Yt,yt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Lt(this.g)},Yt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=ka(c),c=v);g.i.push(new wu(g.Ya++,c)),g.G==3&&sr(g)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,Yt.aa.N.call(this)};function Vu(c){er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}P(Vu,er);function Mu(){Zs.call(this),this.status=1}P(Mu,Zs);function or(c){this.g=c}P(or,$a),or.prototype.ua=function(){_t(this.g,"a")},or.prototype.ta=function(c){_t(this.g,new Vu(c))},or.prototype.sa=function(c){_t(this.g,new Mu)},or.prototype.ra=function(){_t(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,cE=function(){return new yo},uE=function(){return ns()},lE=tr,ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},no.NO_ERROR=0,no.TIMEOUT=8,no.HTTP_ERROR=6,Jc=no,gu.COMPLETE="complete",aE=gu,Ys.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",yt.prototype.listen=yt.prototype.K,kl=Ys,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,oE=et}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const L_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new jp("@firebase/firestore");function zo(){return Ls.logLevel}function le(n,...e){if(Ls.logLevel<=be.DEBUG){const t=e.map(Yp);Ls.debug(`Firestore (${fa}): ${n}`,...t)}}function Jr(n,...e){if(Ls.logLevel<=be.ERROR){const t=e.map(Yp);Ls.error(`Firestore (${fa}): ${n}`,...t)}}function Zo(n,...e){if(Ls.logLevel<=be.WARN){const t=e.map(Yp);Ls.warn(`Firestore (${fa}): ${n}`,...t)}}function Yp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: `+n;throw Jr(e),new Error(e)}function $e(n,e){n||Ae()}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ei{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class eP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tP{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new hE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Kt(e)}}class nP{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rP{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new nP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){$e(this.o===void 0);const r=a=>{a.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new iP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=oP(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function Ne(n,e){return n<e?-1:n>e?1:0}function ea(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Tt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Tt(0,0))}static max(){return new Te(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(),r===void 0?r=e.length-t:r>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=dr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=dr.isNumericId(e),s=dr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?dr.extractNumericId(e).compare(dr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bi.fromString(e.substring(4,e.length-2))}}class Ye extends dr{construct(e,t,r){return new Ye(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Ye(t)}static emptyPath(){return new Ye([])}}const aP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends dr{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return aP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ye.fromString(e))}static fromName(e){return new ge(Ye.fromString(e).popFirst(5))}static empty(){return new ge(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ye(e.slice()))}}function lP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Te.fromTimestamp(r===1e9?new Tt(t+1,0):new Tt(t,r));return new qi(s,ge.empty(),e)}function uP(n){return new qi(n.readTime,n.key,-1)}class qi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qi(Te.min(),ge.empty(),-1)}static max(){return new qi(Te.max(),ge.empty(),-1)}}function cP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==hP)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,r)=>{t(e)})}static reject(e){return new Q((t,r)=>{r(e)})}static waitFor(e){return new Q((t,r)=>{let s=0,a=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next(s=>s?Q.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Q((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(_=>{u[p]=_,++d,d===a&&r(u)},_=>s(_))}})}static doWhile(e,t){return new Q((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function fP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ma(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bh.oe=-1;function xh(n){return n==null}function dh(n){return n===0&&1/n==-1/0}function pP(n){return typeof n=="number"&&Number.isInteger(n)&&!dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=V_(e)),e=gP(n.get(t),e);return V_(e)}function gP(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function V_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ji(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ft.RED,this.left=s??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ft(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(e){return new U_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class U_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Tn([])}unionWith(e){let t=new It(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Tn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new pE("Invalid base64 string: "+a):a}}(e);return new Bt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const yP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(n){if($e(!!n),typeof n=="string"){let e=0;const t=yP.exec(n);if($e(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wi(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dh(n){const e=n.mapValue.fields.__previous_value__;return Zp(e)?Dh(e):e}function $l(n){const e=Hi(n.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t,r,s,a,u,d,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}class ql{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ki(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zp(n)?4:wP(n)?9007199254740991:vP(n)?10:11:Ae()}function wr(n,e){if(n===e)return!0;const t=Ki(n);if(t!==Ki(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $l(n).isEqual($l(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Hi(s.timestampValue),d=Hi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Wi(s.bytesValue).isEqual(Wi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ct(s.geoPointValue.latitude)===ct(a.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ct(s.integerValue)===ct(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=ct(s.doubleValue),d=ct(a.doubleValue);return u===d?dh(u)===dh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ea(n.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(M_(u)!==M_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!wr(u[f],d[f])))return!1;return!0}(n,e);default:return Ae()}}function Hl(n,e){return(n.values||[]).find(t=>wr(t,e))!==void 0}function ta(n,e){if(n===e)return 0;const t=Ki(n),r=Ki(e);if(t!==r)return Ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=ct(a.integerValue||a.doubleValue),f=ct(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return F_(n.timestampValue,e.timestampValue);case 4:return F_($l(n),$l(e));case 5:return Ne(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Wi(a),f=Wi(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const _=Ne(d[p],f[p]);if(_!==0)return _}return Ne(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Ne(ct(a.latitude),ct(u.latitude));return d!==0?d:Ne(ct(a.longitude),ct(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return j_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,p,_;const w=a.fields||{},A=u.fields||{},I=(d=w.value)===null||d===void 0?void 0:d.arrayValue,P=(f=A.value)===null||f===void 0?void 0:f.arrayValue,D=Ne(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((_=P==null?void 0:P.values)===null||_===void 0?void 0:_.length)||0);return D!==0?D:j_(I,P)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Lc.mapValue&&u===Lc.mapValue)return 0;if(a===Lc.mapValue)return 1;if(u===Lc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},_=Object.keys(p);f.sort(),_.sort();for(let w=0;w<f.length&&w<_.length;++w){const A=Ne(f[w],_[w]);if(A!==0)return A;const I=ta(d[f[w]],p[_[w]]);if(I!==0)return I}return Ne(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function F_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Hi(n),r=Hi(e),s=Ne(t.seconds,r.seconds);return s!==0?s:Ne(t.nanos,r.nanos)}function j_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ta(t[s],r[s]);if(a)return a}return Ne(t.length,r.length)}function na(n){return sp(n)}function sp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Hi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Wi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=sp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${sp(t.fields[u])}`;return s+"}"}(n.mapValue):Ae()}function Xc(n){switch(Ki(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(n);return e?16+Xc(e):16;case 5:return 2*n.stringValue.length;case 6:return Wi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Xc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ji(r.fields,(a,u)=>{s+=a.length+Xc(u)}),s}(n.mapValue);default:throw Ae()}}function B_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function op(n){return!!n&&"integerValue"in n}function em(n){return!!n&&"arrayValue"in n}function z_(n){return!!n&&"nullValue"in n}function $_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yc(n){return!!n&&"mapValue"in n}function vP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Dl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ji(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(t)}setAll(e){let t=jt.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=Dl(u):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Yc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ji(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new fn(Dl(this.value))}}function mE(n){const e=[];return Ji(n.fields,(t,r)=>{const s=new jt([t]);if(Yc(r)){const a=mE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Gt(e,0,Te.min(),Te.min(),Te.min(),fn.empty(),0)}static newFoundDocument(e,t,r,s){return new Gt(e,1,t,Te.min(),r,s,0)}static newNoDocument(e,t){return new Gt(e,2,t,Te.min(),Te.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Te.min(),Te.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t){this.position=e,this.inclusive=t}}function q_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(u.referenceValue),t.key):r=ta(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function H_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function EP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{}class pt extends gE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new TP(e,t,r):t==="array-contains"?new kP(e,r):t==="in"?new RP(e,r):t==="not-in"?new CP(e,r):t==="array-contains-any"?new PP(e,r):new pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new IP(e,r):new SP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ta(t,this.value)):t!==null&&Ki(this.value)===Ki(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends gE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Zn(e,t)}matches(e){return yE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function yE(n){return n.op==="and"}function _E(n){return AP(n)&&yE(n)}function AP(n){for(const e of n.filters)if(e instanceof Zn)return!1;return!0}function ap(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+na(n.value);if(_E(n))return n.filters.map(e=>ap(e)).join(",");{const e=n.filters.map(t=>ap(t)).join(",");return`${n.op}(${e})`}}function vE(n,e){return n instanceof pt?function(r,s){return s instanceof pt&&r.op===s.op&&r.field.isEqual(s.field)&&wr(r.value,s.value)}(n,e):n instanceof Zn?function(r,s){return s instanceof Zn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,d)=>a&&vE(u,s.filters[d]),!0):!1}(n,e):void Ae()}function wE(n){return n instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${na(t.value)}`}(n):n instanceof Zn?function(t){return t.op.toString()+" {"+t.getFilters().map(wE).join(" ,")+"}"}(n):"Filter"}class TP extends pt{constructor(e,t,r){super(e,t,r),this.key=ge.fromName(r.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class IP extends pt{constructor(e,t){super(e,"in",t),this.keys=EE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SP extends pt{constructor(e,t){super(e,"not-in",t),this.keys=EE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function EE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ge.fromName(r.referenceValue))}class kP extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return em(t)&&Hl(t.arrayValue,this.value)}}class RP extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hl(this.value.arrayValue,t)}}class CP extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Hl(this.value.arrayValue,t)}}class PP extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!em(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function W_(n,e=null,t=[],r=[],s=null,a=null,u=null){return new bP(n,e,t,r,s,a,u)}function tm(n){const e=Ie(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ap(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>na(r)).join(",")),e.ue=t}return e.ue}function nm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!EP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!H_(n.startAt,e.startAt)&&H_(n.endAt,e.endAt)}function lp(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xP(n,e,t,r,s,a,u,d){return new ou(n,e,t,r,s,a,u,d)}function Oh(n){return new ou(n)}function K_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AE(n){return n.collectionGroup!==null}function Ol(n){const e=Ie(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new It(jt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ph(a,r))}),t.has(jt.keyField().canonicalString())||e.ce.push(new ph(jt.keyField(),r))}return e.ce}function gr(n){const e=Ie(n);return e.le||(e.le=DP(e,Ol(n))),e.le}function DP(n,e){if(n.limitType==="F")return W_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new ph(s.field,a)});const t=n.endAt?new fh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fh(n.startAt.position,n.startAt.inclusive):null;return W_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function up(n,e){const t=n.filters.concat([e]);return new ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function cp(n,e,t){return new ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nh(n,e){return nm(gr(n),gr(e))&&n.limitType===e.limitType}function TE(n){return`${tm(gr(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>wE(s)).join(", ")}]`),xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>na(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>na(s)).join(",")),`Target(${r})`}(gr(n))}; limitType=${n.limitType})`}function Lh(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Ol(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,d,f){const p=q_(u,d,f);return u.inclusive?p<=0:p<0}(r.startAt,Ol(r),s)||r.endAt&&!function(u,d,f){const p=q_(u,d,f);return u.inclusive?p>=0:p>0}(r.endAt,Ol(r),s))}(n,e)}function OP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IE(n){return(e,t)=>{let r=!1;for(const s of Ol(n)){const a=NP(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function NP(n,e,t){const r=n.field.isKeyField()?ge.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?ta(f,p):Ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new ot(ge.comparator);function Xr(){return LP}const SE=new ot(ge.comparator);function Rl(...n){let e=SE;for(const t of n)e=e.insert(t.key,t);return e}function kE(n){let e=SE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bs(){return Nl()}function RE(){return Nl()}function Nl(){return new Fs(n=>n.toString(),(n,e)=>n.isEqual(e))}const VP=new ot(ge.comparator),MP=new It(ge.comparator);function xe(...n){let e=MP;for(const t of n)e=e.add(t);return e}const UP=new It(Ne);function FP(){return UP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function CE(n){return{integerValue:""+n}}function jP(n,e){return pP(e)?CE(e):rm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function BP(n,e,t){return n instanceof Wl?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Zp(a)&&(a=Dh(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof ra?bE(n,e):n instanceof Kl?xE(n,e):function(s,a){const u=PE(s,a),d=G_(u)+G_(s.Pe);return op(u)&&op(s.Pe)?CE(d):rm(s.serializer,d)}(n,e)}function zP(n,e,t){return n instanceof ra?bE(n,e):n instanceof Kl?xE(n,e):t}function PE(n,e){return n instanceof mh?function(r){return op(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Wl extends Vh{}class ra extends Vh{constructor(e){super(),this.elements=e}}function bE(n,e){const t=DE(e);for(const r of n.elements)t.some(s=>wr(s,r))||t.push(r);return{arrayValue:{values:t}}}class Kl extends Vh{constructor(e){super(),this.elements=e}}function xE(n,e){let t=DE(e);for(const r of n.elements)t=t.filter(s=>!wr(s,r));return{arrayValue:{values:t}}}class mh extends Vh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function G_(n){return ct(n.integerValue||n.doubleValue)}function DE(n){return em(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t){this.field=e,this.transform=t}}function $P(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof ra&&s instanceof ra||r instanceof Kl&&s instanceof Kl?ea(r.elements,s.elements,wr):r instanceof mh&&s instanceof mh?wr(r.Pe,s.Pe):r instanceof Wl&&s instanceof Wl}(n.transform,e.transform)}class qP{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Mh{}function NE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new VE(n.key,yr.none()):new au(n.key,n.data,yr.none());{const t=n.data,r=fn.empty();let s=new It(jt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Xi(n.key,r,new Tn(s.toArray()),yr.none())}}function HP(n,e,t){n instanceof au?function(s,a,u){const d=s.value.clone(),f=J_(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Xi?function(s,a,u){if(!Zc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=J_(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(LE(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ll(n,e,t,r){return n instanceof au?function(a,u,d,f){if(!Zc(a.precondition,u))return d;const p=a.value.clone(),_=X_(a.fieldTransforms,f,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xi?function(a,u,d,f){if(!Zc(a.precondition,u))return d;const p=X_(a.fieldTransforms,f,u),_=u.data;return _.setAll(LE(a)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,d){return Zc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function WP(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=PE(r.transform,s||null);a!=null&&(t===null&&(t=fn.empty()),t.set(r.field,a))}return t||null}function Q_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ea(r,s,(a,u)=>$P(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class au extends Mh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xi extends Mh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function LE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function J_(n,e,t){const r=new Map;$e(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,zP(u,d,t[s]))}return r}function X_(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,BP(a,u,e))}return r}class VE extends Mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KP extends Mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&HP(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ll(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ll(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=RE();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=NE(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(t,r)=>Q_(t,r))&&ea(this.baseMutations,e.baseMutations,(t,r)=>Q_(t,r))}}class im{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){$e(e.mutations.length===r.length);let s=function(){return VP}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new im(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Me;function XP(n){switch(n){default:return Ae();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function ME(n){if(n===void 0)return Jr("GRPC error has no .code"),X.UNKNOWN;switch(n){case ft.OK:return X.OK;case ft.CANCELLED:return X.CANCELLED;case ft.UNKNOWN:return X.UNKNOWN;case ft.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ft.INTERNAL:return X.INTERNAL;case ft.UNAVAILABLE:return X.UNAVAILABLE;case ft.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ft.NOT_FOUND:return X.NOT_FOUND;case ft.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ft.ABORTED:return X.ABORTED;case ft.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ft.DATA_LOSS:return X.DATA_LOSS;default:return Ae()}}(Me=ft||(ft={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new Bi([4294967295,4294967295],0);function Y_(n){const e=YP().encode(n),t=new sE;return t.update(e),new Uint8Array(t.digest())}function Z_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bi([t,r],0),new Bi([s,a],0)]}class sm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cl(`Invalid padding: ${t}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Bi.fromNumber(this.Te)}de(e,t,r){let s=e.add(t.multiply(Bi.fromNumber(r)));return s.compare(ZP)===1&&(s=new Bi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Y_(e),[r,s]=Z_(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,s,a);if(!this.Ee(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new sm(a,s,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.Te===0)return;const t=Y_(e),[r,s]=Z_(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Uh(Te.min(),s,new ot(Ne),Xr(),xe())}}class lu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new lu(r,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class UE{constructor(e,t){this.targetId=e,this.me=t}}class FE{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class ev{constructor(){this.fe=0,this.ge=tv(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),r=xe();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ae()}}),new lu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=tv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class e1{constructor(e){this.Be=e,this.Le=new Map,this.ke=Xr(),this.qe=Vc(),this.Qe=Vc(),this.Ke=new ot(Ne)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(lp(a))if(r===0){const u=new ge(a.path);this.We(t,u,Gt.newNoDocument(u,Te.min()))}else $e(r===1);else{const u=this.Ze(t);if(u!==r){const d=this.Xe(e),f=d?this.et(d,e,u):1;if(f!==0){this.He(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=Wi(r).toUint8Array()}catch(f){if(f instanceof pE)return Zo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new sm(u,s,a)}catch(f){return Zo(f instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Be.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Le.forEach((a,u)=>{const d=this.Ye(u);if(d){if(a.current&&lp(d.target)){const f=new ge(d.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,Gt.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=xe();this.Qe.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Uh(e,t,this.Ke,this.ke,r);return this.ke=Xr(),this.qe=Vc(),this.Qe=Vc(),this.Ke=new ot(Ne),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new ev,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new It(Ne),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new It(Ne),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new ev),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Vc(){return new ot(ge.comparator)}function tv(){return new ot(ge.comparator)}const t1={asc:"ASCENDING",desc:"DESCENDING"},n1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r1={and:"AND",or:"OR"};class i1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hp(n,e){return n.useProto3Json||xh(e)?e:{value:e}}function gh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function s1(n,e){return gh(n,e.toTimestamp())}function _r(n){return $e(!!n),Te.fromTimestamp(function(t){const r=Hi(t);return new Tt(r.seconds,r.nanos)}(n))}function om(n,e){return dp(n,e).canonicalString()}function dp(n,e){const t=function(s){return new Ye(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function BE(n){const e=Ye.fromString(n);return $e(WE(e)),e}function fp(n,e){return om(n.databaseId,e.path)}function jf(n,e){const t=BE(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge($E(t))}function zE(n,e){return om(n.databaseId,e)}function o1(n){const e=BE(n);return e.length===4?Ye.emptyPath():$E(e)}function pp(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $E(n){return $e(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function nv(n,e,t){return{name:fp(n,e),fields:t.value.mapValue.fields}}function a1(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,_){return p.useProto3Json?($e(_===void 0||typeof _=="string"),Bt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Bt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const _=p.code===void 0?X.UNKNOWN:ME(p.code);return new ce(_,p.message||"")}(u);t=new FE(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jf(n,r.document.name),a=_r(r.document.updateTime),u=r.document.createTime?_r(r.document.createTime):Te.min(),d=new fn({mapValue:{fields:r.document.fields}}),f=Gt.newFoundDocument(s,a,u,d),p=r.targetIds||[],_=r.removedTargetIds||[];t=new eh(p,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jf(n,r.document),a=r.readTime?_r(r.readTime):Te.min(),u=Gt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new eh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jf(n,r.document),a=r.removedTargetIds||[];t=new eh([],a,s,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new JP(s,a),d=r.targetId;t=new UE(d,u)}}return t}function l1(n,e){let t;if(e instanceof au)t={update:nv(n,e.key,e.value)};else if(e instanceof VE)t={delete:fp(n,e.key)};else if(e instanceof Xi)t={update:nv(n,e.key,e.data),updateMask:y1(e.fieldMask)};else{if(!(e instanceof KP))return Ae();t={verify:fp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof Wl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ra)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Kl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof mh)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw Ae()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:s1(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae()}(n,e.precondition)),t}function u1(n,e){return n&&n.length>0?($e(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?_r(s.updateTime):_r(a);return u.isEqual(Te.min())&&(u=_r(a)),new qP(u,s.transformResults||[])}(t,e))):[]}function c1(n,e){return{documents:[zE(n,e.path)]}}function h1(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zE(n,s);const a=function(p){if(p.length!==0)return HE(Zn.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(_=>function(A){return{field:qo(A.field),direction:p1(A.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=hp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function d1(n){let e=o1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){$e(r===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(w){const A=qE(w);return A instanceof Zn&&_E(A)?A.getFilters():[A]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(A=>function(P){return new ph(Ho(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(w){let A;return A=typeof w=="object"?w.value:w,xh(A)?null:A}(t.limit));let f=null;t.startAt&&(f=function(w){const A=!!w.before,I=w.values||[];return new fh(I,A)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const A=!w.before,I=w.values||[];return new fh(I,A)}(t.endAt)),xP(e,s,u,a,d,"F",f,p)}function f1(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ho(t.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ho(t.unaryFilter.field);return pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ho(t.unaryFilter.field);return pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ho(t.unaryFilter.field);return pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return pt.create(Ho(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Zn.create(t.compositeFilter.filters.map(r=>qE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function p1(n){return t1[n]}function m1(n){return n1[n]}function g1(n){return r1[n]}function qo(n){return{fieldPath:n.canonicalString()}}function Ho(n){return jt.fromServerFormat(n.fieldPath)}function HE(n){return n instanceof pt?function(t){if(t.op==="=="){if($_(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NAN"}};if(z_(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($_(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NAN"}};if(z_(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(t.field),op:m1(t.op),value:t.value}}}(n):n instanceof Zn?function(t){const r=t.getFilters().map(s=>HE(s));return r.length===1?r[0]:{compositeFilter:{op:g1(t.op),filters:r}}}(n):Ae()}function y1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t,r,s,a=Te.min(),u=Te.min(),d=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.ht=e}}function v1(n){const e=d1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.ln=new E1}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(qi.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class E1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new It(Ye.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new It(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ia(0)}static Qn(){return new ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv([n,e],[t,r]){const s=Ne(n,t);return s===0?Ne(e,r):s}class A1{constructor(e){this.Gn=e,this.buffer=new It(iv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();iv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class T1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ma(t)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await pa(t)}await this.Yn(3e5)})}}class I1{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(bh.oe);const r=new A1(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(rv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,d,f,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),zo()<=be.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-_}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function S1(n,e){return new I1(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.changes=new Fs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ll(r.mutation,s,Tn.empty(),Tt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=xe()){const s=bs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Rl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=bs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,xe()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,s){let a=Xr();const u=Nl(),d=function(){return Nl()}();return t.forEach((f,p)=>{const _=r.get(p.key);s.has(p.key)&&(_===void 0||_.mutation instanceof Xi)?a=a.insert(p.key,p):_!==void 0?(u.set(p.key,_.mutation.getFieldMask()),Ll(_.mutation,p,_.mutation.getFieldMask(),Tt.now())):u.set(p.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,_)=>u.set(p,_)),t.forEach((p,_)=>{var w;return d.set(p,new R1(_,(w=u.get(p))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const r=Nl();let s=new ot((u,d)=>u-d),a=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let _=r.get(f)||Tn.empty();_=d.applyToLocalView(p,_),r.set(f,_);const w=(s.get(d.batchId)||xe()).add(f);s=s.insert(d.batchId,w)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,_=f.value,w=RE();_.forEach(A=>{if(!a.has(A)){const I=NE(t.get(A),r.get(A));I!==null&&w.set(A,I),a=a.add(A)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Q.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Q.resolve(bs());let d=-1,f=a;return u.next(p=>Q.forEach(p,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(_)?Q.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{f=f.insert(_,A)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,xe())).next(_=>({batchId:d,changes:kE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(r=>{let s=Rl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Rl();return this.indexManager.getCollectionParents(e,a).next(d=>Q.forEach(d,f=>{const p=function(w,A){return new ou(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(_=>{_.forEach((w,A)=>{u=u.insert(w,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const _=p.getKey();u.get(_)===null&&(u=u.insert(_,Gt.newInvalidDocument(_)))});let d=Rl();return u.forEach((f,p)=>{const _=a.get(f);_!==void 0&&Ll(_.mutation,p,Tn.empty(),Tt.now()),Lh(t,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:_r(s.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:v1(s.bundledQuery),readTime:_r(s.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.overlays=new ot(ge.comparator),this.dr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bs();return Q.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.dr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const s=bs(),a=t.length+1,u=new ge(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ot((p,_)=>p-_);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=a.get(p.largestBatchId);_===null&&(_=bs(),a=a.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=bs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,_)=>d.set(p,_)),!(d.size()>=s)););return Q.resolve(d)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.dr.get(s.largestBatchId).delete(r.key);this.dr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new QP(t,r));let a=this.dr.get(t);a===void 0&&(a=xe(),this.dr.set(t,a)),this.dr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.Er=new It(Dt.Ar),this.Rr=new It(Dt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new Dt(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Dt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new ge(new Ye([])),r=new Dt(t,e),s=new Dt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ge(new Ye([])),r=new Dt(t,e),s=new Dt(t,e+1);let a=xe();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Dt(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ge.comparator(e.key,t.key)||Ne(e.br,t.br)}static Vr(e,t){return Ne(e.br,t.br)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new It(Dt.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new GP(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.vr=this.vr.add(new Dt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dt(t,0),s=new Dt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const d=this.Cr(u.br);a.push(d)}),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(Ne);return t.forEach(s=>{const a=new Dt(s,0),u=new Dt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],d=>{r=r.add(d.br)})}),Q.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const u=new Dt(new ge(a),0);let d=new It(Ne);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.br)),!0)},u),Q.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){$e(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Q.forEach(t.mutations,s=>{const a=new Dt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new Dt(t,0),s=this.vr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.Nr=e,this.docs=function(){return new ot(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let r=Xr();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Gt.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Xr();const u=t.path,d=new ge(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:_}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||cP(uP(_),r)<=0||(s.has(_.key)||Lh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ae()}Br(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new N1(this)}getSize(e){return Q.resolve(this.size)}}class N1 extends k1{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.persistence=e,this.Lr=new Fs(t=>tm(t),nm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.kr=0,this.qr=new am,this.targetCount=0,this.Qr=ia.qn()}forEachTarget(e,t){return this.Lr.forEach((r,s)=>t(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ia(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Lr.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Lr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),Q.waitFor(a).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Q.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new bh(0),this.Ur=!1,this.Ur=!0,this.Wr=new x1,this.referenceDelegate=e(this),this.Gr=new L1(this),this.indexManager=new w1,this.remoteDocumentCache=function(s){return new O1(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new _1(t),this.jr=new P1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new D1(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const s=new V1(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return Q.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class V1 extends dP{constructor(e){super(),this.currentSequenceNumber=e}}class lm{constructor(e){this.persistence=e,this.Zr=new am,this.Xr=null}static ei(e){return new lm(e)}get ti(){if(this.Xr)return this.Xr;throw Ae()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,r=>{const s=ge.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,Te.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class yh{constructor(e,t){this.persistence=e,this.ri=new Fs(r=>mP(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=S1(this,t)}static ei(e,t){return new yh(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?Q.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Br(e,u=>this.ir(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Te.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xc(e.data.value)),t}ir(e,t,r){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=xe(),s=xe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new um(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return _S()?8:fP(Jt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new M1;return this.ts(e,t,u).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,u,d.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(zo()<=be.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(zo()<=be.DEBUG&&le("QueryEngine","Query:",$o(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(zo()<=be.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(t))):Q.resolve())}Xi(e,t){if(K_(t))return Q.resolve(null);let r=gr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=cp(t,null,"F"),r=gr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=xe(...a);return this.Zi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.rs(t,d);return this.ss(t,p,u,f.readTime)?this.Xi(e,cp(t,null,"F")):this.os(e,p,t,f)}))})))}es(e,t,r,s){return K_(t)||s.isEqual(Te.min())?Q.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?Q.resolve(null):(zo()<=be.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$o(t)),this.os(e,u,t,lP(s,-1)).next(d=>d))})}rs(e,t){let r=new It(IE(e));return t.forEach((s,a)=>{Lh(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return zo()<=be.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",$o(t)),this.Zi.getDocumentsMatchingQuery(e,t,qi.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new ot(Ne),this.cs=new Fs(a=>tm(a),nm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function j1(n,e,t,r){return new F1(n,e,t,r)}async function GE(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=xe();for(const p of s){u.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}for(const p of a){d.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:d}))})})}function B1(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,p,_){const w=p.batch,A=w.keys();let I=Q.resolve();return A.forEach(P=>{I=I.next(()=>_.getEntry(f,P)).next(D=>{const k=p.docVersions.get(P);$e(k!==null),D.version.compareTo(k)<0&&(w.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),_.addEntry(D)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=xe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function QE(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function z1(n,e){const t=Ie(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const d=[];e.targetChanges.forEach((_,w)=>{const A=s.get(w);if(!A)return;d.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,w)));let I=A.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(Bt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,r)),s=s.insert(w,I),function(D,k,V){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(A,I,_)&&d.push(t.Gr.updateTargetData(a,I))});let f=Xr(),p=xe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push($1(a,u,e.documentUpdates).next(_=>{f=_.Is,p=_.ds})),!r.isEqual(Te.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(_)}return Q.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.us=s,a))}function $1(n,e,t){let r=xe(),s=xe();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Xr();return t.forEach((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Te.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):le("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{Is:u,ds:s}})}function q1(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function H1(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,Q.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new Mi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function mp(n,e,t){const r=Ie(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ma(u))throw u;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function sv(n,e,t){const r=Ie(n);let s=Te.min(),a=xe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,_){const w=Ie(f),A=w.cs.get(_);return A!==void 0?Q.resolve(w.us.get(A)):w.Gr.getTargetData(p,_)}(r,u,gr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:Te.min(),t?a:xe())).next(d=>(W1(r,OP(e),d),{documents:d,Es:a})))}function W1(n,e,t){let r=n.ls.get(e)||Te.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class ov{constructor(){this.activeTargetIds=FP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K1{constructor(){this._o=new ov,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ov,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function Bf(){return Mc===null?Mc=function(){return 268435456+Math.round(2147483648*Math.random())}():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class X1 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const d=Bf(),f=this.No(t,r.toUriEncodedString());le("RestConnection",`Sending RPC '${t}' ${d}:`,f,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,u),this.Lo(t,f,p,s).then(_=>(le("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw Zo("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",f,"request:",s),_})}ko(t,r,s,a,u,d){return this.Oo(t,r,s,a,u)}Bo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=Q1[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,s){const a=Bf();return new Promise((u,d)=>{const f=new oE;f.setWithCredentials(!0),f.listenOnce(aE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Jc.NO_ERROR:const _=f.getResponseJson();le(Wt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),u(_);break;case Jc.TIMEOUT:le(Wt,`RPC '${e}' ${a} timed out`),d(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const w=f.getStatus();if(le(Wt,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let A=f.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A==null?void 0:A.error;if(I&&I.status&&I.message){const P=function(k){const V=k.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(V)>=0?V:X.UNKNOWN}(I.status);d(new ce(P,I.message))}else d(new ce(X.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ce(X.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{le(Wt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);le(Wt,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,r,15)})}qo(e,t,r){const s=Bf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=cE(),d=uE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=a.join("");le(Wt,`Creating RPC '${e}' stream ${s}: ${_}`,f);const w=u.createWebChannel(_,f);let A=!1,I=!1;const P=new J1({Eo:k=>{I?le(Wt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(A||(le(Wt,`Opening RPC '${e}' stream ${s} transport.`),w.open(),A=!0),le(Wt,`RPC '${e}' stream ${s} sending:`,k),w.send(k))},Ao:()=>w.close()}),D=(k,V,U)=>{k.listen(V,q=>{try{U(q)}catch(G){setTimeout(()=>{throw G},0)}})};return D(w,kl.EventType.OPEN,()=>{I||(le(Wt,`RPC '${e}' stream ${s} transport opened.`),P.So())}),D(w,kl.EventType.CLOSE,()=>{I||(I=!0,le(Wt,`RPC '${e}' stream ${s} transport closed`),P.Do())}),D(w,kl.EventType.ERROR,k=>{I||(I=!0,Zo(Wt,`RPC '${e}' stream ${s} transport errored:`,k),P.Do(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),D(w,kl.EventType.MESSAGE,k=>{var V;if(!I){const U=k.data[0];$e(!!U);const q=U,G=(q==null?void 0:q.error)||((V=q[0])===null||V===void 0?void 0:V.error);if(G){le(Wt,`RPC '${e}' stream ${s} received error:`,G);const re=G.status;let he=function(R){const O=ft[R];if(O!==void 0)return ME(O)}(re),x=G.message;he===void 0&&(he=X.INTERNAL,x="Unknown error status: "+re+" with message "+G.message),I=!0,P.Do(new ce(he,x)),w.close()}else le(Wt,`RPC '${e}' stream ${s} received:`,U),P.vo(U)}}),D(d,lE.STAT_EVENT,k=>{k.stat===ip.PROXY?le(Wt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===ip.NOPROXY&&le(Wt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.bo()},0),P}}function zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(n){return new i1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,t,r,s,a,u,d,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new JE(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Jr(t.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new ce(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.d_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y1 extends XE{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=a1(this.serializer,e),r=function(a){if(!("targetChange"in a))return Te.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Te.min():u.readTime?_r(u.readTime):Te.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=pp(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=lp(f)?{documents:c1(a,f)}:{query:h1(a,f).ct},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=jE(a,u.resumeToken);const p=hp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Te.min())>0){d.readTime=gh(a,u.snapshotVersion.toTimestamp());const p=hp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=f1(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=pp(this.serializer),t.removeTarget=e,this.c_(t)}}class Z1 extends XE{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=u1(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=pp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>l1(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,dp(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(X.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ko(e,dp(t,r),s,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(X.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class tb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Jr(t),this.C_=!1):le("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{js(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=Ie(f);p.k_.add(4),await uu(p),p.K_.set("Unknown"),p.k_.delete(4),await jh(p)}(this))})}),this.K_=new tb(r,s)}}async function jh(n){if(js(n))for(const e of n.q_)await e(!0)}async function uu(n){for(const e of n.q_)await e(!1)}function YE(n,e){const t=Ie(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),fm(t)?dm(t):ga(t).s_()&&hm(t,e))}function cm(n,e){const t=Ie(n),r=ga(t);t.L_.delete(e),r.s_()&&ZE(t,e),t.L_.size===0&&(r.s_()?r.a_():js(t)&&t.K_.set("Unknown"))}function hm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ga(n).V_(e)}function ZE(n,e){n.U_.xe(e),ga(n).m_(e)}function dm(n){n.U_=new e1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ga(n).start(),n.K_.F_()}function fm(n){return js(n)&&!ga(n).i_()&&n.L_.size>0}function js(n){return Ie(n).k_.size===0}function eA(n){n.U_=void 0}async function rb(n){n.K_.set("Online")}async function ib(n){n.L_.forEach((e,t)=>{hm(n,e)})}async function sb(n,e){eA(n),fm(n)?(n.K_.O_(e),dm(n)):n.K_.set("Unknown")}async function ob(n,e,t){if(n.K_.set("Online"),e instanceof FE&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const d of a.targetIds)s.L_.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.L_.delete(d),s.U_.removeTarget(d))}(n,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _h(n,r)}else if(e instanceof eh?n.U_.$e(e):e instanceof UE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Te.min()))try{const r=await QE(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.U_.it(u);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.L_.get(p);_&&a.L_.set(p,_.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,p)=>{const _=a.L_.get(f);if(!_)return;a.L_.set(f,_.withResumeToken(Bt.EMPTY_BYTE_STRING,_.snapshotVersion)),ZE(a,f);const w=new Mi(_.target,f,p,_.sequenceNumber);hm(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await _h(n,r)}}async function _h(n,e,t){if(!ma(e))throw e;n.k_.add(1),await uu(n),n.K_.set("Offline"),t||(t=()=>QE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await jh(n)})}function tA(n,e){return e().catch(t=>_h(n,t,e))}async function Bh(n){const e=Ie(n),t=Gi(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;ab(e);)try{const s=await q1(e.localStore,r);if(s===null){e.B_.length===0&&t.a_();break}r=s.batchId,lb(e,s)}catch(s){await _h(e,s)}nA(e)&&rA(e)}function ab(n){return js(n)&&n.B_.length<10}function lb(n,e){n.B_.push(e);const t=Gi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function nA(n){return js(n)&&!Gi(n).i_()&&n.B_.length>0}function rA(n){Gi(n).start()}async function ub(n){Gi(n).w_()}async function cb(n){const e=Gi(n);for(const t of n.B_)e.g_(t.mutations)}async function hb(n,e,t){const r=n.B_.shift(),s=im.from(r,e,t);await tA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Bh(n)}async function db(n,e){e&&Gi(n).f_&&await async function(r,s){if(function(u){return XP(u)&&u!==X.ABORTED}(s.code)){const a=r.B_.shift();Gi(r).__(),await tA(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Bh(r)}}(n,e),nA(n)&&rA(n)}async function lv(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=js(t);t.k_.add(3),await uu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await jh(t)}async function fb(n,e){const t=Ie(n);e?(t.k_.delete(2),await jh(t)):e||(t.k_.add(2),await uu(t),t.K_.set("Unknown"))}function ga(n){return n.W_||(n.W_=function(t,r,s){const a=Ie(t);return a.b_(),new Y1(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:rb.bind(null,n),mo:ib.bind(null,n),po:sb.bind(null,n),R_:ob.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),fm(n)?dm(n):n.K_.set("Unknown")):(await n.W_.stop(),eA(n))})),n.W_}function Gi(n){return n.G_||(n.G_=function(t,r,s){const a=Ie(t);return a.b_(),new Z1(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:ub.bind(null,n),po:db.bind(null,n),p_:cb.bind(null,n),y_:hb.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Bh(n)):(await n.G_.stop(),n.B_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new pm(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(n,e){if(Jr("AsyncQueue",`${e}: ${n}`),ma(n))return new ce(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ge.comparator(t.key,r.key):(t,r)=>ge.comparator(t.key,r.key),this.keyedMap=Rl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.z_=new ot(ge.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ae():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class sa{constructor(e,t,r,s,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new sa(e,t,Jo.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class mb{constructor(){this.queries=cv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=Ie(t),a=s.queries;s.queries=cv(),a.forEach((u,d)=>{for(const f of d.J_)f.onError(r)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function cv(){return new Fs(n=>TE(n),Nh)}async function gm(n,e){const t=Ie(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new pb,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=mm(u,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&_m(t)}async function ym(n,e){const t=Ie(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function gb(n,e){const t=Ie(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.J_)d.ta(s)&&(r=!0);u.H_=s}}r&&_m(t)}function yb(n,e,t){const r=Ie(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function _m(n){n.X_.forEach(e=>{e.next()})}var gp,hv;(hv=gp||(gp={})).na="default",hv.Cache="cache";class vm{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.key=e}}class sA{constructor(e){this.key=e}}class _b{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=IE(e),this.ma=new Jo(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new uv,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,w)=>{const A=s.get(_),I=Lh(this.query,w)?w:null,P=!!A&&this.mutatedKeys.has(A.key),D=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;A&&I?A.data.isEqual(I.data)?P!==D&&(r.track({type:3,doc:I}),k=!0):this.ya(A,I)||(r.track({type:2,doc:I}),k=!0,(f&&this.Va(I,f)>0||p&&this.Va(I,p)<0)&&(d=!0)):!A&&I?(r.track({type:0,doc:I}),k=!0):A&&!I&&(r.track({type:1,doc:A}),k=!0,(f||p)&&(d=!0)),k&&(I?(u=u.add(I),a=D?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{ma:u,pa:r,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((_,w)=>function(I,P){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return D(I)-D(P)}(_.type,w.type)||this.Va(_.doc,w.doc)),this.wa(r),s=s!=null&&s;const d=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,p=f!==this.Aa;return this.Aa=f,u.length!==0||p?{snapshot:new sa(this.query,e.ma,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new uv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new sA(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new iA(r))}),t}va(e){this.Ea=e.Es,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return sa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class vb{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wb{constructor(e){this.key=e,this.Fa=!1}}class Eb{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Fs(d=>TE(d),Nh),this.Oa=new Map,this.Na=new Set,this.Ba=new ot(ge.comparator),this.La=new Map,this.ka=new am,this.qa={},this.Qa=new Map,this.Ka=ia.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Ab(n,e,t=!0){const r=hA(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await oA(r,e,t,!0),s}async function Tb(n,e){const t=hA(n);await oA(t,e,!0,!1)}async function oA(n,e,t,r){const s=await H1(n.localStore,gr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await Ib(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&YE(n.remoteStore,s),d}async function Ib(n,e,t,r,s){n.Ua=(w,A,I)=>async function(D,k,V,U){let q=k.view.ga(V);q.ss&&(q=await sv(D.localStore,k.query,!1).then(({documents:x})=>k.view.ga(x,q)));const G=U&&U.targetChanges.get(k.targetId),re=U&&U.targetMismatches.get(k.targetId)!=null,he=k.view.applyChanges(q,D.isPrimaryClient,G,re);return fv(D,k.targetId,he.ba),he.snapshot}(n,w,A,I);const a=await sv(n.localStore,e,!0),u=new _b(e,a.Es),d=u.ga(a.documents),f=lu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(d,n.isPrimaryClient,f);fv(n,t,p.ba);const _=new vb(e,t,u);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function Sb(n,e,t){const r=Ie(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!Nh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await mp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&cm(r.remoteStore,s.targetId),yp(r,s.targetId)}).catch(pa)):(yp(r,s.targetId),await mp(r.localStore,s.targetId,!0))}async function kb(n,e){const t=Ie(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),cm(t.remoteStore,r.targetId))}async function Rb(n,e,t){const r=Nb(n);try{const s=await function(u,d){const f=Ie(u),p=Tt.now(),_=d.reduce((I,P)=>I.add(P.key),xe());let w,A;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let P=Xr(),D=xe();return f.hs.getEntries(I,_).next(k=>{P=k,P.forEach((V,U)=>{U.isValidDocument()||(D=D.add(V))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,P)).next(k=>{w=k;const V=[];for(const U of d){const q=WP(U,w.get(U.key).overlayedDocument);q!=null&&V.push(new Xi(U.key,q,mE(q.value.mapValue),yr.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,V,d)}).next(k=>{A=k;const V=k.applyToLocalDocumentSet(w,D);return f.documentOverlayCache.saveOverlays(I,k.batchId,V)})}).then(()=>({batchId:A.batchId,changes:kE(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let p=u.qa[u.currentUser.toKey()];p||(p=new ot(Ne)),p=p.insert(d,f),u.qa[u.currentUser.toKey()]=p}(r,s.batchId,t),await cu(r,s.changes),await Bh(r.remoteStore)}catch(s){const a=mm(s,"Failed to persist write");t.reject(a)}}async function aA(n,e){const t=Ie(n);try{const r=await z1(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.La.get(a);u&&($e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?$e(u.Fa):s.removedDocuments.size>0&&($e(u.Fa),u.Fa=!1))}),await cu(t,r,e)}catch(r){await pa(r)}}function dv(n,e,t){const r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const d=u.view.ea(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=Ie(u);f.onlineState=d;let p=!1;f.queries.forEach((_,w)=>{for(const A of w.J_)A.ea(d)&&(p=!0)}),p&&_m(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Cb(n,e,t){const r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.La.get(e),a=s&&s.key;if(a){let u=new ot(ge.comparator);u=u.insert(a,Gt.newNoDocument(a,Te.min()));const d=xe().add(a),f=new Uh(Te.min(),new Map,new ot(Ne),u,d);await aA(r,f),r.Ba=r.Ba.remove(a),r.La.delete(e),wm(r)}else await mp(r.localStore,e,!1).then(()=>yp(r,e,t)).catch(pa)}async function Pb(n,e){const t=Ie(n),r=e.batch.batchId;try{const s=await B1(t.localStore,e);uA(t,r,null),lA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await cu(t,s)}catch(s){await pa(s)}}async function bb(n,e,t){const r=Ie(n);try{const s=await function(u,d){const f=Ie(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return f.mutationQueue.lookupMutationBatch(p,d).next(w=>($e(w!==null),_=w.keys(),f.mutationQueue.removeMutationBatch(p,w))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,_,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>f.localDocuments.getDocuments(p,_))})}(r.localStore,e);uA(r,e,t),lA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await cu(r,s)}catch(s){await pa(s)}}function lA(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function uA(n,e,t){const r=Ie(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function yp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||cA(n,r)})}function cA(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(cm(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),wm(n))}function fv(n,e,t){for(const r of t)r instanceof iA?(n.ka.addReference(r.key,e),xb(n,r)):r instanceof sA?(le("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||cA(n,r.key)):Ae()}function xb(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(le("SyncEngine","New document in limbo: "+t),n.Na.add(r),wm(n))}function wm(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ge(Ye.fromString(e)),r=n.Ka.next();n.La.set(r,new wb(t)),n.Ba=n.Ba.insert(t,r),YE(n.remoteStore,new Mi(gr(Oh(t.path)),r,"TargetPurposeLimboResolution",bh.oe))}}async function cu(n,e,t){const r=Ie(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((d,f)=>{u.push(r.Ua(f,e,t).then(p=>{var _;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){s.push(p);const w=um.zi(f.targetId,p);a.push(w)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(f,p){const _=Ie(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Q.forEach(p,A=>Q.forEach(A.Wi,I=>_.persistence.referenceDelegate.addReference(w,A.targetId,I)).next(()=>Q.forEach(A.Gi,I=>_.persistence.referenceDelegate.removeReference(w,A.targetId,I)))))}catch(w){if(!ma(w))throw w;le("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const A=w.targetId;if(!w.fromCache){const I=_.us.get(A),P=I.snapshotVersion,D=I.withLastLimboFreeSnapshotVersion(P);_.us=_.us.insert(A,D)}}}(r.localStore,a))}async function Db(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await GE(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new ce(X.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(t,r.Ts)}}function Ob(n,e){const t=Ie(n),r=t.La.get(e);if(r&&r.Fa)return xe().add(r.key);{let s=xe();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const d=t.xa.get(u);s=s.unionWith(d.view.fa)}return s}}function hA(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ob.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cb.bind(null,e),e.Ma.R_=gb.bind(null,e.eventManager),e.Ma.Wa=yb.bind(null,e.eventManager),e}function Nb(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bb.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return j1(this.persistence,new U1,e.initialUser,this.serializer)}ja(e){return new KE(lm.ei,this.serializer)}za(e){return new K1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class Lb extends vh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){$e(this.persistence.referenceDelegate instanceof yh);const r=this.persistence.referenceDelegate.garbageCollector;return new T1(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new KE(r=>yh.ei(r,t),this.serializer)}}class _p{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Db.bind(null,this.syncEngine),await fb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mb}()}createDatastore(e){const t=Fh(e.databaseInfo.databaseId),r=function(a){return new X1(a)}(e.databaseInfo);return function(a,u,d,f){return new eb(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,d){return new nb(r,s,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>dv(this.syncEngine,t,0),function(){return av.p()?new av:new G1}())}createSyncEngine(e,t){return function(s,a,u,d,f,p,_){const w=new Eb(s,a,u,d,f,p);return _&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Ie(s);le("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await uu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=dE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{le("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=mm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $f(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await GE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function pv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Mb(n);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>lv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>lv(e.remoteStore,s)),n._onlineComponents=e}async function Mb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await $f(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),await $f(n,new vh)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await $f(n,new Lb(void 0));return n._offlineComponents}async function dA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await pv(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await pv(n,new _p))),n._onlineComponents}function Ub(n){return dA(n).then(e=>e.syncEngine)}async function wh(n){const e=await dA(n),t=e.eventManager;return t.onListen=Ab.bind(null,e.syncEngine),t.onUnlisten=Sb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Tb.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kb.bind(null,e.syncEngine),t}function Fb(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const _=new Em({next:A=>{_.eu(),u.enqueueAndForget(()=>ym(a,w));const I=A.docs.has(d);!I&&A.fromCache?p.reject(new ce(X.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&f&&f.source==="server"?p.reject(new ce(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new vm(Oh(d.path),_,{includeMetadataChanges:!0,ua:!0});return gm(a,w)}(await wh(n),n.asyncQueue,e,t,r)),r.promise}function jb(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const _=new Em({next:A=>{_.eu(),u.enqueueAndForget(()=>ym(a,w)),A.fromCache&&f.source==="server"?p.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new vm(d,_,{includeMetadataChanges:!0,ua:!0});return gm(a,w)}(await wh(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n,e,t){if(!t)throw new ce(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Bb(n,e,t,r){if(e===!0&&r===!0)throw new ce(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gv(n){if(!ge.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yv(n){if(ge.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function Nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zh(n);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZC;switch(r.type){case"firstParty":return new rP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=mv.get(t);r&&(le("ComponentProvider","Removing Datastore"),mv.delete(t),r.terminate())}(this),Promise.resolve()}}function zb(n,e,t,r={}){var s;const a=(n=Nn(n,$h))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Kt.MOCK_USER;else{d=hS(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Kt(p)}n._authCredentials=new eP(new hE(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class Qt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class zi extends Bs{constructor(e,t,r){super(e,t,Oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new ge(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function th(n,e,...t){if(n=St(n),pA("collection","path",e),n instanceof $h){const r=Ye.fromString(e,...t);return yv(r),new zi(n,null,r)}{if(!(n instanceof Qt||n instanceof zi))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ye.fromString(e,...t));return yv(r),new zi(n.firestore,null,r)}}function Ot(n,e,...t){if(n=St(n),arguments.length===1&&(e=dE.newId()),pA("doc","path",e),n instanceof $h){const r=Ye.fromString(e,...t);return gv(r),new Qt(n,null,new ge(r))}{if(!(n instanceof Qt||n instanceof zi))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ye.fromString(e,...t));return gv(r),new Qt(n.firestore,n instanceof zi?n.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new JE(this,"async_queue_retry"),this.fu=()=>{const r=zf();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=zf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=zf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Wr;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ma(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw Jr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=pm.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.Eu.push(s),s}pu(){this.Au&&Ae()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function wv(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Vs extends $h{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new vv,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function $b(n,e){const t=typeof n=="object"?n:ww(),r=typeof n=="string"?n:"(default)",s=zp(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=uS("firestore");a&&zb(s,...a)}return s}function qh(n){if(n._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qb(n),n._firestoreClient}function qb(n){var e,t,r;const s=n._freezeSettings(),a=function(d,f,p,_){return new _P(d,f,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,fA(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Vb(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(Bt.fromBase64String(e))}catch(t){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oa(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=/^__.*__$/;class Wb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new au(e,this.data,t,this.fieldTransforms)}}class mA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Wh{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Wh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Bu(e),s}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Eh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(gA(this.Mu)&&Hb.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Kb{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Fh(e)}$u(e,t,r,s=!1){return new Wh({Mu:e,methodName:t,Ku:r,path:jt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Im(n){const e=n._freezeSettings(),t=Fh(n._databaseId);return new Kb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Gb(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);Rm("Data must be an object, but it was:",u,r);const d=yA(r,u);let f,p;if(a.merge)f=new Tn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const A=vp(e,w,t);if(!u.contains(A))throw new ce(X.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);vA(_,A)||_.push(A)}f=new Tn(_),p=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,p=u.fieldTransforms;return new Wb(new fn(d),f,p)}class Kh extends hu{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function Qb(n,e,t){return new Wh({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sm extends hu{_toFieldTransform(e){return new OE(e.path,new Wl)}isEqual(e){return e instanceof Sm}}class km extends hu{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=Qb(this,e,!0),r=this.Uu.map(a=>ya(a,t)),s=new ra(r);return new OE(e.path,s)}isEqual(e){return e instanceof km&&Fl(this.Uu,e.Uu)}}function Jb(n,e,t,r){const s=n.$u(1,e,t);Rm("Data must be an object, but it was:",s,r);const a=[],u=fn.empty();Ji(r,(f,p)=>{const _=Cm(e,f,t);p=St(p);const w=s.Lu(_);if(p instanceof Kh)a.push(_);else{const A=ya(p,w);A!=null&&(a.push(_),u.set(_,A))}});const d=new Tn(a);return new mA(u,d,s.fieldTransforms)}function Xb(n,e,t,r,s,a){const u=n.$u(1,e,t),d=[vp(e,r,t)],f=[s];if(a.length%2!=0)throw new ce(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<a.length;A+=2)d.push(vp(e,a[A])),f.push(a[A+1]);const p=[],_=fn.empty();for(let A=d.length-1;A>=0;--A)if(!vA(p,d[A])){const I=d[A];let P=f[A];P=St(P);const D=u.Lu(I);if(P instanceof Kh)p.push(I);else{const k=ya(P,D);k!=null&&(p.push(I),_.set(I,k))}}const w=new Tn(p);return new mA(_,w,u.fieldTransforms)}function Yb(n,e,t,r=!1){return ya(t,n.$u(r?4:3,e))}function ya(n,e){if(_A(n=St(n)))return Rm("Unsupported field value:",e,n),yA(n,e);if(n instanceof hu)return function(r,s){if(!gA(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const d of r){let f=ya(d,s.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Tt.fromDate(r);return{timestampValue:gh(s.serializer,a)}}if(r instanceof Tt){const a=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(s.serializer,a)}}if(r instanceof Am)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:jE(s.serializer,r._byteString)};if(r instanceof Qt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:om(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Tm)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return rm(d.serializer,f)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${zh(r)}`)}(n,e)}function yA(n,e){const t={};return fE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(n,(r,s)=>{const a=ya(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function _A(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof Am||n instanceof oa||n instanceof Qt||n instanceof hu||n instanceof Tm)}function Rm(n,e,t){if(!_A(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=zh(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function vp(n,e,t){if((e=St(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return Cm(n,e);throw Eh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Zb=new RegExp("[~\\*/\\[\\]]");function Cm(n,e,t){if(e.search(Zb)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hh(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Eh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ce(X.INVALID_ARGUMENT,d+n+f)}function vA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ex extends wA{data(){return super.data()}}function Pm(n,e){return typeof e=="string"?Cm(n,e):e instanceof Hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bm{}class tx extends bm{}function AA(n,e,...t){let r=[];e instanceof bm&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof xm).length,d=a.filter(f=>f instanceof Gh).length;if(u>1||u>0&&d>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Gh extends tx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Gh(e,t,r)}_apply(e){const t=this._parse(e);return IA(e._query,t),new Bs(e.firestore,e.converter,up(e._query,t))}_parse(e){const t=Im(e.firestore);return function(a,u,d,f,p,_,w){let A;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Av(w,_);const I=[];for(const P of w)I.push(Ev(f,a,P));A={arrayValue:{values:I}}}else A=Ev(f,a,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Av(w,_),A=Yb(d,u,w,_==="in"||_==="not-in");return pt.create(p,_,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function TA(n,e,t){const r=e,s=Pm("where",n);return Gh._create(s,r,t)}class xm extends bm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Zn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const d=a.getFlattenedFilters();for(const f of d)IA(u,f),u=up(u,f)}(e._query,t),new Bs(e.firestore,e.converter,up(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ev(n,e,t){if(typeof(t=St(t))=="string"){if(t==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AE(e)&&t.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ye.fromString(t));if(!ge.isDocumentKey(r))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B_(n,new ge(r))}if(t instanceof Qt)return B_(n,t._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zh(t)}.`)}function Av(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IA(n,e){const t=function(s,a){for(const u of s)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class nx{convertValue(e,t="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ji(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>ct(u.doubleValue));return new Tm(a)}convertGeoPoint(e){return new Am(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Dh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const t=Hi(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ye.fromString(e);$e(WE(r));const s=new ql(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return s.isEqual(t)||Jr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SA extends wA{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Pm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class nh extends SA{data(e={}){return super.data(e)}}class kA{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Pl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new nh(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(d=>{const f=new nh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Pl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new nh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Pl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,_=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:ix(d.type),doc:f,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ix(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(n){n=Nn(n,Qt);const e=Nn(n.firestore,Vs);return Fb(qh(e),n._key).then(t=>bA(e,n,t))}class Dm extends nx{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}}function RA(n){n=Nn(n,Bs);const e=Nn(n.firestore,Vs),t=qh(e),r=new Dm(e);return EA(n._query),jb(t,n._query).then(s=>new kA(e,r,n,s))}function wp(n,e,t){n=Nn(n,Qt);const r=Nn(n.firestore,Vs),s=rx(n.converter,e);return PA(r,[Gb(Im(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,yr.none())])}function Xn(n,e,t,...r){n=Nn(n,Qt);const s=Nn(n.firestore,Vs),a=Im(s);let u;return u=typeof(e=St(e))=="string"||e instanceof Hh?Xb(a,"updateDoc",n._key,e,t,r):Jb(a,"updateDoc",n._key,e),PA(s,[u.toMutation(n._key,yr.exists(!0))])}function CA(n,...e){var t,r,s;n=St(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||wv(e[u])||(a=e[u],u++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(wv(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[u+2]=(s=w.complete)===null||s===void 0?void 0:s.bind(w)}let f,p,_;if(n instanceof Qt)p=Nn(n.firestore,Vs),_=Oh(n._key.path),f={next:w=>{e[u]&&e[u](bA(p,n,w))},error:e[u+1],complete:e[u+2]};else{const w=Nn(n,Bs);p=Nn(w.firestore,Vs),_=w._query;const A=new Dm(p);f={next:I=>{e[u]&&e[u](new kA(p,A,w,I))},error:e[u+1],complete:e[u+2]},EA(n._query)}return function(A,I,P,D){const k=new Em(D),V=new vm(I,k,P);return A.asyncQueue.enqueueAndForget(async()=>gm(await wh(A),V)),()=>{k.eu(),A.asyncQueue.enqueueAndForget(async()=>ym(await wh(A),V))}}(qh(p),_,d,f)}function PA(n,e){return function(r,s){const a=new Wr;return r.asyncQueue.enqueueAndForget(async()=>Rb(await Ub(r),s,a)),a.promise}(qh(n),e)}function bA(n,e,t){const r=t.docs.get(e._key),s=new Dm(n);return new SA(n,s,e._key,r,new Pl(t.hasPendingWrites,t.fromCache),e.converter)}function sx(){return new Sm("serverTimestamp")}function Ah(...n){return new km("arrayUnion",n)}(function(e,t=!0){(function(s){fa=s})(ha),Yo(new Ds("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Vs(new tP(r.getProvider("auth-internal")),new sP(r.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(p.options.projectId,_)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),ji(L_,"4.7.6",e),ji(L_,"4.7.6","esm2017")})();function xA(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=xA(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function xs(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=xA(n))&&(r&&(r+=" "),r+=e);return r}function ox(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}ox(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var du=n=>typeof n=="number"&&!isNaN(n),Ms=n=>typeof n=="string",Yr=n=>typeof n=="function",ax=n=>Ms(n)||du(n),Ep=n=>Ms(n)||Yr(n)?n:null,lx=(n,e)=>n===!1||du(n)&&n>0?n:e,Ap=n=>z.isValidElement(n)||Ms(n)||Yr(n)||du(n);function ux(n,e,t=300){let{scrollHeight:r,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function cx({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:a,position:u,preventExitTransition:d,done:f,nodeRef:p,isIn:_,playToast:w}){let A=t?`${n}--${u}`:n,I=t?`${e}--${u}`:e,P=z.useRef(0);return z.useLayoutEffect(()=>{let D=p.current,k=A.split(" "),V=U=>{U.target===p.current&&(w(),D.removeEventListener("animationend",V),D.removeEventListener("animationcancel",V),P.current===0&&U.type!=="animationcancel"&&D.classList.remove(...k))};D.classList.add(...k),D.addEventListener("animationend",V),D.addEventListener("animationcancel",V)},[]),z.useEffect(()=>{let D=p.current,k=()=>{D.removeEventListener("animationend",k),r?ux(D,f,s):f()};_||(d?k():(P.current=1,D.className+=` ${I}`,D.addEventListener("animationend",k)))},[_]),Ze.createElement(Ze.Fragment,null,a)}}function Tv(n,e){return{content:DA(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function DA(n,e,t=!1){return z.isValidElement(n)&&!Ms(n.type)?z.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Yr(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function hx({closeToast:n,theme:e,ariaLabel:t="close"}){return Ze.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Ze.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ze.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function dx({delay:n,isRunning:e,closeToast:t,type:r="default",hide:s,className:a,controlledProgress:u,progress:d,rtl:f,isIn:p,theme:_}){let w=s||u&&d===0,A={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(A.transform=`scaleX(${d})`);let I=xs("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),P=Yr(a)?a({rtl:f,type:r,defaultClassName:I}):xs(I,a),D={[u&&d>=1?"onTransitionEnd":"onAnimationEnd"]:u&&d<1?null:()=>{p&&t()}};return Ze.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},Ze.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${r}`}),Ze.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:P,style:A,...D}))}var fx=1,OA=()=>`${fx++}`;function px(n,e,t){let r=1,s=0,a=[],u=[],d=e,f=new Map,p=new Set,_=U=>(p.add(U),()=>p.delete(U)),w=()=>{u=Array.from(f.values()),p.forEach(U=>U())},A=({containerId:U,toastId:q,updateId:G})=>{let re=U?U!==n:n!==1,he=f.has(q)&&G==null;return re||he},I=(U,q)=>{f.forEach(G=>{var re;(q==null||q===G.props.toastId)&&((re=G.toggle)==null||re.call(G,U))})},P=U=>{var q,G;(G=(q=U.props)==null?void 0:q.onClose)==null||G.call(q,U.removalReason),U.isActive=!1},D=U=>{if(U==null)f.forEach(P);else{let q=f.get(U);q&&P(q)}w()},k=()=>{s-=a.length,a=[]},V=U=>{var q,G;let{toastId:re,updateId:he}=U.props,x=he==null;U.staleId&&f.delete(U.staleId),U.isActive=!0,f.set(re,U),w(),t(Tv(U,x?"added":"updated")),x&&((G=(q=U.props).onOpen)==null||G.call(q))};return{id:n,props:d,observe:_,toggle:I,removeToast:D,toasts:f,clearQueue:k,buildToast:(U,q)=>{if(A(q))return;let{toastId:G,updateId:re,data:he,staleId:x,delay:S}=q,R=re==null;R&&s++;let O={...d,style:d.toastStyle,key:r++,...Object.fromEntries(Object.entries(q).filter(([F,b])=>b!=null)),toastId:G,updateId:re,data:he,isIn:!1,className:Ep(q.className||d.toastClassName),progressClassName:Ep(q.progressClassName||d.progressClassName),autoClose:q.isLoading?!1:lx(q.autoClose,d.autoClose),closeToast(F){f.get(G).removalReason=F,D(G)},deleteToast(){let F=f.get(G);if(F!=null){if(t(Tv(F,"removed")),f.delete(G),s--,s<0&&(s=0),a.length>0){V(a.shift());return}w()}}};O.closeButton=d.closeButton,q.closeButton===!1||Ap(q.closeButton)?O.closeButton=q.closeButton:q.closeButton===!0&&(O.closeButton=Ap(d.closeButton)?d.closeButton:!0);let L={content:U,props:O,staleId:x};d.limit&&d.limit>0&&s>d.limit&&R?a.push(L):du(S)?setTimeout(()=>{V(L)},S):V(L)},setProps(U){d=U},setToggle:(U,q)=>{let G=f.get(U);G&&(G.toggle=q)},isToastActive:U=>{var q;return(q=f.get(U))==null?void 0:q.isActive},getSnapshot:()=>u}}var tn=new Map,Gl=[],Tp=new Set,mx=n=>Tp.forEach(e=>e(n)),NA=()=>tn.size>0;function gx(){Gl.forEach(n=>VA(n.content,n.options)),Gl=[]}var yx=(n,{containerId:e})=>{var t;return(t=tn.get(e||1))==null?void 0:t.toasts.get(n)};function LA(n,e){var t;if(e)return!!((t=tn.get(e))!=null&&t.isToastActive(n));let r=!1;return tn.forEach(s=>{s.isToastActive(n)&&(r=!0)}),r}function _x(n){if(!NA()){Gl=Gl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||ax(n))tn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=tn.get(n.containerId);e?e.removeToast(n.id):tn.forEach(t=>{t.removeToast(n.id)})}}var vx=(n={})=>{tn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function VA(n,e){Ap(n)&&(NA()||Gl.push({content:n,options:e}),tn.forEach(t=>{t.buildToast(n,e)}))}function wx(n){var e;(e=tn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function MA(n,e){tn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function Ex(n){let e=n.containerId||1;return{subscribe(t){let r=px(e,n,mx);tn.set(e,r);let s=r.observe(t);return gx(),()=>{s(),tn.delete(e)}},setProps(t){var r;(r=tn.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=tn.get(e))==null?void 0:t.getSnapshot()}}}function Ax(n){return Tp.add(n),()=>{Tp.delete(n)}}function Tx(n){return n&&(Ms(n.toastId)||du(n.toastId))?n.toastId:OA()}function fu(n,e){return VA(n,e),e.toastId}function Qh(n,e){return{...e,type:e&&e.type||n,toastId:Tx(e)}}function Jh(n){return(e,t)=>fu(e,Qh(n,t))}function ke(n,e){return fu(n,Qh("default",e))}ke.loading=(n,e)=>fu(n,Qh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Ix(n,{pending:e,error:t,success:r},s){let a;e&&(a=Ms(e)?ke.loading(e,s):ke.loading(e.render,{...s,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,_,w)=>{if(_==null){ke.dismiss(a);return}let A={type:p,...u,...s,data:w},I=Ms(_)?{render:_}:_;return a?ke.update(a,{...A,...I}):ke(I.render,{...A,...I}),w},f=Yr(n)?n():n;return f.then(p=>d("success",r,p)).catch(p=>d("error",t,p)),f}ke.promise=Ix;ke.success=Jh("success");ke.info=Jh("info");ke.error=Jh("error");ke.warning=Jh("warning");ke.warn=ke.warning;ke.dark=(n,e)=>fu(n,Qh("default",{theme:"dark",...e}));function Sx(n){_x(n)}ke.dismiss=Sx;ke.clearWaitingQueue=vx;ke.isActive=LA;ke.update=(n,e={})=>{let t=yx(n,e);if(t){let{props:r,content:s}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:OA()};a.toastId!==n&&(a.staleId=n);let u=a.render||s;delete a.render,fu(u,a)}};ke.done=n=>{ke.update(n,{progress:1})};ke.onChange=Ax;ke.play=n=>MA(!0,n);ke.pause=n=>MA(!1,n);function kx(n){var e;let{subscribe:t,getSnapshot:r,setProps:s}=z.useRef(Ex(n)).current;s(n);let a=(e=z.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function u(d){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(p=>{let{position:_}=p.props;f.has(_)||f.set(_,[]),f.get(_).push(p)}),Array.from(f,p=>d(p[0],p[1]))}return{getToastToRender:u,isToastActive:LA,count:a==null?void 0:a.length}}function Rx(n){let[e,t]=z.useState(!1),[r,s]=z.useState(!1),a=z.useRef(null),u=z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:p,onClick:_,closeOnClick:w}=n;wx({id:n.toastId,containerId:n.containerId,fn:t}),z.useEffect(()=>{if(n.pauseOnFocusLoss)return A(),()=>{I()}},[n.pauseOnFocusLoss]);function A(){document.hasFocus()||V(),window.addEventListener("focus",k),window.addEventListener("blur",V)}function I(){window.removeEventListener("focus",k),window.removeEventListener("blur",V)}function P(x){if(n.draggable===!0||n.draggable===x.pointerType){U();let S=a.current;u.canCloseOnClick=!0,u.canDrag=!0,S.style.transition="none",n.draggableDirection==="x"?(u.start=x.clientX,u.removalDistance=S.offsetWidth*(n.draggablePercent/100)):(u.start=x.clientY,u.removalDistance=S.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function D(x){let{top:S,bottom:R,left:O,right:L}=a.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&n.pauseOnHover&&x.clientX>=O&&x.clientX<=L&&x.clientY>=S&&x.clientY<=R?V():k()}function k(){t(!0)}function V(){t(!1)}function U(){u.didMove=!1,document.addEventListener("pointermove",G),document.addEventListener("pointerup",re)}function q(){document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",re)}function G(x){let S=a.current;if(u.canDrag&&S){u.didMove=!0,e&&V(),n.draggableDirection==="x"?u.delta=x.clientX-u.start:u.delta=x.clientY-u.start,u.start!==x.clientX&&(u.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;S.style.transform=`translate3d(${R},0)`,S.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function re(){q();let x=a.current;if(u.canDrag&&u.didMove&&x){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}let he={onPointerDown:P,onPointerUp:D};return d&&f&&(he.onMouseEnter=V,n.stacked||(he.onMouseLeave=k)),w&&(he.onClick=x=>{_&&_(x),u.canCloseOnClick&&p(!0)}),{playToast:k,pauseToast:V,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:he}}var Cx=typeof window<"u"?z.useLayoutEffect:z.useEffect,Xh=({theme:n,type:e,isLoading:t,...r})=>Ze.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function Px(n){return Ze.createElement(Xh,{...n},Ze.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function bx(n){return Ze.createElement(Xh,{...n},Ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function xx(n){return Ze.createElement(Xh,{...n},Ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Dx(n){return Ze.createElement(Xh,{...n},Ze.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Ox(){return Ze.createElement("div",{className:"Toastify__spinner"})}var Ip={info:bx,warning:Px,success:xx,error:Dx,spinner:Ox},Nx=n=>n in Ip;function Lx({theme:n,type:e,isLoading:t,icon:r}){let s=null,a={theme:n,type:e};return r===!1||(Yr(r)?s=r({...a,isLoading:t}):z.isValidElement(r)?s=z.cloneElement(r,a):t?s=Ip.spinner():Nx(e)&&(s=Ip[e](a))),s}var Vx=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:s,playToast:a}=Rx(n),{closeButton:u,children:d,autoClose:f,onClick:p,type:_,hideProgressBar:w,closeToast:A,transition:I,position:P,className:D,style:k,progressClassName:V,updateId:U,role:q,progress:G,rtl:re,toastId:he,deleteToast:x,isIn:S,isLoading:R,closeOnClick:O,theme:L,ariaLabel:F}=n,b=xs("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":re},{"Toastify__toast--close-on-click":O}),nt=Yr(D)?D({rtl:re,position:P,type:_,defaultClassName:b}):xs(b,D),mt=Lx(n),gt=!!G||!f,Fe={closeToast:A,type:_,theme:L},ie=null;return u===!1||(Yr(u)?ie=u(Fe):z.isValidElement(u)?ie=z.cloneElement(u,Fe):ie=hx(Fe)),Ze.createElement(I,{isIn:S,done:x,position:P,preventExitTransition:t,nodeRef:r,playToast:a},Ze.createElement("div",{id:he,tabIndex:0,onClick:p,"data-in":S,className:nt,...s,style:k,ref:r,...S&&{role:q,"aria-label":F}},mt!=null&&Ze.createElement("div",{className:xs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},mt),DA(d,n,!e),ie,!n.customProgressBar&&Ze.createElement(dx,{...U&&!gt?{key:`p-${U}`}:{},rtl:re,theme:L,delay:f,isRunning:e,isIn:S,closeToast:A,hide:w,type:_,className:V,controlledProgress:gt,progress:G||0})))},Mx=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),Ux=cx(Mx("bounce",!0)),Fx={position:"top-right",transition:Ux,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function jx(n){let e={...Fx,...n},t=n.stacked,[r,s]=z.useState(!0),a=z.useRef(null),{getToastToRender:u,isToastActive:d,count:f}=kx(e),{className:p,style:_,rtl:w,containerId:A,hotKeys:I}=e;function P(k){let V=xs("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":w});return Yr(p)?p({position:k,rtl:w,defaultClassName:V}):xs(V,Ep(p))}function D(){t&&(s(!0),ke.play())}return Cx(()=>{var k;if(t){let V=a.current.querySelectorAll('[data-in="true"]'),U=12,q=(k=e.position)==null?void 0:k.includes("top"),G=0,re=0;Array.from(V).reverse().forEach((he,x)=>{let S=he;S.classList.add("Toastify__toast--stacked"),x>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=q?"top":"bot");let R=G*(r?.2:1)+(r?0:U*x);S.style.setProperty("--y",`${q?R:R*-1}px`),S.style.setProperty("--g",`${U}`),S.style.setProperty("--s",`${1-(r?re:0)}`),G+=S.offsetHeight,re+=.025})}},[r,f,t]),z.useEffect(()=>{function k(V){var U;let q=a.current;I(V)&&((U=q.querySelector('[tabIndex="0"]'))==null||U.focus(),s(!1),ke.pause()),V.key==="Escape"&&(document.activeElement===q||q!=null&&q.contains(document.activeElement))&&(s(!0),ke.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[I]),Ze.createElement("section",{ref:a,className:"Toastify",id:A,onMouseEnter:()=>{t&&(s(!1),ke.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((k,V)=>{let U=V.length?{..._}:{..._,pointerEvents:"none"};return Ze.createElement("div",{tabIndex:-1,className:P(k),"data-stacked":t,style:U,key:`c-${k}`},V.map(({content:q,props:G})=>Ze.createElement(Vx,{...G,stacked:t,collapseAll:D,isIn:d(G.toastId,G.containerId),key:`t-${G.key}`},q)))}))}const Bx={apiKey:"AIzaSyBkvloorRHfZrGhA00RCUpifsAdqltJOS0",authDomain:"chiefgram-mac.firebaseapp.com",projectId:"chiefgram-mac",storageBucket:"chiefgram-mac.firebasestorage.app",messagingSenderId:"500952907319",appId:"1:500952907319:web:9c7841df3c9a67e3bb49b2"},UA=vw(Bx),zs=XC(UA),At=$b(UA),zx=async(n,e,t)=>{try{const s=(await VR(zs,e,t)).user;console.log("User created:",s),await wp(Ot(At,"users",s.uid),{id:s.uid,username:n?n.toLowerCase():"",email:e,name:"",avatar:"",bio:"Hey there! I am using Chiefgram",lastSeen:Date.now()}),await wp(Ot(At,"chats",s.uid),{chatsData:[]})}catch(r){console.error(r),ke.error(r.code.split("/")[1].split("-").join(" "))}},$x=async(n,e)=>{try{await MR(zs,n,e)}catch(t){console.error(t),ke.error(t.code.split("/")[1].split("-").join(" "))}},Sp=async()=>{try{await jR(zs)}catch(n){console.error(n),ke.error(n.code.split("/")[1].split("-").join(" "))}},qx=async n=>{if(!n)return ke.error("Enter your email address"),null;try{const e=th(At,"users"),t=AA(e,TA("email","==",n));(await RA(t)).empty?ke.error("Email address not found"):(await LR(zs,n),ke.success("Reset Email Sent"))}catch(e){console.error(e),ke.error(e.message)}},Hx=()=>{const[n,e]=z.useState("Sign Up"),[t,r]=z.useState(""),[s,a]=z.useState(""),[u,d]=z.useState(""),f=()=>{event.preventDefault(),n==="Sign Up"?zx(t,s,u):$x(s,u)};return Y.jsxs("div",{className:"login",children:[Y.jsx("img",{src:An.chief_logo,alt:"",className:"logo"}),Y.jsxs("form",{onSubmit:f,className:"login-form",children:[Y.jsx("h2",{children:n}),n==="Sign Up"?Y.jsx("input",{onChange:p=>r(p.target.value),value:t,type:"text",placeholder:"Username",className:"form-input required"}):null,Y.jsx("input",{type:"email",onChange:p=>a(p.target.value),value:s,placeholder:"Email address",className:"form-input",required:!0}),Y.jsx("input",{type:"password",onChange:p=>d(p.target.value),value:u,placeholder:"Password",className:"form-input",required:!0}),Y.jsx("button",{type:"submit",children:n==="Sign Up"?"Create account":"Login now "}),Y.jsxs("div",{className:"login-term",children:[Y.jsx("input",{type:"checkbox",className:"checkbox"}),Y.jsx("p",{children:"Agree to the terms of use and privacy policy."})]}),Y.jsxs("div",{className:"login-forgot",children:[n==="Sign Up"?Y.jsxs("p",{className:"login-toggle",children:["Already have an account ",Y.jsx("span",{onClick:()=>e("Login"),children:"Login"})," "]}):Y.jsxs("p",{className:"login-toggle",children:["Create an account ",Y.jsx("span",{onClick:()=>e("Sign Up"),children:"Click here"})," "]}),n==="Login"?Y.jsxs("p",{className:"login-toggle",children:["Forgot Password ? ",Y.jsx("span",{onClick:()=>qx(s),children:"Reset here"})," "]}):null]})]})]})},$s=z.createContext(),Wx=n=>{const e=Yl(),[t,r]=z.useState(null),[s,a]=z.useState(null),[u,d]=z.useState(null),[f,p]=z.useState([]),[_,w]=z.useState(null),[A,I]=z.useState(!1),P=async k=>{try{const V=Ot(At,"users",k),q=(await Kr(V)).data();r(q),q.avatar&&q.name?e("/chat"):e("/profile"),await Xn(V,{lasSeen:Date.now()}),setInterval(async()=>{zs.chatUser&&await Xn(V,{lasSeen:Date.now()})},6e4)}catch{}};z.useEffect(()=>{if(t){const k=Ot(At,"chats",t.id),V=CA(k,async U=>{const q=U.data().chatsData,G=[];for(const re of q){const he=Ot(At,"users",re.rId),S=(await Kr(he)).data();G.push({...re,userData:S})}a(G.sort((re,he)=>he.updatedAT-re.updatedAT))});return()=>{V()}}},[t]);const D={userData:t,setUserData:r,chatData:s,setChatData:a,loadUserData:P,messages:f,setMessages:p,messagesId:u,setMessagesId:d,chatUser:_,setChatUser:w,chatVisible:A,setChatVisible:I};return Y.jsx($s.Provider,{value:D,children:n.children})},Kx=()=>{const n=Yl(),{userData:e,chatData:t,chatUser:r,setChatUser:s,setMessagesId:a,messagesId:u,chatVisible:d,setChatVisible:f}=z.useContext($s),[p,_]=z.useState(null),[w,A]=z.useState(!1),I=async k=>{try{const V=k.target.value;if(V){A(!0);const U=th(At,"users"),q=AA(U,TA("username","==",V.toLowerCase())),G=await RA(q);if(!G.empty&&G.docs[0].data().id!==e.id){let re=!1;t.map(he=>{he.rId===G.docs[0].data().id&&(re=!0)}),re||_(G.docs[0].data())}else _(null)}else A(!1)}catch{}},P=async()=>{const k=th(At,"messages"),V=th(At,"chats");try{const U=Ot(k);await wp(U,{createAt:sx(),messages:[]}),await Xn(Ot(V,p.id),{chatsData:Ah({messageId:U.id,lastMessage:"",rId:e.id,updatedAt:Date.now(),messageSeen:!0})}),await Xn(Ot(V,e.id),{chatsData:Ah({messageId:U.id,lastMessage:"",rId:p.id,updatedAt:Date.now(),messageSeen:!0})});const G=(await Kr(Ot(At,"users",p.id))).data();s({messagesId:U.id,lastMessage:"",rId:p.id,updateAt:Date.now(),messageSeen:!0,userData:G}),A(!1),f(!0)}catch(U){ke(U.message),console.error(U)}},D=async k=>{try{a(k.messageId),s(k);const V=Ot(At,"chats",e.id),q=(await Kr(V)).data(),G=q.chatsData.findIndex(re=>re.messageId===k.messageId);q.chatsData[G].messageSeen=!0,await Xn(V,{chatsData:q.chatsData}),f(!0)}catch(V){ke.error(V.message),console.error(V)}};return z.useEffect(()=>{(async()=>{if(r){const V=Ot(At,"users",r.userData.id),q=(await Kr(V)).data();s(G=>({...G,userData:q}))}})()},[t]),Y.jsxs("div",{className:`ls ${d?"hidden ":""}`,children:[Y.jsxs("div",{className:"ls-top",children:[Y.jsxs("div",{className:"ls-nav",children:[Y.jsx("img",{src:An.chief_logo3,className:"logo"}),Y.jsxs("div",{className:"menu",children:[Y.jsx("img",{src:An.more_2_line,alt:""}),Y.jsxs("div",{className:"sub-menu",children:[Y.jsx("p",{onClick:()=>n("/profile"),children:"Edit Profile"}),Y.jsx("hr",{}),Y.jsx("p",{onClick:()=>Sp(),children:"Logout"})]})]})]}),Y.jsxs("div",{className:"ls-search",children:[Y.jsx("img",{src:An.search_line,alt:""}),Y.jsx("input",{onChange:I,type:"text",placeholder:"Search here..."})]})]}),Y.jsx("div",{className:"ls-list",children:w&&p?Y.jsxs("div",{onClick:P,className:"friends add-user",children:[Y.jsx("img",{src:p.avatar,alt:""}),Y.jsx("p",{children:p.name})]}):t.map((k,V)=>Y.jsxs("div",{onClick:()=>D(k),className:`friends ${k.messageSeen||k.messageId===u?"":"border"}`,children:[Y.jsx("img",{src:k.userData.avatar,alt:""}),Y.jsxs("div",{children:[Y.jsx("p",{children:k.userData.name}),Y.jsx("span",{children:k.lastMessage})]})]},V))})]})},Gx="modulepreload",Qx=function(n){return"/chiefgram/"+n},Iv={},aa=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(t.map(f=>{if(f=Qx(f),f in Iv)return;Iv[f]=!0;const p=f.endsWith(".css"),_=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${_}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":Gx,p||(w.as="script"),w.crossOrigin="",w.href=f,d&&w.setAttribute("nonce",d),document.head.appendChild(w),p)return new Promise((A,I)=>{w.addEventListener("load",A),w.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},Jx=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>aa(async()=>{const{default:r}=await Promise.resolve().then(()=>_a);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Om extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Xx extends Om{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yx extends Om{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zx extends Om{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kp;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(kp||(kp={}));var eD=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function d(_){try{p(r.next(_))}catch(w){u(w)}}function f(_){try{p(r.throw(_))}catch(w){u(w)}}function p(_){_.done?a(_.value):s(_.value).then(d,f)}p((r=r.apply(n,e||[])).next())})};class tD{constructor(e,{headers:t={},customFetch:r,region:s=kp.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=Jx(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return eD(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:u}=t;let d={},{region:f}=t;f||(f=this.region),f&&f!=="any"&&(d["x-region"]=f);let p;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(d["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(d["Content-Type"]="application/json",p=JSON.stringify(u)));const _=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:p}).catch(P=>{throw new Xx(P)}),w=_.headers.get("x-relay-error");if(w&&w==="true")throw new Yx(_);if(!_.ok)throw new Zx(_);let A=((r=_.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),I;return A==="application/json"?I=yield _.json():A==="application/octet-stream"?I=yield _.blob():A==="text/event-stream"?I=_:A==="multipart/form-data"?I=yield _.formData():I=yield _.text(),{data:I,error:null}}catch(s){return{data:null,error:s}}})}}var Ut={},gl={},yl={},_l={},vl={},wl={},nD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},la=nD();const rD=la.fetch,FA=la.fetch.bind(la),jA=la.Headers,iD=la.Request,sD=la.Response,_a=Object.freeze(Object.defineProperty({__proto__:null,Headers:jA,Request:iD,Response:sD,default:FA,fetch:rD},Symbol.toStringTag,{value:"Module"})),oD=o0(_a);var Uc={},Sv;function BA(){if(Sv)return Uc;Sv=1,Object.defineProperty(Uc,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Uc.default=n,Uc}var kv;function zA(){if(kv)return wl;kv=1;var n=wl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(wl,"__esModule",{value:!0});const e=n(oD),t=n(BA());class r{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,u){return this.headers=Object.assign({},this.headers),this.headers[a]=u,this}then(a,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var _,w,A;let I=null,P=null,D=null,k=p.status,V=p.statusText;if(p.ok){if(this.method!=="HEAD"){const re=await p.text();re===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?P=re:P=JSON.parse(re))}const q=(_=this.headers.Prefer)===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),G=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");q&&G&&G.length>1&&(D=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(I={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,D=null,k=406,V="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const q=await p.text();try{I=JSON.parse(q),Array.isArray(I)&&p.status===404&&(P=[],I=null,k=200,V="OK")}catch{p.status===404&&q===""?(k=204,V="No Content"):I={message:q}}if(I&&this.isMaybeSingle&&(!((A=I==null?void 0:I.details)===null||A===void 0)&&A.includes("0 rows"))&&(I=null,k=200,V="OK"),I&&this.shouldThrowOnError)throw new t.default(I)}return{error:I,data:P,count:D,status:k,statusText:V}});return this.shouldThrowOnError||(f=f.catch(p=>{var _,w,A;return{error:{message:`${(_=p==null?void 0:p.name)!==null&&_!==void 0?_:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(w=p==null?void 0:p.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(A=p==null?void 0:p.code)!==null&&A!==void 0?A:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,u)}}return wl.default=r,wl}var Rv;function $A(){if(Rv)return vl;Rv=1;var n=vl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vl,"__esModule",{value:!0});const e=n(zA());class t extends e.default{select(s){let a=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.order`:"order",_=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${_?`${_},`:""}${s}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,a,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(p,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:p="text"}={}){var _;const w=[s?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),A=(_=this.headers.Accept)!==null&&_!==void 0?_:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${A}"; options=${w};`,p==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return vl.default=t,vl}var Cv;function Nm(){if(Cv)return _l;Cv=1;var n=_l.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_l,"__esModule",{value:!0});const e=n($A());class t extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const u=Array.from(new Set(a)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${f}fts${p}.${a}`),this}match(s){return Object.entries(s).forEach(([a,u])=>{this.url.searchParams.append(a,`eq.${u}`)}),this}not(s,a,u){return this.url.searchParams.append(s,`not.${a}.${u}`),this}or(s,{foreignTable:a,referencedTable:u=a}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,a,u){return this.url.searchParams.append(s,`${a}.${u}`),this}}return _l.default=t,_l}var Pv;function qA(){if(Pv)return yl;Pv=1;var n=yl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yl,"__esModule",{value:!0});const e=n(Nm());class t{constructor(s,{headers:a={},schema:u,fetch:d}){this.url=s,this.headers=a,this.schema=u,this.fetch=d}select(s,{head:a=!1,count:u}={}){const d=a?"HEAD":"GET";let f=!1;const p=(s??"*").split("").map(_=>/\s/.test(_)&&!f?"":(_==='"'&&(f=!f),_)).join("");return this.url.searchParams.set("select",p),u&&(this.headers.Prefer=`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:a,defaultToNull:u=!0}={}){const d="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(s)){const p=s.reduce((_,w)=>_.concat(Object.keys(w)),[]);if(p.length>0){const _=[...new Set(p)].map(w=>`"${w}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){const p="POST",_=[`resolution=${u?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&_.push(this.headers.Prefer),d&&_.push(`count=${d}`),f||_.push("missing=default"),this.headers.Prefer=_.join(","),Array.isArray(s)){const w=s.reduce((A,I)=>A.concat(Object.keys(I)),[]);if(w.length>0){const A=[...new Set(w)].map(I=>`"${I}"`);this.url.searchParams.set("columns",A.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:a}={}){const u="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),this.headers.Prefer=d.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const a="DELETE",u=[];return s&&u.push(`count=${s}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return yl.default=t,yl}var El={},Al={},bv;function aD(){return bv||(bv=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.version=void 0,Al.version="0.0.0-automated"),Al}var xv;function lD(){if(xv)return El;xv=1,Object.defineProperty(El,"__esModule",{value:!0}),El.DEFAULT_HEADERS=void 0;const n=aD();return El.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},El}var Dv;function uD(){if(Dv)return gl;Dv=1;var n=gl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(gl,"__esModule",{value:!0});const e=n(qA()),t=n(Nm()),r=lD();class s{constructor(u,{headers:d={},schema:f,fetch:p}={}){this.url=u,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),d),this.schemaName=f,this.fetch=p}from(u){const d=new URL(`${this.url}/${u}`);return new e.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new s(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:f=!1,get:p=!1,count:_}={}){let w;const A=new URL(`${this.url}/rpc/${u}`);let I;f||p?(w=f?"HEAD":"GET",Object.entries(d).filter(([D,k])=>k!==void 0).map(([D,k])=>[D,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([D,k])=>{A.searchParams.append(D,k)})):(w="POST",I=d);const P=Object.assign({},this.headers);return _&&(P.Prefer=`count=${_}`),new t.default({method:w,url:A,headers:P,schema:this.schemaName,body:I,fetch:this.fetch,allowEmpty:!1})}}return gl.default=s,gl}var Ov;function cD(){if(Ov)return Ut;Ov=1;var n=Ut.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.PostgrestError=Ut.PostgrestBuilder=Ut.PostgrestTransformBuilder=Ut.PostgrestFilterBuilder=Ut.PostgrestQueryBuilder=Ut.PostgrestClient=void 0;const e=n(uD());Ut.PostgrestClient=e.default;const t=n(qA());Ut.PostgrestQueryBuilder=t.default;const r=n(Nm());Ut.PostgrestFilterBuilder=r.default;const s=n($A());Ut.PostgrestTransformBuilder=s.default;const a=n(zA());Ut.PostgrestBuilder=a.default;const u=n(BA());return Ut.PostgrestError=u.default,Ut.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:u.default},Ut}var hD=cD();const dD=Op(hD),{PostgrestClient:fD,PostgrestQueryBuilder:eN,PostgrestFilterBuilder:tN,PostgrestTransformBuilder:nN,PostgrestBuilder:rN,PostgrestError:iN}=dD,pD="2.11.2",mD={"X-Client-Info":`realtime-js/${pD}`},gD="1.0.0",HA=1e4,yD=1e3;var Xo;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Xo||(Xo={}));var En;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(En||(En={}));var Jn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Jn||(Jn={}));var Rp;(function(n){n.websocket="websocket"})(Rp||(Rp={}));var Ps;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ps||(Ps={}));class _D{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),a=t.getUint8(2);let u=this.HEADER_LENGTH+2;const d=r.decode(e.slice(u,u+s));u=u+s;const f=r.decode(e.slice(u,u+a));u=u+a;const p=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:f,payload:p}}}class WA{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Qe||(Qe={}));const Nv=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,u)=>(a[u]=vD(u,n,e,s),a),{})},vD=(n,e,t,r)=>{const s=e.find(d=>d.name===n),a=s==null?void 0:s.type,u=t[n];return a&&!r.includes(a)?KA(a,u):Cp(u)},KA=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return TD(e,t)}switch(n){case Qe.bool:return wD(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return ED(e);case Qe.json:case Qe.jsonb:return AD(e);case Qe.timestamp:return ID(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Cp(e);default:return Cp(e)}},Cp=n=>n,wD=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},ED=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},AD=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},TD=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const u=n.slice(1,t);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>KA(e,d))}return n},ID=n=>typeof n=="string"?n.replace(" ","T"):n,GA=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class qf{constructor(e,t,r={},s=HA){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Lv||(Lv={}));class Vl{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vl.syncState(this.state,s,a,u),this.pendingDiffs.forEach(f=>{this.state=Vl.syncDiff(this.state,f,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Vl.syncDiff(this.state,s,a,u),d())}),this.onJoin((s,a,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:u})}),this.onLeave((s,a,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const a=this.cloneDeep(e),u=this.transformState(t),d={},f={};return this.map(a,(p,_)=>{u[p]||(f[p]=_)}),this.map(u,(p,_)=>{const w=a[p];if(w){const A=_.map(k=>k.presence_ref),I=w.map(k=>k.presence_ref),P=_.filter(k=>I.indexOf(k.presence_ref)<0),D=w.filter(k=>A.indexOf(k.presence_ref)<0);P.length>0&&(d[p]=P),D.length>0&&(f[p]=D)}else d[p]=_}),this.syncDiff(a,{joins:d,leaves:f},r,s)}static syncDiff(e,t,r,s){const{joins:a,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(d,f)=>{var p;const _=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(f),_.length>0){const w=e[d].map(I=>I.presence_ref),A=_.filter(I=>w.indexOf(I.presence_ref)<0);e[d].unshift(...A)}r(d,_,f)}),this.map(u,(d,f)=>{let p=e[d];if(!p)return;const _=f.map(w=>w.presence_ref);p=p.filter(w=>_.indexOf(w.presence_ref)<0),e[d]=p,s(d,p,f),p.length===0&&delete e[d]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Vv||(Vv={}));var Mv;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Mv||(Mv={}));var jr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(jr||(jr={}));class Lm{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=En.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new qf(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new WA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=En.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=En.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Vl(this),this.broadcastEndpointURL=GA(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:u,private:d}}=this.params;this._onError(_=>e==null?void 0:e(jr.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(jr.CLOSED));const f={},p={broadcast:a,presence:u,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&s!==void 0?s:[],private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket.setAuth(),_===void 0){e==null||e(jr.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,I=(w=A==null?void 0:A.length)!==null&&w!==void 0?w:0,P=[];for(let D=0;D<I;D++){const k=A[D],{filter:{event:V,schema:U,table:q,filter:G}}=k,re=_&&_[D];if(re&&re.event===V&&re.schema===U&&re.table===q&&re.filter===G)P.push(Object.assign(Object.assign({},k),{id:re.id}));else{this.unsubscribe(),e==null||e(jr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(jr.SUBSCRIBED);return}}).receive("error",_=>{e==null||e(jr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(jr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,f;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=En.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new qf(this,Jn.leave,{},e);s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(a),u}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new qf(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,a;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:p,join:_}=Jn;if(r&&[d,f,p,_].indexOf(u)>=0&&r!==this._joinRef())return;let A=this._onMessage(u,t,r);if(t&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(I=>{var P,D,k;return((P=I.filter)===null||P===void 0?void 0:P.event)==="*"||((k=(D=I.filter)===null||D===void 0?void 0:D.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(I=>I.callback(A,r)):(a=this.bindings[u])===null||a===void 0||a.filter(I=>{var P,D,k,V,U,q;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in I){const G=I.id,re=(P=I.filter)===null||P===void 0?void 0:P.event;return G&&((D=t.ids)===null||D===void 0?void 0:D.includes(G))&&(re==="*"||(re==null?void 0:re.toLocaleLowerCase())===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const G=(U=(V=I==null?void 0:I.filter)===null||V===void 0?void 0:V.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return G==="*"||G===((q=t==null?void 0:t.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return I.type.toLocaleLowerCase()===u}).map(I=>{if(typeof A=="object"&&"ids"in A){const P=A.data,{schema:D,table:k,commit_timestamp:V,type:U,errors:q}=P;A=Object.assign(Object.assign({},{schema:D,table:k,commit_timestamp:V,eventType:U,new:{},old:{},errors:q}),this._getPayloadRecords(P))}I.callback(A,r)})}_isClosed(){return this.state===En.closed}_isJoined(){return this.state===En.joined}_isJoining(){return this.state===En.joining}_isLeaving(){return this.state===En.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),a={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Lm.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jn.close,{},e)}_onError(e){this._on(Jn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=En.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Nv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Nv(e.columns,e.old_record)),t}}const SD=()=>{},kD=typeof WebSocket<"u",RD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CD{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=mD,this.params={},this.timeout=HA,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=SD,this.conn=null,this.sendBuffer=[],this.serializer=new _D,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let u;return a?u=a:typeof fetch>"u"?u=(...d)=>aa(async()=>{const{default:f}=await Promise.resolve().then(()=>_a);return{default:f}},void 0).then(({default:f})=>f(...d)):u=fetch,(...d)=>u(...d)},this.endPoint=`${e}/${Rp.websocket}`,this.httpEndpoint=GA(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(a,u)=>u(JSON.stringify(a)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new WA(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(kD){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new PD(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),aa(async()=>{const{default:e}=await import("./browser-BcbPY4Pa.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gD}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xo.connecting:return Ps.Connecting;case Xo.open:return Ps.Open;case Xo.closing:return Ps.Closing;default:return Ps.Closed}}isConnected(){return this.connectionState()===Ps.Open}channel(e,t={config:{}}){const r=new Lm(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:s,ref:a}=e,u=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${t} ${r} (${a})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(Jn.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(yD,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:a,ref:u}=t;u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${u&&"("+u+")"||""}`,a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(s,a,u)),this.stateChangeCallbacks.message.forEach(d=>d(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([RD],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class PD{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Xo.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Vm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class bD extends Vm{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pp extends Vm{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var xD=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function d(_){try{p(r.next(_))}catch(w){u(w)}}function f(_){try{p(r.throw(_))}catch(w){u(w)}}function p(_){_.done?a(_.value):s(_.value).then(d,f)}p((r=r.apply(n,e||[])).next())})};const QA=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>aa(async()=>{const{default:r}=await Promise.resolve().then(()=>_a);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},DD=()=>xD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield aa(()=>Promise.resolve().then(()=>_a),void 0)).Response:Response}),bp=n=>{if(Array.isArray(n))return n.map(t=>bp(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const s=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=bp(r)}),e};var qs=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function d(_){try{p(r.next(_))}catch(w){u(w)}}function f(_){try{p(r.throw(_))}catch(w){u(w)}}function p(_){_.done?a(_.value):s(_.value).then(d,f)}p((r=r.apply(n,e||[])).next())})};const Hf=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),OD=(n,e,t)=>qs(void 0,void 0,void 0,function*(){const r=yield DD();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{e(new bD(Hf(s),n.status||500))}).catch(s=>{e(new Pp(Hf(s),s))}):e(new Pp(Hf(n),n))}),ND=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),t))};function pu(n,e,t,r,s,a){return qs(this,void 0,void 0,function*(){return new Promise((u,d)=>{n(t,ND(e,r,s,a)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>OD(f,d,r))})})}function Th(n,e,t,r){return qs(this,void 0,void 0,function*(){return pu(n,"GET",e,t,r)})}function xi(n,e,t,r,s){return qs(this,void 0,void 0,function*(){return pu(n,"POST",e,r,s,t)})}function LD(n,e,t,r,s){return qs(this,void 0,void 0,function*(){return pu(n,"PUT",e,r,s,t)})}function VD(n,e,t,r){return qs(this,void 0,void 0,function*(){return pu(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function JA(n,e,t,r,s){return qs(this,void 0,void 0,function*(){return pu(n,"DELETE",e,r,s,t)})}var hn=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function d(_){try{p(r.next(_))}catch(w){u(w)}}function f(_){try{p(r.throw(_))}catch(w){u(w)}}function p(_){_.done?a(_.value):s(_.value).then(d,f)}p((r=r.apply(n,e||[])).next())})};const MD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UD{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=QA(s)}uploadOrUpdate(e,t,r,s){return hn(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Uv),s);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),s!=null&&s.headers&&(d=Object.assign(Object.assign({},d),s.headers));const p=this._removeEmptyFolders(t),_=this._getFinalPath(p),w=yield this.fetch(`${this.url}/object/${_}`,Object.assign({method:e,body:a,headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{})),A=yield w.json();return w.ok?{data:{path:p,id:A.Id,fullPath:A.Key},error:null}:{data:null,error:A}}catch(a){if(xt(a))return{data:null,error:a};throw a}})}upload(e,t,r){return hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return hn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",t);try{let f;const p=Object.assign({upsert:Uv.upsert},s),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",p.cacheControl)):(f=r,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType);const w=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:_}),A=yield w.json();return w.ok?{data:{path:a,fullPath:A.Key},error:null}:{data:null,error:A}}catch(f){if(xt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,t){return hn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=yield xi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new Vm("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}update(e,t,r){return hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return hn(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}copy(e,t,r){return hn(this,void 0,void 0,function*(){try{return{data:{path:(yield xi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return hn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield xi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return hn(this,void 0,void 0,function*(){try{const s=yield xi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}download(e,t){return hn(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),u=a?`?${a}`:"";try{const d=this._getFinalPath(e);return{data:yield(yield Th(this.fetch,`${this.url}/${s}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(xt(d))return{data:null,error:d};throw d}})}info(e){return hn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Th(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:bp(r),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}exists(e){return hn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield VD(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(xt(r)&&r instanceof Pp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const d=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});f!==""&&s.push(f);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${p}`)}}}remove(e){return hn(this,void 0,void 0,function*(){try{return{data:yield JA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}list(e,t,r){return hn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},MD),t),{prefix:e||""});return{data:yield xi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const FD="2.7.1",jD={"X-Client-Info":`storage-js/${FD}`};var Fo=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function d(_){try{p(r.next(_))}catch(w){u(w)}}function f(_){try{p(r.throw(_))}catch(w){u(w)}}function p(_){_.done?a(_.value):s(_.value).then(d,f)}p((r=r.apply(n,e||[])).next())})};class BD{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},jD),t),this.fetch=QA(r)}listBuckets(){return Fo(this,void 0,void 0,function*(){try{return{data:yield Th(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(xt(e))return{data:null,error:e};throw e}})}getBucket(e){return Fo(this,void 0,void 0,function*(){try{return{data:yield Th(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Fo(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Fo(this,void 0,void 0,function*(){try{return{data:yield LD(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Fo(this,void 0,void 0,function*(){try{return{data:yield xi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Fo(this,void 0,void 0,function*(){try{return{data:yield JA(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}}class zD extends BD{constructor(e,t={},r){super(e,t,r)}from(e){return new UD(this.url,this.headers,e,this.fetch)}}const $D="2.48.0";let bl="";typeof Deno<"u"?bl="deno":typeof document<"u"?bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bl="react-native":bl="node";const qD={"X-Client-Info":`supabase-js-${bl}/${$D}`},HD={headers:qD},WD={schema:"public"},KD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},GD={};var QD=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function d(_){try{p(r.next(_))}catch(w){u(w)}}function f(_){try{p(r.throw(_))}catch(w){u(w)}}function p(_){_.done?a(_.value):s(_.value).then(d,f)}p((r=r.apply(n,e||[])).next())})};const JD=n=>{let e;return n?e=n:typeof fetch>"u"?e=FA:e=fetch,(...t)=>e(...t)},XD=()=>typeof Headers>"u"?jA:Headers,YD=(n,e,t)=>{const r=JD(t),s=XD();return(a,u)=>QD(void 0,void 0,void 0,function*(){var d;const f=(d=yield e())!==null&&d!==void 0?d:n;let p=new s(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),r(a,Object.assign(Object.assign({},u),{headers:p}))})};var ZD=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function d(_){try{p(r.next(_))}catch(w){u(w)}}function f(_){try{p(r.throw(_))}catch(w){u(w)}}function p(_){_.done?a(_.value):s(_.value).then(d,f)}p((r=r.apply(n,e||[])).next())})};function eO(n){return n.replace(/\/$/,"")}function tO(n,e){const{db:t,auth:r,realtime:s,global:a}=n,{db:u,auth:d,realtime:f,global:p}=e,_={db:Object.assign(Object.assign({},u),t),auth:Object.assign(Object.assign({},d),r),realtime:Object.assign(Object.assign({},f),s),global:Object.assign(Object.assign({},p),a),accessToken:()=>ZD(this,void 0,void 0,function*(){return""})};return n.accessToken?_.accessToken=n.accessToken:delete _.accessToken,_}const XA="2.67.3",nO="http://localhost:9999",rO="supabase.auth.token",iO={"X-Client-Info":`gotrue-js/${XA}`},Fv=10,xp="X-Supabase-Api-Version",YA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function sO(n){return Math.round(Date.now()/1e3)+n}function oO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const hr=()=>typeof window<"u"&&typeof document<"u",ks={tested:!1,writable:!1},Ml=()=>{if(!hr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ks.tested)return ks.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ks.tested=!0,ks.writable=!0}catch{ks.tested=!0,ks.writable=!1}return ks.writable};function aO(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const ZA=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>aa(async()=>{const{default:r}=await Promise.resolve().then(()=>_a);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},lO=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",eT=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Fc=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},jc=async(n,e)=>{await n.removeItem(e)};function uO(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,s,a,u,d,f,p,_=0;for(n=n.replace("-","+").replace("_","/");_<n.length;)u=e.indexOf(n.charAt(_++)),d=e.indexOf(n.charAt(_++)),f=e.indexOf(n.charAt(_++)),p=e.indexOf(n.charAt(_++)),r=u<<2|d>>4,s=(d&15)<<4|f>>2,a=(f&3)<<6|p,t=t+String.fromCharCode(r),f!=64&&s!=0&&(t=t+String.fromCharCode(s)),p!=64&&a!=0&&(t=t+String.fromCharCode(a));return t}class Yh{constructor(){this.promise=new Yh.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Yh.promiseConstructor=Promise;function jv(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(uO(r))}async function cO(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function hO(n,e){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await n(a);if(!e(a,null,u)){r(u);return}}catch(u){if(!e(a,u)){s(u);return}}})()})}function dO(n){return("0"+n.toString(16)).substr(-2)}function fO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let a=0;a<56;a++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,dO).join("")}async function pO(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}function mO(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gO(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await pO(n);return mO(t)}async function jo(n,e,t=!1){const r=fO();let s=r;t&&(s+="/PASSWORD_RECOVERY"),await eT(n,`${e}-code-verifier`,s);const a=await gO(r);return[a,r===a?"plain":"s256"]}const yO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _O(n){const e=n.headers.get(xp);if(!e||!e.match(yO))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Mm extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Se(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class vO extends Mm{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function wO(n){return Se(n)&&n.name==="AuthApiError"}class tT extends Mm{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Hs extends Mm{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class Pi extends Hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function EO(n){return Se(n)&&n.name==="AuthSessionMissingError"}class Wf extends Hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bc extends Hs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zc extends Hs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AO(n){return Se(n)&&n.name==="AuthImplicitGrantRedirectError"}class Bv extends Hs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dp extends Hs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Kf(n){return Se(n)&&n.name==="AuthRetryableFetchError"}class zv extends Hs{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}var TO=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Cs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),IO=[502,503,504];async function $v(n){var e;if(!lO(n))throw new Dp(Cs(n),0);if(IO.includes(n.status))throw new Dp(Cs(n),n.status);let t;try{t=await n.json()}catch(a){throw new tT(Cs(a),a)}let r;const s=_O(n);if(s&&s.getTime()>=YA["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new zv(Cs(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pi}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new zv(Cs(t),n.status,t.weak_password.reasons);throw new vO(Cs(t),n.status||500,r)}const SO=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};async function Oe(n,e,t,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[xp]||(a[xp]=YA["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await kO(n,e,t+d,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function kO(n,e,t,r,s,a){const u=SO(e,r,s,a);let d;try{d=await n(t,Object.assign({},u))}catch(f){throw console.error(f),new Dp(Cs(f),0)}if(d.ok||await $v(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(f){await $v(f)}}function bi(n){var e;let t=null;bO(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=sO(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function qv(n){const e=bi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Vi(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function RO(n){return{data:n,error:null}}function CO(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:a}=n,u=TO(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:a},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function PO(n){return n}function bO(n){return n.access_token&&n.refresh_token&&n.expires_in}var xO=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class DO{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=ZA(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Vi})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=xO(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:CO,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Se(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vi})}catch(t){if(Se(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,a,u,d,f;try{const p={nextPage:null,lastPage:0,total:0},_=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:PO});if(_.error)throw _.error;const w=await _.json(),A=(u=_.headers.get("x-total-count"))!==null&&u!==void 0?u:0,I=(f=(d=_.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return I.length>0&&(I.forEach(P=>{const D=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(P.split(";")[1].split("=")[1]);p[`${k}Page`]=D}),p.total=parseInt(A)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(Se(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vi})}catch(t){if(Se(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Vi})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Vi})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}}}const OO={getItem:n=>Ml()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Ml()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Ml()&&globalThis.localStorage.removeItem(n)}};function Hv(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function NO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bo={debug:!!(globalThis&&Ml()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nT extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class LO extends nT{}async function VO(n,e,t){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw Bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new LO(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Bo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}NO();const MO={url:nO,storageKey:rO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Tl=30*1e3,Wv=3;async function Kv(n,e,t){return await t()}class Ql{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ql.nextInstanceID,Ql.nextInstanceID+=1,this.instanceID>0&&hr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},MO),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new DO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ZA(s.fetch),this.lock=s.lock||Kv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:hr()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=VO:this.lock=Kv,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ml()?this.storage=OO:(this.memoryStorage={},this.storage=Hv(this.memoryStorage)):(this.memoryStorage={},this.storage=Hv(this.memoryStorage)),hr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${XA}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=aO(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),hr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),AO(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Se(t)?{error:t}:{error:new tT("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:bi}),{data:u,error:d}=a;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,s;try{let a;if("email"in e){const{email:_,password:w,options:A}=e;let I=null,P=null;this.flowType==="pkce"&&([I,P]=await jo(this.storage,this.storageKey)),a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:_,password:w,data:(t=A==null?void 0:A.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:I,code_challenge_method:P},xform:bi})}else if("phone"in e){const{phone:_,password:w,options:A}=e;a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:w,data:(r=A==null?void 0:A.data)!==null&&r!==void 0?r:{},channel:(s=A==null?void 0:A.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:bi})}else throw new Bc("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:u,options:d}=e;t=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:qv})}else if("phone"in e){const{phone:a,password:u,options:d}=e;t=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:qv})}else throw new Bc("You must provide either an email or phone number and a password");const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await Fc(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t??"").split("/");try{const{data:a,error:u}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:bi});if(await jc(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Wf}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:u})}catch(a){if(Se(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:a,nonce:u}=e,d=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:bi}),{data:f,error:p}=d;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Wf}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,s,a,u;try{if("email"in e){const{email:d,options:f}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await jo(this.storage,this.storageKey));const{error:w}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in e){const{phone:d,options:f}=e,{data:p,error:_}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:_}}throw new Bc("You must provide either an email or phone number.")}catch(d){if(Se(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var t,r;try{let s,a;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:d}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:bi});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(s){if(Se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,r,s;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await jo(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:RO})}catch(a){if(Se(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Pi;const{error:s}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:u}=await Oe(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:s,options:a}=e,{data:u,error:d}=await Oe(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Bc("You must provide either an email or phone number and a type")}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Fc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,p,_)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,_))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vi}):await this._useSession(async t=>{var r,s,a;const{data:u,error:d}=t;if(d)throw d;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pi}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Vi})})}catch(t){if(Se(t))return EO(t)&&(await this._removeSession(),await jc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Pi;const u=s.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await jo(this.storage,this.storageKey));const{data:p,error:_}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:Vi});if(_)throw _;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return jv(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pi;const t=Date.now()/1e3;let r=t,s=!0,a=null;const u=jv(e.access_token);if(u.exp&&(r=u.exp,s=r<=t),s){const{session:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Se(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:u,error:d}=t;if(d)throw d;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pi;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!hr())throw new zc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Bv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zc("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Bv("No code detected.");const{data:U,error:q}=await this._exchangeCodeForSession(e.code);if(q)throw q;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:u,expires_in:d,expires_at:f,token_type:p}=e;if(!a||!d||!u||!p)throw new zc("No session defined in URL");const _=Math.round(Date.now()/1e3),w=parseInt(d);let A=_+w;f&&(A=parseInt(f));const I=A-_;I*1e3<=Tl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${I}s, should have been closer to ${w}s`);const P=A-w;_-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,A,_):_-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,A,_);const{data:D,error:k}=await this._getUser(a);if(k)throw k;const V={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:w,expires_at:A,refresh_token:u,token_type:p,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:e.type},error:null}}catch(r){if(Se(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Fc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:a}=t;if(a)return{error:a};const u=(r=s.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(wO(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await jc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=oO(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:a},error:u}=t;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await jo(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Se(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Se(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:s}=await this._useSession(async a=>{var u,d,f,p,_;const{data:w,error:A}=a;if(A)throw A;const I=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",I,{headers:this.headers,jwt:(_=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})});if(s)throw s;return hr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Se(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:a,error:u}=t;if(u)throw u;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await hO(async s=>(s>0&&await cO(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bi})),(s,a)=>{const u=200*Math.pow(2,s);return a&&Kf(a)&&Date.now()+u-r<Tl})}catch(r){if(this._debug(t,"error",r),Se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),hr()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Fc(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Fv;if(this._debug(t,`session has${a?"":" not"} expired with margin of ${Fv}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:u}=await this._callRefreshToken(r.refresh_token);u&&(console.error(u),Kf(u)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yh;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new Pi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={session:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(s,"error",a),Se(a)){const u={session:null,error:a};return Kf(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,t)}catch(f){a.push(f)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await eT(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await jc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&hr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Tl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Tl}ms, refresh threshold is ${Wv} ticks`),s<=Wv&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof nT)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await jo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(d.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;return a?{data:null,error:a}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:a,error:u}=t;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:p}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((s=f==null?void 0:f.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(t){if(Se(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;if(a)return{data:null,error:a};const{data:u,error:d}=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(t){if(Se(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:a}=t;return a?{data:null,error:a}:await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Se(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],s=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const u=this._decodeJWT(s.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const _=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:_},error:null}}))}}Ql.nextInstanceID=0;const UO=Ql;class FO extends UO{constructor(e){super(e)}}var jO=function(n,e,t,r){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function d(_){try{p(r.next(_))}catch(w){u(w)}}function f(_){try{p(r.throw(_))}catch(w){u(w)}}function p(_){_.done?a(_.value):s(_.value).then(d,f)}p((r=r.apply(n,e||[])).next())})};class BO{constructor(e,t,r){var s,a,u;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const d=eO(e);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:WD,realtime:GD,auth:Object.assign(Object.assign({},KD),{storageKey:f}),global:HD},_=tO(r??{},p);this.storageKey=(s=_.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=_.global.headers)!==null&&a!==void 0?a:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(w,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=_.auth)!==null&&u!==void 0?u:{},this.headers,_.global.fetch),this.fetch=YD(t,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new fD(`${d}/rest/v1`,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),_.accessToken||this._listenForAuthEvents()}get functions(){return new tD(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zD(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return jO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:a,flowType:u,lock:d,debug:f},p,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FO({url:this.authUrl,headers:Object.assign(Object.assign({},w),p),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:u,lock:d,debug:f,fetch:_,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new CD(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zO=(n,e,t)=>new BO(n,e,t),$O="https://hrumvvkyselhzjfvtcql.supabase.co",qO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhydW12dmt5c2VsaHpqZnZ0Y3FsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc1NTc2OTgsImV4cCI6MjA1MzEzMzY5OH0.YgtTYbHd3pUtJAyVuIeUuKIbE2zvV-_1ldLgcCixZcE",Gv=zO($O,qO),rT=async n=>{try{if(!n)throw new Error("No file provided");const e=n.name.split(".").pop(),t=`images/${Date.now()}.${e}`,{data:r,error:s}=await Gv.storage.from("uploads").upload(t,n,{cacheControl:"3600",upsert:!0});if(s)throw s;const{data:a}=Gv.storage.from("uploads").getPublicUrl(t);return a.publicUrl}catch(e){return console.error("Upload Error:",e),null}},HO=()=>{const{userData:n,messagesId:e,chatUser:t,messages:r,setMessages:s,chatVisible:a,setChatVisible:u}=z.useContext($s),[d,f]=z.useState(""),p=async A=>{try{d&&e&&(await Xn(Ot(At,"messages",e),{messages:Ah({sId:n.id,text:d,createdAt:new Date})}),[t.rId,n.id].forEach(async P=>{const D=Ot(At,"chats",P),k=await Kr(D);if(k.exists()){const V=k.data(),U=V.chatsData.findIndex(q=>q.messageId===e);V.chatsData[U].lastMessage=d.slice(0,30),V.chatsData[U].updatedAt=Date.now(),V.chatsData[U].rId===n.id&&(V.chatsData[U].messageSeen=!1),await Xn(D,{chatsData:V.chatsData})}}))}catch(I){ke.error(I.message),console.error(I)}f("")},_=async A=>{try{const I=await rT(A.target.files[0]);I&&e&&(await Xn(Ot(At,"messages",e),{messages:Ah({sId:n.id,image:I,createdAt:new Date})}),[t.rId,n.id].forEach(async D=>{const k=Ot(At,"chats",D),V=await Kr(k);if(V.exists()){const U=V.data(),q=U.chatsData.findIndex(G=>G.messageId===e);U.chatsData[q].lastMessage="image",U.chatsData[q].updatedAt=Date.now(),U.chatsData[q].rId===n.id&&(U.chatsData[q].messageSeen=!1),await Xn(k,{chatsData:U.chatsData})}}))}catch(I){ke.error(I.message)}},w=A=>{let I=A.toDate();const P=I.getHours(),D=I.getMinutes();return P>12?P-12+":"+D.toString().padStart(2,"0")+"PM":P+":"+D+"AM"};return z.useEffect(()=>{if(e){const A=CA(Ot(At,"messages",e),I=>{s(I.data().messages.reverse()),console.log(I.data().messages)});return()=>{A()}}},[e]),t?Y.jsxs("div",{className:`chat-box ${a?"":"hidden"}`,children:[Y.jsxs("div",{className:"chat-user",children:[Y.jsx("img",{src:t.userData.avatar,alt:""}),Y.jsxs("p",{children:[t.userData.name," ",Date.now()-t.userData.lastSeen<=7e3?Y.jsx("img",{src:An.dot_green,className:"dot",alt:""}):null,"  "]}),Y.jsx("img",{src:An.help,alt:""}),Y.jsx("img",{onClick:()=>u(!1),src:An.arrow,className:"arrow",alt:""})]}),Y.jsx("div",{className:"chat-msg",children:r.map((A,I)=>Y.jsxs("div",{className:A.sId===n.id?"s-msg":"r-msg",children:[A.image?Y.jsx("img",{className:"msg-img",src:A.image,alt:""}):Y.jsxs("p",{className:"msg",children:[A.text," "]}),Y.jsxs("div",{children:[Y.jsx("img",{src:A.sId===n.id?n.avatar:t.userData.avatar,alt:""}),Y.jsx("p",{children:w(A.createdAt)})]})]},I))}),Y.jsxs("div",{className:"chat-input",children:[Y.jsx("input",{onChange:A=>f(A.target.value),value:d,type:"text",placeholder:"Send a message"}),Y.jsx("input",{onChange:_,type:"file",id:"image",accept:"image/png, image/jpeg, image/jpg",hidden:!0}),Y.jsx("label",{htmlFor:"image",children:Y.jsx("img",{src:An.gallery,alt:""})}),Y.jsx("img",{onClick:p,src:An.send,alt:""})]})]}):Y.jsxs("div",{className:`chat-welcome ${a?"":"hidden"}`,children:[Y.jsx("img",{src:An.chief_logo_main,alt:""}),Y.jsx("p",{children:"ChiefGram! Chat like a Chief "})]})},WO=()=>{const{chatUser:n,messages:e}=z.useContext($s),[t,r]=z.useState([]);return z.useEffect(()=>{let s=[];e.map(a=>{a.image&&s.push(a.image)}),r(s)},[e]),n?Y.jsxs("div",{className:"rs",children:[Y.jsxs("div",{className:"rs-profile",children:[Y.jsx("img",{src:n.userData.avatar,alt:""}),Y.jsxs("h3",{children:[" ",Date.now()-n.userData.lastSeen<=7e4?Y.jsx("img",{src:An.dot_green,alt:"",className:"dot"}):null,n.userData.name," "]}),Y.jsx("p",{children:n.userData.bio})]}),Y.jsx("hr",{}),Y.jsxs("div",{className:"rs-media",children:[Y.jsx("p",{children:"Media"}),Y.jsx("div",{children:t.map((s,a)=>Y.jsx("img",{onClick:()=>window.open(s),src:s,alt:""},a))})]}),Y.jsx("button",{onClick:()=>Sp(),children:"Logout"})]}):Y.jsx("div",{className:"rs",children:Y.jsx("button",{onClick:()=>Sp(),children:"Logout"})})},KO=()=>{const{chatData:n,userData:e}=z.useContext($s),[t,r]=z.useState(!0);return z.useEffect(()=>{n&&e&&r(!1)},[n,e]),Y.jsx("div",{className:"chat",children:t?Y.jsx("p",{className:"loading",children:"Loading..."}):Y.jsxs("div",{className:"chat-container",children:[Y.jsx(Kx,{}),Y.jsx(HO,{}),Y.jsx(WO,{})]})})},GO=()=>{const n=Yl(),[e,t]=z.useState(null),[r,s]=z.useState(""),[a,u]=z.useState(""),[d,f]=z.useState(""),[p,_]=z.useState(""),{setUserData:w}=z.useContext($s),A=async I=>{I.preventDefault();try{!p&&!e&&ke.error("Upload profile pic");const P=Ot(At,"users",d);if(e){const k=await rT(e);_(k),await Xn(P,{avatar:k,name:r,bio:a})}else await Xn(P,{name:r,bio:a});const D=await Kr(P);w(D.data()),n("/chat")}catch(P){console.error(P),ke.error(P.message)}};return z.useEffect(()=>{Gw(zs,async I=>{if(I){f(I.uid);const P=Ot(At,"users",I.uid),D=await Kr(P);D.data().name&&s(D.data().name),D.data().bio&&u(D.data().bio),D.data().avatar&&_(D.data().avatar)}else n("/")})},[]),Y.jsx("div",{className:"profile",children:Y.jsxs("div",{className:"profile-container",children:[Y.jsxs("form",{onSubmit:A,children:[Y.jsx("h3",{children:"Profile Details"}),Y.jsxs("label",{htmlFor:"avatar",children:[Y.jsx("input",{onChange:I=>t(I.target.files[0]),type:"file",id:"avatar",accept:".png, .jpg, .jpeg, .webp",hidden:!0}),Y.jsx("img",{src:e?URL.createObjectURL(e):An.avatar,alt:""}),"Upload profile image"]}),Y.jsx("input",{onChange:I=>s(I.target.value),value:r,type:"text",placeholder:"Your name",required:!0}),Y.jsx("textarea",{onChange:I=>u(I.target.value),value:a,placeholder:"Write profile bio",required:!0}),Y.jsx("button",{type:"submit",children:"Save"})]}),Y.jsx("img",{className:"profile-pic",src:e?URL.createObjectURL(e):p||An.chief_logo_main,alt:""})]})})},QO=()=>{const n=Yl(),{loadUserData:e}=z.useContext($s);return z.useEffect(()=>{Gw(zs,async t=>{t?(n("/chat"),console.log(t),await e(t.uid)):n("/")})},[]),Y.jsxs(Y.Fragment,{children:[Y.jsx(jx,{}),Y.jsxs(oI,{children:[Y.jsx($c,{path:"/",element:Y.jsx(Hx,{})}),Y.jsx($c,{path:"/chat",element:Y.jsx(KO,{})}),Y.jsx($c,{path:"/profile",element:Y.jsx(GO,{})})]})]})};g0.createRoot(document.getElementById("root")).render(Y.jsx(bI,{children:Y.jsx(Wx,{children:Y.jsx(QO,{})})}));export{Op as g};
